@page "/property-cost"


<RadzenRow AlignItems="AlignItems.Center" Style="margin-bottom:10px">
    <RadzenColumn Size="12" SizeMD="6">
        <RadzenText Text="@propName" TextStyle="TextStyle.H6" TagName="TagName.H1" style="margin:0; font-size:13px" />
    </RadzenColumn>
    <RadzenColumn Size="12" SizeMD="6">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="0.5rem">
        </RadzenStack>
    </RadzenColumn>
</RadzenRow>
<RadzenCard>
    <RadzenTemplateForm TItem="Property" Data=@property Submit="@((Property args) => { Submit(args); })">
        <RadzenAlert Visible="@(!string.IsNullOrEmpty(errorMessage))" 
                     Text="@errorMessage" 
                     Style="color: red; font-weight: bold; font-size: large; margin-bottom: 20px;" />

        <!-- Row 1: Cleaning Fee, Owner Text, Supply Cost, Bid -->
        <RadzenRow Style="margin-bottom: 20px;">
            <RadzenColumn Size="3">
                <RadzenLabel Text="Cleaning Fee" Component="Cleaningfee" />
                <RadzenNumeric @bind-Value="@property.Cleaningfee"
                               Name="Cleaningfee" ShowUpDown="false"
                              Style="width: 100%" />
            </RadzenColumn>
            <RadzenColumn Size="3">
                <RadzenLabel Text="MGT Rate" Component="Mgtrate" />
                <RadzenNumeric @bind-Value="@property.Mgtrate"
                               Name="Mgtrate" ShowUpDown="false"
                               Style="width: 100%" />
            </RadzenColumn>
            <RadzenColumn Size="3">
                <RadzenLabel Text="Supply Cost" Component="SupplyCost" />
                <RadzenNumeric @bind-Value="@property.SupplyCost"
                               Name="SupplyCost" ShowUpDown="false"
                              Style="width: 100%" />
            </RadzenColumn>
            <RadzenColumn Size="3">
                <RadzenLabel Text="Bid" Component="Cleaningfeebid" />
                <RadzenNumeric @bind-Value="@property.Cleaningfeebid"
                               Name="Cleaningfeebid" ShowUpDown="false"
                              Style="width: 100%" />
            </RadzenColumn>
        </RadzenRow>

        <!-- Row 2: Cleaner, Owner Login, Deposit, Last Update -->
        <RadzenRow Style="margin-bottom: 20px;">
            <RadzenColumn Size="3">
                <RadzenLabel Text="Cleaner" Component="Cleanerassigned" />
                <RadzenDropDown @bind-Value="@(property.Cleanerassigned)"
                                Data="@(propertyCleaners)"
                                ValueProperty="CleanerId"
                                TextProperty="Name"
                                Placeholder="Choose Cleaners"
                                Name="Cleanerassigned"
                                Style="width: 100%" />
                <RadzenRequiredValidator Component="Cleanerassigned" Text="Property Cleaner is required" />
            </RadzenColumn>
            <RadzenColumn Size="3">
                <RadzenLabel Text="Owner Login" Component="Owner" />
                <RadzenDropDown @bind-Value="@(property.Owner)"
                                Data="@(ownerLogins)"
                                ValueProperty="TenantId"
                                TextProperty="OwnerName"
                                Placeholder="Choose Owner"
                                Name="Owner"
                                Style="width: 100%" />
                <RadzenRequiredValidator Component="Owner" Text="Owner Login is required" />

            </RadzenColumn>
            <RadzenColumn Size="3">
                <RadzenLabel Text="Deposit" Component="Deposit" />
                <RadzenNumeric @bind-Value="@property.Deposit"
                               Name="Deposit" ShowUpDown="false"
                              Style="width: 100%" />
            </RadzenColumn>
            <RadzenColumn Size="3">
                <RadzenLabel Text="Last Update" Component="DateLastUpdated" />
                <RadzenDatePicker @bind-Value="@property.DateLastUpdated"
                                  Name="DateLastUpdated"
                                  Style="width: 100%" />
            </RadzenColumn>
        </RadzenRow>

        <!-- Row 3: MGT Rate, Lat, Long, (Empty for spacing) -->
        <RadzenRow Style="margin-bottom: 20px;">
            <RadzenColumn Size="3">
                <RadzenLabel Text="Lat" Component="Lat" />
                <RadzenNumeric @bind-Value="@property.Lat"
                               Name="Lat" ShowUpDown="false"
                              Style="width: 100%" 
                              Step="0.000001" />
            </RadzenColumn>
            <RadzenColumn Size="3">
                <RadzenLabel Text="Long" Component="Long" />
                <RadzenNumeric @bind-Value="@property.Long"
                               Name="Long" ShowUpDown="false"
                              Style="width: 100%" 
                              Step="0.000001" />
            </RadzenColumn>
            <RadzenColumn Size="3"></RadzenColumn>
        </RadzenRow>

        <RadzenRow Style="margin-bottom: 10px;">
            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.Start" Gap="0.5rem">
                <RadzenButton ButtonStyle="ButtonStyle.Primary" ButtonType="ButtonType.Submit" Icon="Update" Text="Save" Variant="Variant.Flat" />
                <RadzenButton ButtonStyle="ButtonStyle.Primary" Text="Cancel" Variant="Variant.Flat" />
            </RadzenStack>
        </RadzenRow>
    </RadzenTemplateForm>
</RadzenCard>

