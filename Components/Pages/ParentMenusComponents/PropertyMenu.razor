@page "/property-menu"

<PageTitle>Property menu</PageTitle>

 <style>
    .menu-tree, .menu-tree ul {
        list-style: none;
        padding-left: 0;
        margin-left: 0;
    }

    .rz-panel-titlebar {
        flex-direction: row-reverse;
        justify-content: right;
    }

    .menu-frame {
        width: 100%;
        height: 600px;
        border: none;
        margin-top: 20px;
    }

    .menu, .list-group {
        list-style-type: none;
        padding-left: 0;
    }

    .menu-tree li, .list-group-item {
        position: relative;
        list-style-type: none;
        padding: 8px 15px;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        margin-bottom: 5px;
        background-color: white;
        transition: all 0.2s ease;
    }

    .list-group-item:hover {
        background-color: #f8f9fa;
    }

    .menu-label, .menu-link {
        cursor: pointer;
        padding: 2px 7px;
        border-radius: 4px;
        display: inline-block;
        user-select: none;
        transition: background 0.2s ease;
    }

    .menu-link {
        color: green;
        text-decoration: none;
    }

    .menu-link:hover {
        background-color: #e9f5ff;
        text-decoration: underline;
    }

    .menu-label:hover {
        background-color: #f8f9fa;
    }

    .submenu {
        margin-left: 1.25rem;
        border-left: 2px solid #dee2e6;
        padding-left: 0.75rem;
        margin-top: 0.25rem;
    }

    .toggle-icon {
        font-size: 0.85rem;
        margin-right: 6px;
        cursor: pointer;
        user-select: none;
        display: inline-block;
        width: 1rem;
        text-align: center;
        color: #6c757d;
    }

    .menu-label {
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .list-group .list-group {
        margin-top: 8px;
    }

    .list-group .list-group .list-group-item {
        padding-left: 30px;
    }

</style>

<RadzenPanel AllowCollapse="true" Collapsed="isPanelCollapsed" class="rz-my-10 rz-mx-auto" Style="margin-top:0px !important;margin-bottom:7px !important"
             Expand=@(() => Change("Panel expanded"))>

    @if (menuItems == null)
    {
        <RadzenProgressBar Mode="ProgressBarMode.Indeterminate" />
    }
    else
    {
        <RadzenRow class="rz-p-0 rz-p-lg-12">
            <RadzenColumn Size="12" SizeLG="4" Style="min-width: 100% !important">
                <RadzenText TextStyle="TextStyle.Body2" class="rz-mb-2">
                    <b>Property Menus</b>
                </RadzenText>
                    <ul class="menu list-group">
                        @foreach (var item in menuItems)
                        {
                            @RenderMenuItem(item, 0)
                        }
                    </ul>
            </RadzenColumn>
        </RadzenRow>
    }
</RadzenPanel>

    @if (loadedComponent.HasValue){
        <DynamicComponent Type="loadedComponent?.Type" Parameters="loadedComponent?.Parameters" />
    }

