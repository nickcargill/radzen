using System;
using System.Data;
using System.Linq;
using System.Linq.Dynamic.Core;
using System.Collections.Generic;
using System.Threading.Tasks;
using System.Text.Encodings.Web;
using Microsoft.AspNetCore.Components;
using Microsoft.Data.SqlClient;
using Microsoft.EntityFrameworkCore;
using Radzen;

using Destination.Data;
using Destination.Shared.DTO;
using static Destination.Shared.DTO.AllDropDownValues;
using DocumentFormat.OpenXml.Office2010.Excel;
using Microsoft.EntityFrameworkCore.Internal;

namespace Destination
{
    public partial class destinationTestService
    {
        private readonly IDbContextFactory<destinationTestContext> _dbcontextFactory;
        private readonly NavigationManager navigationManager;

        public destinationTestService(
            IDbContextFactory<destinationTestContext> dbcontextFactory,
            NavigationManager navigationManager)
        {
            this._dbcontextFactory = dbcontextFactory;
            this.navigationManager = navigationManager;
        }

        public async void Reset()
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();
            context.ChangeTracker.Entries()
                   .Where(e => e.Entity != null)
                   .ToList()
                   .ForEach(e => e.State = EntityState.Detached);
        }

        public void ApplyQuery<T>(ref IQueryable<T> items, Query query = null)
        {
            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Filter))
                {
                    if (query.FilterParameters != null)
                    {
                        items = items.Where(query.Filter, query.FilterParameters);
                    }
                    else
                    {
                        items = items.Where(query.Filter);
                    }
                }

                if (!string.IsNullOrEmpty(query.OrderBy))
                {
                    items = items.OrderBy(query.OrderBy);
                }

                if (query.Skip.HasValue)
                {
                    items = items.Skip(query.Skip.Value);
                }

                if (query.Top.HasValue)
                {
                    items = items.Take(query.Top.Value);
                }
            }
        }


        public async Task ExportAffiliateBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatebookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatebookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliateBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatebookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatebookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliateBookingsRead(ref IQueryable<Destination.Models.destinationTest.AffiliateBooking> items);

        public async Task<List<Destination.Models.destinationTest.AffiliateBooking>> GetAffiliateBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();
            var items = context.AffiliateBookings.AsQueryable();

            items = items.Include(i => i.Affiliate);
            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliateBookingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAffiliateBookingGet(Destination.Models.destinationTest.AffiliateBooking item);
        partial void OnGetAffiliateBookingByAffiliateBookingId(ref IQueryable<Destination.Models.destinationTest.AffiliateBooking> items);


        public async Task<Destination.Models.destinationTest.AffiliateBooking> GetAffiliateBookingByAffiliateBookingId(int affiliatebookingid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();
            var items = context.AffiliateBookings
                              .AsNoTracking()
                              .Where(i => i.AffiliateBookingId == affiliatebookingid);

            items = items.Include(i => i.Affiliate);
            items = items.Include(i => i.Booking);
 
            OnGetAffiliateBookingByAffiliateBookingId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAffiliateBookingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAffiliateBookingCreated(Destination.Models.destinationTest.AffiliateBooking item);
        partial void OnAfterAffiliateBookingCreated(Destination.Models.destinationTest.AffiliateBooking item);

        public async Task<Destination.Models.destinationTest.AffiliateBooking> CreateAffiliateBooking(Destination.Models.destinationTest.AffiliateBooking affiliatebooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateBookingCreated(affiliatebooking);

            var existingItem = context.AffiliateBookings
                              .Where(i => i.AffiliateBookingId == affiliatebooking.AffiliateBookingId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AffiliateBookings.Add(affiliatebooking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(affiliatebooking).State = EntityState.Detached;
                throw;
            }

            OnAfterAffiliateBookingCreated(affiliatebooking);

            return affiliatebooking;
        }

        public async Task<Destination.Models.destinationTest.AffiliateBooking> CancelAffiliateBookingChanges(Destination.Models.destinationTest.AffiliateBooking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAffiliateBookingUpdated(Destination.Models.destinationTest.AffiliateBooking item);
        partial void OnAfterAffiliateBookingUpdated(Destination.Models.destinationTest.AffiliateBooking item);

        public async Task<Destination.Models.destinationTest.AffiliateBooking> UpdateAffiliateBooking(int affiliatebookingid, Destination.Models.destinationTest.AffiliateBooking affiliatebooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateBookingUpdated(affiliatebooking);

            var itemToUpdate = context.AffiliateBookings
                              .Where(i => i.AffiliateBookingId == affiliatebooking.AffiliateBookingId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(affiliatebooking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAffiliateBookingUpdated(affiliatebooking);

            return affiliatebooking;
        }

        partial void OnAffiliateBookingDeleted(Destination.Models.destinationTest.AffiliateBooking item);
        partial void OnAfterAffiliateBookingDeleted(Destination.Models.destinationTest.AffiliateBooking item);

        public async Task<Destination.Models.destinationTest.AffiliateBooking> DeleteAffiliateBooking(int affiliatebookingid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AffiliateBookings
                              .Where(i => i.AffiliateBookingId == affiliatebookingid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAffiliateBookingDeleted(itemToDelete);


            context.AffiliateBookings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAffiliateBookingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAffiliateCollaborationsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatecollaborations/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatecollaborations/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliateCollaborationsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatecollaborations/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatecollaborations/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliateCollaborationsRead(ref IQueryable<Destination.Models.destinationTest.AffiliateCollaboration> items);

        public async Task<List<Destination.Models.destinationTest.AffiliateCollaboration>> GetAffiliateCollaborations(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliateCollaborations.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliateCollaborationsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAffiliateCollaborationGet(Destination.Models.destinationTest.AffiliateCollaboration item);
        partial void OnGetAffiliateCollaborationById(ref IQueryable<Destination.Models.destinationTest.AffiliateCollaboration> items);


        public async Task<Destination.Models.destinationTest.AffiliateCollaboration> GetAffiliateCollaborationById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliateCollaborations
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAffiliateCollaborationById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAffiliateCollaborationGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAffiliateCollaborationCreated(Destination.Models.destinationTest.AffiliateCollaboration item);
        partial void OnAfterAffiliateCollaborationCreated(Destination.Models.destinationTest.AffiliateCollaboration item);

        public async Task<Destination.Models.destinationTest.AffiliateCollaboration> CreateAffiliateCollaboration(Destination.Models.destinationTest.AffiliateCollaboration affiliatecollaboration)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateCollaborationCreated(affiliatecollaboration);

            var existingItem = context.AffiliateCollaborations
                              .Where(i => i.Id == affiliatecollaboration.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AffiliateCollaborations.Add(affiliatecollaboration);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(affiliatecollaboration).State = EntityState.Detached;
                throw;
            }

            OnAfterAffiliateCollaborationCreated(affiliatecollaboration);

            return affiliatecollaboration;
        }

        public async Task<Destination.Models.destinationTest.AffiliateCollaboration> CancelAffiliateCollaborationChanges(Destination.Models.destinationTest.AffiliateCollaboration item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAffiliateCollaborationUpdated(Destination.Models.destinationTest.AffiliateCollaboration item);
        partial void OnAfterAffiliateCollaborationUpdated(Destination.Models.destinationTest.AffiliateCollaboration item);

        public async Task<Destination.Models.destinationTest.AffiliateCollaboration> UpdateAffiliateCollaboration(int id, Destination.Models.destinationTest.AffiliateCollaboration affiliatecollaboration)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateCollaborationUpdated(affiliatecollaboration);

            var itemToUpdate = context.AffiliateCollaborations
                              .Where(i => i.Id == affiliatecollaboration.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(affiliatecollaboration);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAffiliateCollaborationUpdated(affiliatecollaboration);

            return affiliatecollaboration;
        }

        partial void OnAffiliateCollaborationDeleted(Destination.Models.destinationTest.AffiliateCollaboration item);
        partial void OnAfterAffiliateCollaborationDeleted(Destination.Models.destinationTest.AffiliateCollaboration item);

        public async Task<Destination.Models.destinationTest.AffiliateCollaboration> DeleteAffiliateCollaboration(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();
            var itemToDelete = context.AffiliateCollaborations
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAffiliateCollaborationDeleted(itemToDelete);


            context.AffiliateCollaborations.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAffiliateCollaborationDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAffiliateCommissionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatecommissions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatecommissions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliateCommissionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatecommissions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatecommissions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliateCommissionsRead(ref IQueryable<Destination.Models.destinationTest.AffiliateCommission> items);

        public async Task<List<Destination.Models.destinationTest.AffiliateCommission>> GetAffiliateCommissions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();
            var items = context.AffiliateCommissions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliateCommissionsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAffiliateCommissionGet(Destination.Models.destinationTest.AffiliateCommission item);
        partial void OnGetAffiliateCommissionByAffiliateCommissionId(ref IQueryable<Destination.Models.destinationTest.AffiliateCommission> items);


        public async Task<Destination.Models.destinationTest.AffiliateCommission> GetAffiliateCommissionByAffiliateCommissionId(int affiliatecommissionid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();
            var items = context.AffiliateCommissions
                              .AsNoTracking()
                              .Where(i => i.AffiliateCommissionId == affiliatecommissionid);

 
            OnGetAffiliateCommissionByAffiliateCommissionId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAffiliateCommissionGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAffiliateCommissionCreated(Destination.Models.destinationTest.AffiliateCommission item);
        partial void OnAfterAffiliateCommissionCreated(Destination.Models.destinationTest.AffiliateCommission item);

        public async Task<Destination.Models.destinationTest.AffiliateCommission> CreateAffiliateCommission(Destination.Models.destinationTest.AffiliateCommission affiliatecommission)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateCommissionCreated(affiliatecommission);

            var existingItem = context.AffiliateCommissions
                              .Where(i => i.AffiliateCommissionId == affiliatecommission.AffiliateCommissionId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AffiliateCommissions.Add(affiliatecommission);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(affiliatecommission).State = EntityState.Detached;
                throw;
            }

            OnAfterAffiliateCommissionCreated(affiliatecommission);

            return affiliatecommission;
        }

        public async Task<Destination.Models.destinationTest.AffiliateCommission> CancelAffiliateCommissionChanges(Destination.Models.destinationTest.AffiliateCommission item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAffiliateCommissionUpdated(Destination.Models.destinationTest.AffiliateCommission item);
        partial void OnAfterAffiliateCommissionUpdated(Destination.Models.destinationTest.AffiliateCommission item);

        public async Task<Destination.Models.destinationTest.AffiliateCommission> UpdateAffiliateCommission(int affiliatecommissionid, Destination.Models.destinationTest.AffiliateCommission affiliatecommission)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateCommissionUpdated(affiliatecommission);

            var itemToUpdate = context.AffiliateCommissions
                              .Where(i => i.AffiliateCommissionId == affiliatecommission.AffiliateCommissionId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(affiliatecommission);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAffiliateCommissionUpdated(affiliatecommission);

            return affiliatecommission;
        }

        partial void OnAffiliateCommissionDeleted(Destination.Models.destinationTest.AffiliateCommission item);
        partial void OnAfterAffiliateCommissionDeleted(Destination.Models.destinationTest.AffiliateCommission item);

        public async Task<Destination.Models.destinationTest.AffiliateCommission> DeleteAffiliateCommission(int affiliatecommissionid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AffiliateCommissions
                              .Where(i => i.AffiliateCommissionId == affiliatecommissionid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAffiliateCommissionDeleted(itemToDelete);


            context.AffiliateCommissions.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAffiliateCommissionDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAffiliatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliatesRead(ref IQueryable<Destination.Models.destinationTest.Affiliate> items);

        public async Task<List<Destination.Models.destinationTest.Affiliate>> GetAffiliates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Affiliates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAffiliateGet(Destination.Models.destinationTest.Affiliate item);
        partial void OnGetAffiliateByAffiliateId(ref IQueryable<Destination.Models.destinationTest.Affiliate> items);


        public async Task<Destination.Models.destinationTest.Affiliate> GetAffiliateByAffiliateId(int affiliateid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Affiliates
                              .AsNoTracking()
                              .Where(i => i.AffiliateId == affiliateid);

 
            OnGetAffiliateByAffiliateId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAffiliateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAffiliateCreated(Destination.Models.destinationTest.Affiliate item);
        partial void OnAfterAffiliateCreated(Destination.Models.destinationTest.Affiliate item);

        public async Task<Destination.Models.destinationTest.Affiliate> CreateAffiliate(Destination.Models.destinationTest.Affiliate affiliate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateCreated(affiliate);

            var existingItem = context.Affiliates
                              .Where(i => i.AffiliateId == affiliate.AffiliateId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Affiliates.Add(affiliate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(affiliate).State = EntityState.Detached;
                throw;
            }

            OnAfterAffiliateCreated(affiliate);

            return affiliate;
        }

        public async Task<Destination.Models.destinationTest.Affiliate> CancelAffiliateChanges(Destination.Models.destinationTest.Affiliate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAffiliateUpdated(Destination.Models.destinationTest.Affiliate item);
        partial void OnAfterAffiliateUpdated(Destination.Models.destinationTest.Affiliate item);

        public async Task<Destination.Models.destinationTest.Affiliate> UpdateAffiliate(int affiliateid, Destination.Models.destinationTest.Affiliate affiliate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliateUpdated(affiliate);

            var itemToUpdate = context.Affiliates
                              .Where(i => i.AffiliateId == affiliate.AffiliateId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(affiliate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAffiliateUpdated(affiliate);

            return affiliate;
        }

        partial void OnAffiliateDeleted(Destination.Models.destinationTest.Affiliate item);
        partial void OnAfterAffiliateDeleted(Destination.Models.destinationTest.Affiliate item);

        public async Task<Destination.Models.destinationTest.Affiliate> DeleteAffiliate(int affiliateid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Affiliates
                              .Where(i => i.AffiliateId == affiliateid)
                              .Include(i => i.AffiliateBookings)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAffiliateDeleted(itemToDelete);


            context.Affiliates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAffiliateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAffiliatesCommunicationsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatescommunications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatescommunications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliatesCommunicationsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatescommunications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatescommunications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliatesCommunicationsRead(ref IQueryable<Destination.Models.destinationTest.AffiliatesCommunication> items);

        public async Task<List<Destination.Models.destinationTest.AffiliatesCommunication>> GetAffiliatesCommunications(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliatesCommunications.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliatesCommunicationsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAffiliatesCommunicationGet(Destination.Models.destinationTest.AffiliatesCommunication item);
        partial void OnGetAffiliatesCommunicationById(ref IQueryable<Destination.Models.destinationTest.AffiliatesCommunication> items);


        public async Task<Destination.Models.destinationTest.AffiliatesCommunication> GetAffiliatesCommunicationById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliatesCommunications
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAffiliatesCommunicationById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAffiliatesCommunicationGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAffiliatesCommunicationCreated(Destination.Models.destinationTest.AffiliatesCommunication item);
        partial void OnAfterAffiliatesCommunicationCreated(Destination.Models.destinationTest.AffiliatesCommunication item);

        public async Task<Destination.Models.destinationTest.AffiliatesCommunication> CreateAffiliatesCommunication(Destination.Models.destinationTest.AffiliatesCommunication affiliatescommunication)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliatesCommunicationCreated(affiliatescommunication);

            var existingItem = context.AffiliatesCommunications
                              .Where(i => i.Id == affiliatescommunication.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AffiliatesCommunications.Add(affiliatescommunication);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(affiliatescommunication).State = EntityState.Detached;
                throw;
            }

            OnAfterAffiliatesCommunicationCreated(affiliatescommunication);

            return affiliatescommunication;
        }

        public async Task<Destination.Models.destinationTest.AffiliatesCommunication> CancelAffiliatesCommunicationChanges(Destination.Models.destinationTest.AffiliatesCommunication item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAffiliatesCommunicationUpdated(Destination.Models.destinationTest.AffiliatesCommunication item);
        partial void OnAfterAffiliatesCommunicationUpdated(Destination.Models.destinationTest.AffiliatesCommunication item);

        public async Task<Destination.Models.destinationTest.AffiliatesCommunication> UpdateAffiliatesCommunication(int id, Destination.Models.destinationTest.AffiliatesCommunication affiliatescommunication)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliatesCommunicationUpdated(affiliatescommunication);

            var itemToUpdate = context.AffiliatesCommunications
                              .Where(i => i.Id == affiliatescommunication.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(affiliatescommunication);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAffiliatesCommunicationUpdated(affiliatescommunication);

            return affiliatescommunication;
        }

        partial void OnAffiliatesCommunicationDeleted(Destination.Models.destinationTest.AffiliatesCommunication item);
        partial void OnAfterAffiliatesCommunicationDeleted(Destination.Models.destinationTest.AffiliatesCommunication item);

        public async Task<Destination.Models.destinationTest.AffiliatesCommunication> DeleteAffiliatesCommunication(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AffiliatesCommunications
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAffiliatesCommunicationDeleted(itemToDelete);


            context.AffiliatesCommunications.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAffiliatesCommunicationDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAffiliatesDataToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatesdata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatesdata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliatesDataToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatesdata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatesdata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliatesDataRead(ref IQueryable<Destination.Models.destinationTest.AffiliatesDatum> items);

        public async Task<List<Destination.Models.destinationTest.AffiliatesDatum>> GetAffiliatesData(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliatesData.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliatesDataRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAffiliatesPropertyViewHistoriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatespropertyviewhistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatespropertyviewhistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliatesPropertyViewHistoriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatespropertyviewhistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatespropertyviewhistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliatesPropertyViewHistoriesRead(ref IQueryable<Destination.Models.destinationTest.AffiliatesPropertyViewHistory> items);

        public async Task<List<Destination.Models.destinationTest.AffiliatesPropertyViewHistory>> GetAffiliatesPropertyViewHistories(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliatesPropertyViewHistories.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliatesPropertyViewHistoriesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAffiliatesPropertyViewHistoryGet(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item);
        partial void OnGetAffiliatesPropertyViewHistoryById(ref IQueryable<Destination.Models.destinationTest.AffiliatesPropertyViewHistory> items);


        public async Task<Destination.Models.destinationTest.AffiliatesPropertyViewHistory> GetAffiliatesPropertyViewHistoryById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliatesPropertyViewHistories
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAffiliatesPropertyViewHistoryById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAffiliatesPropertyViewHistoryGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAffiliatesPropertyViewHistoryCreated(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item);
        partial void OnAfterAffiliatesPropertyViewHistoryCreated(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item);

        public async Task<Destination.Models.destinationTest.AffiliatesPropertyViewHistory> CreateAffiliatesPropertyViewHistory(Destination.Models.destinationTest.AffiliatesPropertyViewHistory affiliatespropertyviewhistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliatesPropertyViewHistoryCreated(affiliatespropertyviewhistory);

            var existingItem = context.AffiliatesPropertyViewHistories
                              .Where(i => i.Id == affiliatespropertyviewhistory.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AffiliatesPropertyViewHistories.Add(affiliatespropertyviewhistory);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(affiliatespropertyviewhistory).State = EntityState.Detached;
                throw;
            }

            OnAfterAffiliatesPropertyViewHistoryCreated(affiliatespropertyviewhistory);

            return affiliatespropertyviewhistory;
        }

        public async Task<Destination.Models.destinationTest.AffiliatesPropertyViewHistory> CancelAffiliatesPropertyViewHistoryChanges(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAffiliatesPropertyViewHistoryUpdated(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item);
        partial void OnAfterAffiliatesPropertyViewHistoryUpdated(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item);

        public async Task<Destination.Models.destinationTest.AffiliatesPropertyViewHistory> UpdateAffiliatesPropertyViewHistory(int id, Destination.Models.destinationTest.AffiliatesPropertyViewHistory affiliatespropertyviewhistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliatesPropertyViewHistoryUpdated(affiliatespropertyviewhistory);

            var itemToUpdate = context.AffiliatesPropertyViewHistories
                              .Where(i => i.Id == affiliatespropertyviewhistory.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(affiliatespropertyviewhistory);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAffiliatesPropertyViewHistoryUpdated(affiliatespropertyviewhistory);

            return affiliatespropertyviewhistory;
        }

        partial void OnAffiliatesPropertyViewHistoryDeleted(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item);
        partial void OnAfterAffiliatesPropertyViewHistoryDeleted(Destination.Models.destinationTest.AffiliatesPropertyViewHistory item);

        public async Task<Destination.Models.destinationTest.AffiliatesPropertyViewHistory> DeleteAffiliatesPropertyViewHistory(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AffiliatesPropertyViewHistories
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAffiliatesPropertyViewHistoryDeleted(itemToDelete);


            context.AffiliatesPropertyViewHistories.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAffiliatesPropertyViewHistoryDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAffiliatesTypesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatestypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatestypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAffiliatesTypesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/affiliatestypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/affiliatestypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAffiliatesTypesRead(ref IQueryable<Destination.Models.destinationTest.AffiliatesType> items);

        public async Task<List<Destination.Models.destinationTest.AffiliatesType>> GetAffiliatesTypes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliatesTypes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAffiliatesTypesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAffiliatesTypeGet(Destination.Models.destinationTest.AffiliatesType item);
        partial void OnGetAffiliatesTypeById(ref IQueryable<Destination.Models.destinationTest.AffiliatesType> items);


        public async Task<Destination.Models.destinationTest.AffiliatesType> GetAffiliatesTypeById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AffiliatesTypes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAffiliatesTypeById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAffiliatesTypeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAffiliatesTypeCreated(Destination.Models.destinationTest.AffiliatesType item);
        partial void OnAfterAffiliatesTypeCreated(Destination.Models.destinationTest.AffiliatesType item);

        public async Task<Destination.Models.destinationTest.AffiliatesType> CreateAffiliatesType(Destination.Models.destinationTest.AffiliatesType affiliatestype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliatesTypeCreated(affiliatestype);

            var existingItem = context.AffiliatesTypes
                              .Where(i => i.Id == affiliatestype.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AffiliatesTypes.Add(affiliatestype);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(affiliatestype).State = EntityState.Detached;
                throw;
            }

            OnAfterAffiliatesTypeCreated(affiliatestype);

            return affiliatestype;
        }

        public async Task<Destination.Models.destinationTest.AffiliatesType> CancelAffiliatesTypeChanges(Destination.Models.destinationTest.AffiliatesType item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAffiliatesTypeUpdated(Destination.Models.destinationTest.AffiliatesType item);
        partial void OnAfterAffiliatesTypeUpdated(Destination.Models.destinationTest.AffiliatesType item);

        public async Task<Destination.Models.destinationTest.AffiliatesType> UpdateAffiliatesType(int id, Destination.Models.destinationTest.AffiliatesType affiliatestype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAffiliatesTypeUpdated(affiliatestype);

            var itemToUpdate = context.AffiliatesTypes
                              .Where(i => i.Id == affiliatestype.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(affiliatestype);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAffiliatesTypeUpdated(affiliatestype);

            return affiliatestype;
        }

        partial void OnAffiliatesTypeDeleted(Destination.Models.destinationTest.AffiliatesType item);
        partial void OnAfterAffiliatesTypeDeleted(Destination.Models.destinationTest.AffiliatesType item);

        public async Task<Destination.Models.destinationTest.AffiliatesType> DeleteAffiliatesType(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AffiliatesTypes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAffiliatesTypeDeleted(itemToDelete);


            context.AffiliatesTypes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAffiliatesTypeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAgentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAgentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAgentsRead(ref IQueryable<Destination.Models.destinationTest.Agent> items);

        public async Task<List<Destination.Models.destinationTest.Agent>> GetAgents(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Agents.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAgentsRead(ref items);

            return await items.ToListAsync();
        }

        partial void OnAgentGet(Destination.Models.destinationTest.Agent item);
        partial void OnGetAgentByAgId(ref IQueryable<Destination.Models.destinationTest.Agent> items);


        public async Task<Destination.Models.destinationTest.Agent> GetAgentByAgId(int agid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Agents
                              .AsNoTracking()
                              .Where(i => i.AgId == agid);

 
            OnGetAgentByAgId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAgentGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAgentCreated(Destination.Models.destinationTest.Agent item);
        partial void OnAfterAgentCreated(Destination.Models.destinationTest.Agent item);

        public async Task<Destination.Models.destinationTest.Agent> CreateAgent(Destination.Models.destinationTest.Agent agent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgentCreated(agent);

            var existingItem = context.Agents
                              .Where(i => i.AgId == agent.AgId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Agents.Add(agent);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(agent).State = EntityState.Detached;
                throw;
            }

            OnAfterAgentCreated(agent);

            return agent;
        }

        public async Task<Destination.Models.destinationTest.Agent> CancelAgentChanges(Destination.Models.destinationTest.Agent item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAgentUpdated(Destination.Models.destinationTest.Agent item);
        partial void OnAfterAgentUpdated(Destination.Models.destinationTest.Agent item);

        public async Task<Destination.Models.destinationTest.Agent> UpdateAgent(int agid, Destination.Models.destinationTest.Agent agent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgentUpdated(agent);

            var itemToUpdate = context.Agents
                              .Where(i => i.AgId == agent.AgId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(agent);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAgentUpdated(agent);

            return agent;
        }

        partial void OnAgentDeleted(Destination.Models.destinationTest.Agent item);
        partial void OnAfterAgentDeleted(Destination.Models.destinationTest.Agent item);

        public async Task<Destination.Models.destinationTest.Agent> DeleteAgent(int agid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Agents
                              .Where(i => i.AgId == agid)
                              .Include(i => i.OwnerCommunications)
                              .Include(i => i.Properties)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAgentDeleted(itemToDelete);


            context.Agents.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAgentDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAgentstatsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agentstats/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agentstats/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAgentstatsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agentstats/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agentstats/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAgentstatsRead(ref IQueryable<Destination.Models.destinationTest.Agentstat> items);

        public async Task<List<Destination.Models.destinationTest.Agentstat>> GetAgentstats(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Agentstats.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAgentstatsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAgentstatGet(Destination.Models.destinationTest.Agentstat item);
        partial void OnGetAgentstatById(ref IQueryable<Destination.Models.destinationTest.Agentstat> items);


        public async Task<Destination.Models.destinationTest.Agentstat> GetAgentstatById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Agentstats
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAgentstatById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAgentstatGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAgentstatCreated(Destination.Models.destinationTest.Agentstat item);
        partial void OnAfterAgentstatCreated(Destination.Models.destinationTest.Agentstat item);

        public async Task<Destination.Models.destinationTest.Agentstat> CreateAgentstat(Destination.Models.destinationTest.Agentstat agentstat)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgentstatCreated(agentstat);

            var existingItem = context.Agentstats
                              .Where(i => i.Id == agentstat.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Agentstats.Add(agentstat);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(agentstat).State = EntityState.Detached;
                throw;
            }

            OnAfterAgentstatCreated(agentstat);

            return agentstat;
        }

        public async Task<Destination.Models.destinationTest.Agentstat> CancelAgentstatChanges(Destination.Models.destinationTest.Agentstat item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAgentstatUpdated(Destination.Models.destinationTest.Agentstat item);
        partial void OnAfterAgentstatUpdated(Destination.Models.destinationTest.Agentstat item);

        public async Task<Destination.Models.destinationTest.Agentstat> UpdateAgentstat(int id, Destination.Models.destinationTest.Agentstat agentstat)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgentstatUpdated(agentstat);

            var itemToUpdate = context.Agentstats
                              .Where(i => i.Id == agentstat.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(agentstat);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAgentstatUpdated(agentstat);

            return agentstat;
        }

        partial void OnAgentstatDeleted(Destination.Models.destinationTest.Agentstat item);
        partial void OnAfterAgentstatDeleted(Destination.Models.destinationTest.Agentstat item);

        public async Task<Destination.Models.destinationTest.Agentstat> DeleteAgentstat(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Agentstats
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAgentstatDeleted(itemToDelete);


            context.Agentstats.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAgentstatDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAgentStatusesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agentstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agentstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAgentStatusesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agentstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agentstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnGetAgentStatuses(ref IQueryable<Destination.Models.destinationTest.AgentStatus> items);
        public async Task<List<Destination.Models.destinationTest.AgentStatus>> GetAgentStatuses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AgentStatuses.AsQueryable();

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach (var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnGetAgentStatuses(ref items);


            var result = await items.ToListAsync();
            return result;
        }

        partial void OnAgentStatusGet(Destination.Models.destinationTest.AgentStatus item);
        partial void OnGetAgentStatusByStatusid(ref IQueryable<Destination.Models.destinationTest.AgentStatus> items);


        public async Task<Destination.Models.destinationTest.AgentStatus> GetAgentStatusByStatusid(int statusid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AgentStatuses
                              .AsNoTracking()
                              .Where(i => i.Statusid == statusid);

 
            OnGetAgentStatusByStatusid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAgentStatusGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAgentStatusCreated(Destination.Models.destinationTest.AgentStatus item);
        partial void OnAfterAgentStatusCreated(Destination.Models.destinationTest.AgentStatus item);

        public async Task<Destination.Models.destinationTest.AgentStatus> CreateAgentStatus(Destination.Models.destinationTest.AgentStatus agentstatus)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgentStatusCreated(agentstatus);

            var existingItem = context.AgentStatuses
                              .Where(i => i.Statusid == agentstatus.Statusid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AgentStatuses.Add(agentstatus);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(agentstatus).State = EntityState.Detached;
                throw;
            }

            OnAfterAgentStatusCreated(agentstatus);

            return agentstatus;
        }

        public async Task<Destination.Models.destinationTest.AgentStatus> CancelAgentStatusChanges(Destination.Models.destinationTest.AgentStatus item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAgentStatusUpdated(Destination.Models.destinationTest.AgentStatus item);
        partial void OnAfterAgentStatusUpdated(Destination.Models.destinationTest.AgentStatus item);

        public async Task<Destination.Models.destinationTest.AgentStatus> UpdateAgentStatus(int statusid, Destination.Models.destinationTest.AgentStatus agentstatus)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgentStatusUpdated(agentstatus);

            var itemToUpdate = context.AgentStatuses
                              .Where(i => i.Statusid == agentstatus.Statusid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(agentstatus);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAgentStatusUpdated(agentstatus);

            return agentstatus;
        }

        partial void OnAgentStatusDeleted(Destination.Models.destinationTest.AgentStatus item);
        partial void OnAfterAgentStatusDeleted(Destination.Models.destinationTest.AgentStatus item);

        public async Task<Destination.Models.destinationTest.AgentStatus> DeleteAgentStatus(int statusid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AgentStatuses
                              .Where(i => i.Statusid == statusid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAgentStatusDeleted(itemToDelete);


            context.AgentStatuses.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAgentStatusDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAgreementContentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agreementcontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agreementcontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAgreementContentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agreementcontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agreementcontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAgreementContentsRead(ref IQueryable<Destination.Models.destinationTest.AgreementContent> items);

        public async Task<List<Destination.Models.destinationTest.AgreementContent>> GetAgreementContents(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AgreementContents.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAgreementContentsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAgreementContentGet(Destination.Models.destinationTest.AgreementContent item);
        partial void OnGetAgreementContentByContentId(ref IQueryable<Destination.Models.destinationTest.AgreementContent> items);


        public async Task<Destination.Models.destinationTest.AgreementContent> GetAgreementContentByContentId(int contentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AgreementContents
                              .AsNoTracking()
                              .Where(i => i.ContentId == contentid);

 
            OnGetAgreementContentByContentId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAgreementContentGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAgreementContentCreated(Destination.Models.destinationTest.AgreementContent item);
        partial void OnAfterAgreementContentCreated(Destination.Models.destinationTest.AgreementContent item);

        public async Task<Destination.Models.destinationTest.AgreementContent> CreateAgreementContent(Destination.Models.destinationTest.AgreementContent agreementcontent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgreementContentCreated(agreementcontent);

            var existingItem = context.AgreementContents
                              .Where(i => i.ContentId == agreementcontent.ContentId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AgreementContents.Add(agreementcontent);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(agreementcontent).State = EntityState.Detached;
                throw;
            }

            OnAfterAgreementContentCreated(agreementcontent);

            return agreementcontent;
        }

        public async Task<Destination.Models.destinationTest.AgreementContent> CancelAgreementContentChanges(Destination.Models.destinationTest.AgreementContent item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAgreementContentUpdated(Destination.Models.destinationTest.AgreementContent item);
        partial void OnAfterAgreementContentUpdated(Destination.Models.destinationTest.AgreementContent item);

        public async Task<Destination.Models.destinationTest.AgreementContent> UpdateAgreementContent(int contentid, Destination.Models.destinationTest.AgreementContent agreementcontent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgreementContentUpdated(agreementcontent);

            var itemToUpdate = context.AgreementContents
                              .Where(i => i.ContentId == agreementcontent.ContentId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(agreementcontent);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAgreementContentUpdated(agreementcontent);

            return agreementcontent;
        }

        partial void OnAgreementContentDeleted(Destination.Models.destinationTest.AgreementContent item);
        partial void OnAfterAgreementContentDeleted(Destination.Models.destinationTest.AgreementContent item);

        public async Task<Destination.Models.destinationTest.AgreementContent> DeleteAgreementContent(int contentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AgreementContents
                              .Where(i => i.ContentId == contentid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAgreementContentDeleted(itemToDelete);


            context.AgreementContents.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAgreementContentDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAgreementHistoriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agreementhistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agreementhistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAgreementHistoriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/agreementhistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/agreementhistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAgreementHistoriesRead(ref IQueryable<Destination.Models.destinationTest.AgreementHistory> items);

        public async Task<List<Destination.Models.destinationTest.AgreementHistory>> GetAgreementHistories(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AgreementHistories.AsQueryable();

            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAgreementHistoriesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAgreementHistoryGet(Destination.Models.destinationTest.AgreementHistory item);
        partial void OnGetAgreementHistoryById(ref IQueryable<Destination.Models.destinationTest.AgreementHistory> items);


        public async Task<Destination.Models.destinationTest.AgreementHistory> GetAgreementHistoryById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AgreementHistories
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Booking);
 
            OnGetAgreementHistoryById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAgreementHistoryGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAgreementHistoryCreated(Destination.Models.destinationTest.AgreementHistory item);
        partial void OnAfterAgreementHistoryCreated(Destination.Models.destinationTest.AgreementHistory item);

        public async Task<Destination.Models.destinationTest.AgreementHistory> CreateAgreementHistory(Destination.Models.destinationTest.AgreementHistory agreementhistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgreementHistoryCreated(agreementhistory);

            var existingItem = context.AgreementHistories
                              .Where(i => i.Id == agreementhistory.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AgreementHistories.Add(agreementhistory);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(agreementhistory).State = EntityState.Detached;
                throw;
            }

            OnAfterAgreementHistoryCreated(agreementhistory);

            return agreementhistory;
        }

        public async Task<Destination.Models.destinationTest.AgreementHistory> CancelAgreementHistoryChanges(Destination.Models.destinationTest.AgreementHistory item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAgreementHistoryUpdated(Destination.Models.destinationTest.AgreementHistory item);
        partial void OnAfterAgreementHistoryUpdated(Destination.Models.destinationTest.AgreementHistory item);

        public async Task<Destination.Models.destinationTest.AgreementHistory> UpdateAgreementHistory(int id, Destination.Models.destinationTest.AgreementHistory agreementhistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAgreementHistoryUpdated(agreementhistory);

            var itemToUpdate = context.AgreementHistories
                              .Where(i => i.Id == agreementhistory.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(agreementhistory);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAgreementHistoryUpdated(agreementhistory);

            return agreementhistory;
        }

        partial void OnAgreementHistoryDeleted(Destination.Models.destinationTest.AgreementHistory item);
        partial void OnAfterAgreementHistoryDeleted(Destination.Models.destinationTest.AgreementHistory item);

        public async Task<Destination.Models.destinationTest.AgreementHistory> DeleteAgreementHistory(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AgreementHistories
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAgreementHistoryDeleted(itemToDelete);


            context.AgreementHistories.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAgreementHistoryDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAirbnbApiAutoSyncContentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbapiautosynccontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbapiautosynccontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirbnbApiAutoSyncContentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbapiautosynccontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbapiautosynccontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirbnbApiAutoSyncContentsRead(ref IQueryable<Destination.Models.destinationTest.AirbnbApiAutoSyncContent> items);

        public async Task<List<Destination.Models.destinationTest.AirbnbApiAutoSyncContent>> GetAirbnbApiAutoSyncContents(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbApiAutoSyncContents.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirbnbApiAutoSyncContentsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAirbnbApicredentialsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbapicredentials/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbapicredentials/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirbnbApicredentialsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbapicredentials/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbapicredentials/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirbnbApicredentialsRead(ref IQueryable<Destination.Models.destinationTest.AirbnbApicredential> items);

        public async Task<List<Destination.Models.destinationTest.AirbnbApicredential>> GetAirbnbApicredentials(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbApicredentials.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirbnbApicredentialsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAirbnbApireservationsJsonsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbapireservationsjsons/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbapireservationsjsons/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirbnbApireservationsJsonsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbapireservationsjsons/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbapireservationsjsons/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirbnbApireservationsJsonsRead(ref IQueryable<Destination.Models.destinationTest.AirbnbApireservationsJson> items);

        public async Task<List<Destination.Models.destinationTest.AirbnbApireservationsJson>> GetAirbnbApireservationsJsons(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbApireservationsJsons.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirbnbApireservationsJsonsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAirBnbExportsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbexports/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbexports/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirBnbExportsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbexports/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbexports/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirBnbExportsRead(ref IQueryable<Destination.Models.destinationTest.AirBnbExport> items);

        public async Task<List<Destination.Models.destinationTest.AirBnbExport>> GetAirBnbExports(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirBnbExports.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirBnbExportsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAirBnbExportGet(Destination.Models.destinationTest.AirBnbExport item);
        partial void OnGetAirBnbExportById(ref IQueryable<Destination.Models.destinationTest.AirBnbExport> items);


        public async Task<Destination.Models.destinationTest.AirBnbExport> GetAirBnbExportById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirBnbExports
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAirBnbExportById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAirBnbExportGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAirBnbExportCreated(Destination.Models.destinationTest.AirBnbExport item);
        partial void OnAfterAirBnbExportCreated(Destination.Models.destinationTest.AirBnbExport item);

        public async Task<Destination.Models.destinationTest.AirBnbExport> CreateAirBnbExport(Destination.Models.destinationTest.AirBnbExport airbnbexport)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAirBnbExportCreated(airbnbexport);

            var existingItem = context.AirBnbExports
                              .Where(i => i.Id == airbnbexport.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AirBnbExports.Add(airbnbexport);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(airbnbexport).State = EntityState.Detached;
                throw;
            }

            OnAfterAirBnbExportCreated(airbnbexport);

            return airbnbexport;
        }

        public async Task<Destination.Models.destinationTest.AirBnbExport> CancelAirBnbExportChanges(Destination.Models.destinationTest.AirBnbExport item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAirBnbExportUpdated(Destination.Models.destinationTest.AirBnbExport item);
        partial void OnAfterAirBnbExportUpdated(Destination.Models.destinationTest.AirBnbExport item);

        public async Task<Destination.Models.destinationTest.AirBnbExport> UpdateAirBnbExport(int id, Destination.Models.destinationTest.AirBnbExport airbnbexport)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAirBnbExportUpdated(airbnbexport);

            var itemToUpdate = context.AirBnbExports
                              .Where(i => i.Id == airbnbexport.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(airbnbexport);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAirBnbExportUpdated(airbnbexport);

            return airbnbexport;
        }

        partial void OnAirBnbExportDeleted(Destination.Models.destinationTest.AirBnbExport item);
        partial void OnAfterAirBnbExportDeleted(Destination.Models.destinationTest.AirBnbExport item);

        public async Task<Destination.Models.destinationTest.AirBnbExport> DeleteAirBnbExport(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AirBnbExports
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAirBnbExportDeleted(itemToDelete);


            context.AirBnbExports.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAirBnbExportDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAirbnbIcalsUpdateTrackingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbicalsupdatetrackings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbicalsupdatetrackings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirbnbIcalsUpdateTrackingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbicalsupdatetrackings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbicalsupdatetrackings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirbnbIcalsUpdateTrackingsRead(ref IQueryable<Destination.Models.destinationTest.AirbnbIcalsUpdateTracking> items);

        public async Task<List<Destination.Models.destinationTest.AirbnbIcalsUpdateTracking>> GetAirbnbIcalsUpdateTrackings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbIcalsUpdateTrackings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirbnbIcalsUpdateTrackingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAirbnbMessagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirbnbMessagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirbnbMessagesRead(ref IQueryable<Destination.Models.destinationTest.AirbnbMessage> items);

        public async Task<List<Destination.Models.destinationTest.AirbnbMessage>> GetAirbnbMessages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbMessages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirbnbMessagesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAirbnbSendMessagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbsendmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbsendmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirbnbSendMessagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbsendmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbsendmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirbnbSendMessagesRead(ref IQueryable<Destination.Models.destinationTest.AirbnbSendMessage> items);

        public async Task<List<Destination.Models.destinationTest.AirbnbSendMessage>> GetAirbnbSendMessages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbSendMessages.AsQueryable();

            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirbnbSendMessagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAirbnbSendMessageGet(Destination.Models.destinationTest.AirbnbSendMessage item);
        partial void OnGetAirbnbSendMessageById(ref IQueryable<Destination.Models.destinationTest.AirbnbSendMessage> items);


        public async Task<Destination.Models.destinationTest.AirbnbSendMessage> GetAirbnbSendMessageById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbSendMessages
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Booking);
 
            OnGetAirbnbSendMessageById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAirbnbSendMessageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAirbnbSendMessageCreated(Destination.Models.destinationTest.AirbnbSendMessage item);
        partial void OnAfterAirbnbSendMessageCreated(Destination.Models.destinationTest.AirbnbSendMessage item);

        public async Task<Destination.Models.destinationTest.AirbnbSendMessage> CreateAirbnbSendMessage(Destination.Models.destinationTest.AirbnbSendMessage airbnbsendmessage)
        {
            OnAirbnbSendMessageCreated(airbnbsendmessage);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var existingItem = context.AirbnbSendMessages
                              .Where(i => i.Id == airbnbsendmessage.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AirbnbSendMessages.Add(airbnbsendmessage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(airbnbsendmessage).State = EntityState.Detached;
                throw;
            }

            OnAfterAirbnbSendMessageCreated(airbnbsendmessage);

            return airbnbsendmessage;
        }

        public async Task<Destination.Models.destinationTest.AirbnbSendMessage> CancelAirbnbSendMessageChanges(Destination.Models.destinationTest.AirbnbSendMessage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAirbnbSendMessageUpdated(Destination.Models.destinationTest.AirbnbSendMessage item);
        partial void OnAfterAirbnbSendMessageUpdated(Destination.Models.destinationTest.AirbnbSendMessage item);

        public async Task<Destination.Models.destinationTest.AirbnbSendMessage> UpdateAirbnbSendMessage(int id, Destination.Models.destinationTest.AirbnbSendMessage airbnbsendmessage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAirbnbSendMessageUpdated(airbnbsendmessage);

            var itemToUpdate = context.AirbnbSendMessages
                              .Where(i => i.Id == airbnbsendmessage.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(airbnbsendmessage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAirbnbSendMessageUpdated(airbnbsendmessage);

            return airbnbsendmessage;
        }

        partial void OnAirbnbSendMessageDeleted(Destination.Models.destinationTest.AirbnbSendMessage item);
        partial void OnAfterAirbnbSendMessageDeleted(Destination.Models.destinationTest.AirbnbSendMessage item);

        public async Task<Destination.Models.destinationTest.AirbnbSendMessage> DeleteAirbnbSendMessage(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AirbnbSendMessages
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAirbnbSendMessageDeleted(itemToDelete);


            context.AirbnbSendMessages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAirbnbSendMessageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAirbnbUploadedPhotosToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbuploadedphotos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbuploadedphotos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAirbnbUploadedPhotosToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/airbnbuploadedphotos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/airbnbuploadedphotos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAirbnbUploadedPhotosRead(ref IQueryable<Destination.Models.destinationTest.AirbnbUploadedPhoto> items);

        public async Task<List<Destination.Models.destinationTest.AirbnbUploadedPhoto>> GetAirbnbUploadedPhotos(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AirbnbUploadedPhotos.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAirbnbUploadedPhotosRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAnnualsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/annuals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/annuals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAnnualsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/annuals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/annuals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAnnualsRead(ref IQueryable<Destination.Models.destinationTest.Annual> items);

        public async Task<List<Destination.Models.destinationTest.Annual>> GetAnnuals(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Annuals.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAnnualsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportAnnualSurveysToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/annualsurveys/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/annualsurveys/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAnnualSurveysToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/annualsurveys/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/annualsurveys/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAnnualSurveysRead(ref IQueryable<Destination.Models.destinationTest.AnnualSurvey> items);

        public async Task<List<Destination.Models.destinationTest.AnnualSurvey>> GetAnnualSurveys(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AnnualSurveys.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAnnualSurveysRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAnnualSurveyGet(Destination.Models.destinationTest.AnnualSurvey item);
        partial void OnGetAnnualSurveyById(ref IQueryable<Destination.Models.destinationTest.AnnualSurvey> items);


        public async Task<Destination.Models.destinationTest.AnnualSurvey> GetAnnualSurveyById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AnnualSurveys
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetAnnualSurveyById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAnnualSurveyGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAnnualSurveyCreated(Destination.Models.destinationTest.AnnualSurvey item);
        partial void OnAfterAnnualSurveyCreated(Destination.Models.destinationTest.AnnualSurvey item);

        public async Task<Destination.Models.destinationTest.AnnualSurvey> CreateAnnualSurvey(Destination.Models.destinationTest.AnnualSurvey annualsurvey)
        {
            OnAnnualSurveyCreated(annualsurvey);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var existingItem = context.AnnualSurveys
                              .Where(i => i.Id == annualsurvey.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AnnualSurveys.Add(annualsurvey);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(annualsurvey).State = EntityState.Detached;
                throw;
            }

            OnAfterAnnualSurveyCreated(annualsurvey);

            return annualsurvey;
        }

        public async Task<Destination.Models.destinationTest.AnnualSurvey> CancelAnnualSurveyChanges(Destination.Models.destinationTest.AnnualSurvey item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAnnualSurveyUpdated(Destination.Models.destinationTest.AnnualSurvey item);
        partial void OnAfterAnnualSurveyUpdated(Destination.Models.destinationTest.AnnualSurvey item);

        public async Task<Destination.Models.destinationTest.AnnualSurvey> UpdateAnnualSurvey(int id, Destination.Models.destinationTest.AnnualSurvey annualsurvey)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAnnualSurveyUpdated(annualsurvey);

            var itemToUpdate = context.AnnualSurveys
                              .Where(i => i.Id == annualsurvey.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(annualsurvey);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAnnualSurveyUpdated(annualsurvey);

            return annualsurvey;
        }

        partial void OnAnnualSurveyDeleted(Destination.Models.destinationTest.AnnualSurvey item);
        partial void OnAfterAnnualSurveyDeleted(Destination.Models.destinationTest.AnnualSurvey item);

        public async Task<Destination.Models.destinationTest.AnnualSurvey> DeleteAnnualSurvey(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AnnualSurveys
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAnnualSurveyDeleted(itemToDelete);


            context.AnnualSurveys.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAnnualSurveyDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAnnualTypesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/annualtypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/annualtypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAnnualTypesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/annualtypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/annualtypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAnnualTypesRead(ref IQueryable<Destination.Models.destinationTest.AnnualType> items);

        public async Task<List<Destination.Models.destinationTest.AnnualType>> GetAnnualTypes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AnnualTypes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAnnualTypesRead(ref items);

            var result = await items.ToListAsync();

            return result;
        }

        partial void OnAnnualTypeGet(Destination.Models.destinationTest.AnnualType item);
        partial void OnGetAnnualTypeById(ref IQueryable<Destination.Models.destinationTest.AnnualType> items);


        public async Task<Destination.Models.destinationTest.AnnualType> GetAnnualTypeById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AnnualTypes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAnnualTypeById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAnnualTypeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAnnualTypeCreated(Destination.Models.destinationTest.AnnualType item);
        partial void OnAfterAnnualTypeCreated(Destination.Models.destinationTest.AnnualType item);

        public async Task<Destination.Models.destinationTest.AnnualType> CreateAnnualType(Destination.Models.destinationTest.AnnualType annualtype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAnnualTypeCreated(annualtype);

            var existingItem = context.AnnualTypes
                              .Where(i => i.Id == annualtype.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AnnualTypes.Add(annualtype);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(annualtype).State = EntityState.Detached;
                throw;
            }

            OnAfterAnnualTypeCreated(annualtype);

            return annualtype;
        }

        public async Task<Destination.Models.destinationTest.AnnualType> CancelAnnualTypeChanges(Destination.Models.destinationTest.AnnualType item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAnnualTypeUpdated(Destination.Models.destinationTest.AnnualType item);
        partial void OnAfterAnnualTypeUpdated(Destination.Models.destinationTest.AnnualType item);

        public async Task<Destination.Models.destinationTest.AnnualType> UpdateAnnualType(int id, Destination.Models.destinationTest.AnnualType annualtype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAnnualTypeUpdated(annualtype);

            var itemToUpdate = context.AnnualTypes
                              .Where(i => i.Id == annualtype.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(annualtype);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAnnualTypeUpdated(annualtype);

            return annualtype;
        }

        partial void OnAnnualTypeDeleted(Destination.Models.destinationTest.AnnualType item);
        partial void OnAfterAnnualTypeDeleted(Destination.Models.destinationTest.AnnualType item);

        public async Task<Destination.Models.destinationTest.AnnualType> DeleteAnnualType(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AnnualTypes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAnnualTypeDeleted(itemToDelete);


            context.AnnualTypes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAnnualTypeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAppliedPromoCodesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/appliedpromocodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/appliedpromocodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAppliedPromoCodesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/appliedpromocodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/appliedpromocodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAppliedPromoCodesRead(ref IQueryable<Destination.Models.destinationTest.AppliedPromoCode> items);

        public async Task<List<Destination.Models.destinationTest.AppliedPromoCode>> GetAppliedPromoCodes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AppliedPromoCodes.AsQueryable();

            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAppliedPromoCodesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAppliedPromoCodeGet(Destination.Models.destinationTest.AppliedPromoCode item);
        partial void OnGetAppliedPromoCodeById(ref IQueryable<Destination.Models.destinationTest.AppliedPromoCode> items);


        public async Task<Destination.Models.destinationTest.AppliedPromoCode> GetAppliedPromoCodeById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AppliedPromoCodes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Booking);
 
            OnGetAppliedPromoCodeById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAppliedPromoCodeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAppliedPromoCodeCreated(Destination.Models.destinationTest.AppliedPromoCode item);
        partial void OnAfterAppliedPromoCodeCreated(Destination.Models.destinationTest.AppliedPromoCode item);

        public async Task<Destination.Models.destinationTest.AppliedPromoCode> CreateAppliedPromoCode(Destination.Models.destinationTest.AppliedPromoCode appliedpromocode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAppliedPromoCodeCreated(appliedpromocode);

            var existingItem = context.AppliedPromoCodes
                              .Where(i => i.Id == appliedpromocode.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AppliedPromoCodes.Add(appliedpromocode);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(appliedpromocode).State = EntityState.Detached;
                throw;
            }

            OnAfterAppliedPromoCodeCreated(appliedpromocode);

            return appliedpromocode;
        }

        public async Task<Destination.Models.destinationTest.AppliedPromoCode> CancelAppliedPromoCodeChanges(Destination.Models.destinationTest.AppliedPromoCode item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAppliedPromoCodeUpdated(Destination.Models.destinationTest.AppliedPromoCode item);
        partial void OnAfterAppliedPromoCodeUpdated(Destination.Models.destinationTest.AppliedPromoCode item);

        public async Task<Destination.Models.destinationTest.AppliedPromoCode> UpdateAppliedPromoCode(int id, Destination.Models.destinationTest.AppliedPromoCode appliedpromocode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAppliedPromoCodeUpdated(appliedpromocode);

            var itemToUpdate = context.AppliedPromoCodes
                              .Where(i => i.Id == appliedpromocode.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(appliedpromocode);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAppliedPromoCodeUpdated(appliedpromocode);

            return appliedpromocode;
        }

        partial void OnAppliedPromoCodeDeleted(Destination.Models.destinationTest.AppliedPromoCode item);
        partial void OnAfterAppliedPromoCodeDeleted(Destination.Models.destinationTest.AppliedPromoCode item);

        public async Task<Destination.Models.destinationTest.AppliedPromoCode> DeleteAppliedPromoCode(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AppliedPromoCodes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAppliedPromoCodeDeleted(itemToDelete);


            context.AppliedPromoCodes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAppliedPromoCodeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportAutoSmspagesHitPerDaysToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/autosmspageshitperdays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/autosmspageshitperdays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportAutoSmspagesHitPerDaysToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/autosmspageshitperdays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/autosmspageshitperdays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnAutoSmspagesHitPerDaysRead(ref IQueryable<Destination.Models.destinationTest.AutoSmspagesHitPerDay> items);

        public async Task<List<Destination.Models.destinationTest.AutoSmspagesHitPerDay>> GetAutoSmspagesHitPerDays(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AutoSmspagesHitPerDays.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnAutoSmspagesHitPerDaysRead(ref items);

return await items.ToListAsync();
        }

        partial void OnAutoSmspagesHitPerDayGet(Destination.Models.destinationTest.AutoSmspagesHitPerDay item);
        partial void OnGetAutoSmspagesHitPerDayById(ref IQueryable<Destination.Models.destinationTest.AutoSmspagesHitPerDay> items);


        public async Task<Destination.Models.destinationTest.AutoSmspagesHitPerDay> GetAutoSmspagesHitPerDayById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.AutoSmspagesHitPerDays
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetAutoSmspagesHitPerDayById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnAutoSmspagesHitPerDayGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnAutoSmspagesHitPerDayCreated(Destination.Models.destinationTest.AutoSmspagesHitPerDay item);
        partial void OnAfterAutoSmspagesHitPerDayCreated(Destination.Models.destinationTest.AutoSmspagesHitPerDay item);

        public async Task<Destination.Models.destinationTest.AutoSmspagesHitPerDay> CreateAutoSmspagesHitPerDay(Destination.Models.destinationTest.AutoSmspagesHitPerDay autosmspageshitperday)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAutoSmspagesHitPerDayCreated(autosmspageshitperday);

            var existingItem = context.AutoSmspagesHitPerDays
                              .Where(i => i.Id == autosmspageshitperday.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.AutoSmspagesHitPerDays.Add(autosmspageshitperday);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(autosmspageshitperday).State = EntityState.Detached;
                throw;
            }

            OnAfterAutoSmspagesHitPerDayCreated(autosmspageshitperday);

            return autosmspageshitperday;
        }

        public async Task<Destination.Models.destinationTest.AutoSmspagesHitPerDay> CancelAutoSmspagesHitPerDayChanges(Destination.Models.destinationTest.AutoSmspagesHitPerDay item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnAutoSmspagesHitPerDayUpdated(Destination.Models.destinationTest.AutoSmspagesHitPerDay item);
        partial void OnAfterAutoSmspagesHitPerDayUpdated(Destination.Models.destinationTest.AutoSmspagesHitPerDay item);

        public async Task<Destination.Models.destinationTest.AutoSmspagesHitPerDay> UpdateAutoSmspagesHitPerDay(int id, Destination.Models.destinationTest.AutoSmspagesHitPerDay autosmspageshitperday)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnAutoSmspagesHitPerDayUpdated(autosmspageshitperday);

            var itemToUpdate = context.AutoSmspagesHitPerDays
                              .Where(i => i.Id == autosmspageshitperday.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(autosmspageshitperday);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterAutoSmspagesHitPerDayUpdated(autosmspageshitperday);

            return autosmspageshitperday;
        }

        partial void OnAutoSmspagesHitPerDayDeleted(Destination.Models.destinationTest.AutoSmspagesHitPerDay item);
        partial void OnAfterAutoSmspagesHitPerDayDeleted(Destination.Models.destinationTest.AutoSmspagesHitPerDay item);

        public async Task<Destination.Models.destinationTest.AutoSmspagesHitPerDay> DeleteAutoSmspagesHitPerDay(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.AutoSmspagesHitPerDays
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnAutoSmspagesHitPerDayDeleted(itemToDelete);


            context.AutoSmspagesHitPerDays.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterAutoSmspagesHitPerDayDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBedcountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bedcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bedcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBedcountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bedcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bedcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBedcountsRead(ref IQueryable<Destination.Models.destinationTest.Bedcount> items);

        public async Task<List<Destination.Models.destinationTest.Bedcount>> GetBedcounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Bedcounts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBedcountsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBedcountGet(Destination.Models.destinationTest.Bedcount item);
        partial void OnGetBedcountByBedcountid(ref IQueryable<Destination.Models.destinationTest.Bedcount> items);


        public async Task<Destination.Models.destinationTest.Bedcount> GetBedcountByBedcountid(int bedcountid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Bedcounts
                              .AsNoTracking()
                              .Where(i => i.Bedcountid == bedcountid);

 
            OnGetBedcountByBedcountid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBedcountGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBedcountCreated(Destination.Models.destinationTest.Bedcount item);
        partial void OnAfterBedcountCreated(Destination.Models.destinationTest.Bedcount item);

        public async Task<Destination.Models.destinationTest.Bedcount> CreateBedcount(Destination.Models.destinationTest.Bedcount bedcount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBedcountCreated(bedcount);

            var existingItem = context.Bedcounts
                              .Where(i => i.Bedcountid == bedcount.Bedcountid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Bedcounts.Add(bedcount);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bedcount).State = EntityState.Detached;
                throw;
            }

            OnAfterBedcountCreated(bedcount);

            return bedcount;
        }

        public async Task<Destination.Models.destinationTest.Bedcount> CancelBedcountChanges(Destination.Models.destinationTest.Bedcount item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBedcountUpdated(Destination.Models.destinationTest.Bedcount item);
        partial void OnAfterBedcountUpdated(Destination.Models.destinationTest.Bedcount item);

        public async Task<Destination.Models.destinationTest.Bedcount> UpdateBedcount(int bedcountid, Destination.Models.destinationTest.Bedcount bedcount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBedcountUpdated(bedcount);

            var itemToUpdate = context.Bedcounts
                              .Where(i => i.Bedcountid == bedcount.Bedcountid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bedcount);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBedcountUpdated(bedcount);

            return bedcount;
        }

        partial void OnBedcountDeleted(Destination.Models.destinationTest.Bedcount item);
        partial void OnAfterBedcountDeleted(Destination.Models.destinationTest.Bedcount item);

        public async Task<Destination.Models.destinationTest.Bedcount> DeleteBedcount(int bedcountid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Bedcounts
                              .Where(i => i.Bedcountid == bedcountid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBedcountDeleted(itemToDelete);


            context.Bedcounts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBedcountDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingStatusesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingStatusesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingStatusesRead(ref IQueryable<Destination.Models.destinationTest.BookingStatus> items);

        public async Task<List<Destination.Models.destinationTest.BookingStatus>> GetBookingStatuses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingStatuses.AsQueryable();

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingStatusesRead(ref items);

            return await items.ToListAsync();
        }

        public async Task<List<BookingStatusDropDownData>> GetBookingStatusesForDropDown()
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingStatuses.Select(x=> new BookingStatusDropDownData
            {
                Id = x.Id,
                Status = x.Status
            }).AsQueryable();

          return await items.ToListAsync();
        }

        partial void OnBookingStatusGet(Destination.Models.destinationTest.BookingStatus item);
        partial void OnGetBookingStatusById(ref IQueryable<Destination.Models.destinationTest.BookingStatus> items);


        public async Task<Destination.Models.destinationTest.BookingStatus> GetBookingStatusById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingStatuses
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetBookingStatusById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingStatusGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingStatusCreated(Destination.Models.destinationTest.BookingStatus item);
        partial void OnAfterBookingStatusCreated(Destination.Models.destinationTest.BookingStatus item);

        public async Task<Destination.Models.destinationTest.BookingStatus> CreateBookingStatus(Destination.Models.destinationTest.BookingStatus bookingstatus)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingStatusCreated(bookingstatus);

            var existingItem = context.BookingStatuses
                              .Where(i => i.Id == bookingstatus.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingStatuses.Add(bookingstatus);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingstatus).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingStatusCreated(bookingstatus);

            return bookingstatus;
        }

        public async Task<Destination.Models.destinationTest.BookingStatus> CancelBookingStatusChanges(Destination.Models.destinationTest.BookingStatus item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingStatusUpdated(Destination.Models.destinationTest.BookingStatus item);
        partial void OnAfterBookingStatusUpdated(Destination.Models.destinationTest.BookingStatus item);

        public async Task<Destination.Models.destinationTest.BookingStatus> UpdateBookingStatus(int id, Destination.Models.destinationTest.BookingStatus bookingstatus)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingStatusUpdated(bookingstatus);

            var itemToUpdate = context.BookingStatuses
                              .Where(i => i.Id == bookingstatus.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingstatus);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingStatusUpdated(bookingstatus);

            return bookingstatus;
        }

        partial void OnBookingStatusDeleted(Destination.Models.destinationTest.BookingStatus item);
        partial void OnAfterBookingStatusDeleted(Destination.Models.destinationTest.BookingStatus item);

        public async Task<Destination.Models.destinationTest.BookingStatus> DeleteBookingStatus(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingStatuses
                              .Where(i => i.Id == id)
                              .Include(i => i.Bookings)
                              .Include(i => i.FilterDataForBulkSmsMails)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingStatusDeleted(itemToDelete);


            context.BookingStatuses.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingStatusDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingStatus1SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingstatus1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingstatus1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingStatus1SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingstatus1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingstatus1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingStatus1SRead(ref IQueryable<Destination.Models.destinationTest.BookingStatus1> items);

        public async Task<List<Destination.Models.destinationTest.BookingStatus1>> GetBookingStatus1S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingStatus1S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingStatus1SRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportBookingAddOwnerReportsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingaddownerreports/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingaddownerreports/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingAddOwnerReportsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingaddownerreports/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingaddownerreports/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingAddOwnerReportsRead(ref IQueryable<Destination.Models.destinationTest.BookingAddOwnerReport> items);

        public async Task<List<Destination.Models.destinationTest.BookingAddOwnerReport>> GetBookingAddOwnerReports(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingAddOwnerReports.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingAddOwnerReportsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingAddOwnerReportGet(Destination.Models.destinationTest.BookingAddOwnerReport item);
        partial void OnGetBookingAddOwnerReportById(ref IQueryable<Destination.Models.destinationTest.BookingAddOwnerReport> items);


        public async Task<Destination.Models.destinationTest.BookingAddOwnerReport> GetBookingAddOwnerReportById(long id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingAddOwnerReports
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetBookingAddOwnerReportById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingAddOwnerReportGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingAddOwnerReportCreated(Destination.Models.destinationTest.BookingAddOwnerReport item);
        partial void OnAfterBookingAddOwnerReportCreated(Destination.Models.destinationTest.BookingAddOwnerReport item);

        public async Task<Destination.Models.destinationTest.BookingAddOwnerReport> CreateBookingAddOwnerReport(Destination.Models.destinationTest.BookingAddOwnerReport bookingaddownerreport)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingAddOwnerReportCreated(bookingaddownerreport);

            var existingItem = context.BookingAddOwnerReports
                              .Where(i => i.Id == bookingaddownerreport.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingAddOwnerReports.Add(bookingaddownerreport);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingaddownerreport).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingAddOwnerReportCreated(bookingaddownerreport);

            return bookingaddownerreport;
        }

        public async Task<Destination.Models.destinationTest.BookingAddOwnerReport> CancelBookingAddOwnerReportChanges(Destination.Models.destinationTest.BookingAddOwnerReport item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingAddOwnerReportUpdated(Destination.Models.destinationTest.BookingAddOwnerReport item);
        partial void OnAfterBookingAddOwnerReportUpdated(Destination.Models.destinationTest.BookingAddOwnerReport item);

        public async Task<Destination.Models.destinationTest.BookingAddOwnerReport> UpdateBookingAddOwnerReport(long id, Destination.Models.destinationTest.BookingAddOwnerReport bookingaddownerreport)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingAddOwnerReportUpdated(bookingaddownerreport);

            var itemToUpdate = context.BookingAddOwnerReports
                              .Where(i => i.Id == bookingaddownerreport.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingaddownerreport);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingAddOwnerReportUpdated(bookingaddownerreport);

            return bookingaddownerreport;
        }

        partial void OnBookingAddOwnerReportDeleted(Destination.Models.destinationTest.BookingAddOwnerReport item);
        partial void OnAfterBookingAddOwnerReportDeleted(Destination.Models.destinationTest.BookingAddOwnerReport item);

        public async Task<Destination.Models.destinationTest.BookingAddOwnerReport> DeleteBookingAddOwnerReport(long id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingAddOwnerReports
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingAddOwnerReportDeleted(itemToDelete);


            context.BookingAddOwnerReports.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingAddOwnerReportDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingdamagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingdamages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingdamages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingdamagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingdamages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingdamages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingdamagesRead(ref IQueryable<Destination.Models.destinationTest.Bookingdamage> items);

        public async Task<List<Destination.Models.destinationTest.Bookingdamage>> GetBookingdamages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Bookingdamages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingdamagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingdamageGet(Destination.Models.destinationTest.Bookingdamage item);
        partial void OnGetBookingdamageById(ref IQueryable<Destination.Models.destinationTest.Bookingdamage> items);


        public async Task<Destination.Models.destinationTest.Bookingdamage> GetBookingdamageById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Bookingdamages
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetBookingdamageById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingdamageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingdamageCreated(Destination.Models.destinationTest.Bookingdamage item);
        partial void OnAfterBookingdamageCreated(Destination.Models.destinationTest.Bookingdamage item);

        public async Task<Destination.Models.destinationTest.Bookingdamage> CreateBookingdamage(Destination.Models.destinationTest.Bookingdamage bookingdamage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingdamageCreated(bookingdamage);

            var existingItem = context.Bookingdamages
                              .Where(i => i.Id == bookingdamage.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Bookingdamages.Add(bookingdamage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingdamage).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingdamageCreated(bookingdamage);

            return bookingdamage;
        }

        public async Task<Destination.Models.destinationTest.Bookingdamage> CancelBookingdamageChanges(Destination.Models.destinationTest.Bookingdamage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingdamageUpdated(Destination.Models.destinationTest.Bookingdamage item);
        partial void OnAfterBookingdamageUpdated(Destination.Models.destinationTest.Bookingdamage item);

        public async Task<Destination.Models.destinationTest.Bookingdamage> UpdateBookingdamage(int id, Destination.Models.destinationTest.Bookingdamage bookingdamage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingdamageUpdated(bookingdamage);

            var itemToUpdate = context.Bookingdamages
                              .Where(i => i.Id == bookingdamage.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingdamage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingdamageUpdated(bookingdamage);

            return bookingdamage;
        }

        partial void OnBookingdamageDeleted(Destination.Models.destinationTest.Bookingdamage item);
        partial void OnAfterBookingdamageDeleted(Destination.Models.destinationTest.Bookingdamage item);

        public async Task<Destination.Models.destinationTest.Bookingdamage> DeleteBookingdamage(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Bookingdamages
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingdamageDeleted(itemToDelete);


            context.Bookingdamages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingdamageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingEmailSettingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingemailsettings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingemailsettings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingEmailSettingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingemailsettings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingemailsettings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingEmailSettingsRead(ref IQueryable<Destination.Models.destinationTest.BookingEmailSetting> items);

        public async Task<List<Destination.Models.destinationTest.BookingEmailSetting>> GetBookingEmailSettings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingEmailSettings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingEmailSettingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportBookingHistoriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookinghistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookinghistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingHistoriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookinghistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookinghistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingHistoriesRead(ref IQueryable<Destination.Models.destinationTest.BookingHistory> items);

        public async Task<List<Destination.Models.destinationTest.BookingHistory>> GetBookingHistories(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingHistories.AsQueryable();

            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingHistoriesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingHistoryGet(Destination.Models.destinationTest.BookingHistory item);
        partial void OnGetBookingHistoryByIntHistoryId(ref IQueryable<Destination.Models.destinationTest.BookingHistory> items);


        public async Task<Destination.Models.destinationTest.BookingHistory> GetBookingHistoryByIntHistoryId(int inthistoryid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingHistories
                              .AsNoTracking()
                              .Where(i => i.IntHistoryId == inthistoryid);

            items = items.Include(i => i.Booking);
 
            OnGetBookingHistoryByIntHistoryId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingHistoryGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingHistoryCreated(Destination.Models.destinationTest.BookingHistory item);
        partial void OnAfterBookingHistoryCreated(Destination.Models.destinationTest.BookingHistory item);

        public async Task<Destination.Models.destinationTest.BookingHistory> CreateBookingHistory(Destination.Models.destinationTest.BookingHistory bookinghistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingHistoryCreated(bookinghistory);

            var existingItem = context.BookingHistories
                              .Where(i => i.IntHistoryId == bookinghistory.IntHistoryId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingHistories.Add(bookinghistory);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookinghistory).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingHistoryCreated(bookinghistory);

            return bookinghistory;
        }

        public async Task<Destination.Models.destinationTest.BookingHistory> CancelBookingHistoryChanges(Destination.Models.destinationTest.BookingHistory item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingHistoryUpdated(Destination.Models.destinationTest.BookingHistory item);
        partial void OnAfterBookingHistoryUpdated(Destination.Models.destinationTest.BookingHistory item);

        public async Task<Destination.Models.destinationTest.BookingHistory> UpdateBookingHistory(int inthistoryid, Destination.Models.destinationTest.BookingHistory bookinghistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingHistoryUpdated(bookinghistory);

            var itemToUpdate = context.BookingHistories
                              .Where(i => i.IntHistoryId == bookinghistory.IntHistoryId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookinghistory);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingHistoryUpdated(bookinghistory);

            return bookinghistory;
        }

        partial void OnBookingHistoryDeleted(Destination.Models.destinationTest.BookingHistory item);
        partial void OnAfterBookingHistoryDeleted(Destination.Models.destinationTest.BookingHistory item);

        public async Task<Destination.Models.destinationTest.BookingHistory> DeleteBookingHistory(int inthistoryid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingHistories
                              .Where(i => i.IntHistoryId == inthistoryid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingHistoryDeleted(itemToDelete);


            context.BookingHistories.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingHistoryDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingQuotesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingquotes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingquotes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingQuotesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingquotes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingquotes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingQuotesRead(ref IQueryable<Destination.Models.destinationTest.BookingQuote> items);

        public async Task<List<Destination.Models.destinationTest.BookingQuote>> GetBookingQuotes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingQuotes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingQuotesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingQuoteGet(Destination.Models.destinationTest.BookingQuote item);
        partial void OnGetBookingQuoteById(ref IQueryable<Destination.Models.destinationTest.BookingQuote> items);


        public async Task<Destination.Models.destinationTest.BookingQuote> GetBookingQuoteById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingQuotes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetBookingQuoteById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingQuoteGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingQuoteCreated(Destination.Models.destinationTest.BookingQuote item);
        partial void OnAfterBookingQuoteCreated(Destination.Models.destinationTest.BookingQuote item);

        public async Task<Destination.Models.destinationTest.BookingQuote> CreateBookingQuote(Destination.Models.destinationTest.BookingQuote bookingquote)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingQuoteCreated(bookingquote);

            var existingItem = context.BookingQuotes
                              .Where(i => i.Id == bookingquote.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingQuotes.Add(bookingquote);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingquote).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingQuoteCreated(bookingquote);

            return bookingquote;
        }

        public async Task<Destination.Models.destinationTest.BookingQuote> CancelBookingQuoteChanges(Destination.Models.destinationTest.BookingQuote item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingQuoteUpdated(Destination.Models.destinationTest.BookingQuote item);
        partial void OnAfterBookingQuoteUpdated(Destination.Models.destinationTest.BookingQuote item);

        public async Task<Destination.Models.destinationTest.BookingQuote> UpdateBookingQuote(int id, Destination.Models.destinationTest.BookingQuote bookingquote)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingQuoteUpdated(bookingquote);

            var itemToUpdate = context.BookingQuotes
                              .Where(i => i.Id == bookingquote.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingquote);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingQuoteUpdated(bookingquote);

            return bookingquote;
        }

        partial void OnBookingQuoteDeleted(Destination.Models.destinationTest.BookingQuote item);
        partial void OnAfterBookingQuoteDeleted(Destination.Models.destinationTest.BookingQuote item);

        public async Task<Destination.Models.destinationTest.BookingQuote> DeleteBookingQuote(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingQuotes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingQuoteDeleted(itemToDelete);


            context.BookingQuotes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingQuoteDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsRead(ref IQueryable<Destination.Models.destinationTest.Booking> items);

        public async Task<List<Destination.Models.destinationTest.Booking>> GetBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Bookings.AsQueryable();

            items = items.Include(i => i.Property);
            items = items.Include(i => i.TblService);
            items = items.Include(i => i.PropertySource);
            items = items.Include(i => i.BookingStatus);
            items = items.Include(i => i.Tenant);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Where(x=>x.Datefrom >= DateTime.Parse("05-05-2024")).Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task<List<Destination.Models.destinationTest.Booking>> GetBookingsByPropId(int Id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = await context.Bookings
                .Include(i => i.Property)
                .Include(i => i.TblService)
                .Include(i => i.PropertySource)
                .Include(i => i.BookingStatus)
                .Include(i => i.Tenant)
                .Where(x => x.Propertyid == Id)
                .ToListAsync();
            return items;
        }

        partial void OnBookingGet(Destination.Models.destinationTest.Booking item);
        partial void OnGetBookingById(ref IQueryable<Destination.Models.destinationTest.Booking> items);


        public async Task<Destination.Models.destinationTest.Booking> GetBookingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Bookings
                              .AsNoTracking()
                              .Where(i => i.Id == id);
 
            OnGetBookingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingCreated(Destination.Models.destinationTest.Booking item);
        partial void OnAfterBookingCreated(Destination.Models.destinationTest.Booking item);

        public async Task<Destination.Models.destinationTest.Booking> CreateBooking(Destination.Models.destinationTest.Booking booking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingCreated(booking);

            var existingItem = context.Bookings
                              .Where(i => i.Id == booking.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Bookings.Add(booking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(booking).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingCreated(booking);

            return booking;
        }

        public async Task<Destination.Models.destinationTest.Booking> CancelBookingChanges(Destination.Models.destinationTest.Booking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingUpdated(Destination.Models.destinationTest.Booking item);
        partial void OnAfterBookingUpdated(Destination.Models.destinationTest.Booking item);

        public async Task<Destination.Models.destinationTest.Booking> UpdateBooking(int id, Destination.Models.destinationTest.Booking booking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingUpdated(booking);

            var itemToUpdate = context.Bookings
                              .Where(i => i.Id == booking.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(booking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingUpdated(booking);

            return booking;
        }

        partial void OnBookingDeleted(Destination.Models.destinationTest.Booking item);
        partial void OnAfterBookingDeleted(Destination.Models.destinationTest.Booking item);

        public async Task<Destination.Models.destinationTest.Booking> DeleteBooking(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Bookings
                              .Where(i => i.Id == id)
                              .Include(i => i.AffiliateBookings)
                              .Include(i => i.AgreementHistories)
                              .Include(i => i.AirbnbSendMessages)
                              .Include(i => i.AppliedPromoCodes)
                              .Include(i => i.BookingHistories)
                              .Include(i => i.CreditRequests)
                              .Include(i => i.GoogleUsersKeywords)
                              .Include(i => i.Payments)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingDeleted(itemToDelete);


            context.Bookings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingsOwnersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingsowners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingsowners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsOwnersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingsowners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingsowners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsOwnersRead(ref IQueryable<Destination.Models.destinationTest.BookingsOwner> items);

        public async Task<List<Destination.Models.destinationTest.BookingsOwner>> GetBookingsOwners(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsOwners.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsOwnersRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingsOwnerGet(Destination.Models.destinationTest.BookingsOwner item);
        partial void OnGetBookingsOwnerById(ref IQueryable<Destination.Models.destinationTest.BookingsOwner> items);


        public async Task<Destination.Models.destinationTest.BookingsOwner> GetBookingsOwnerById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsOwners
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetBookingsOwnerById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingsOwnerGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingsOwnerCreated(Destination.Models.destinationTest.BookingsOwner item);
        partial void OnAfterBookingsOwnerCreated(Destination.Models.destinationTest.BookingsOwner item);

        public async Task<Destination.Models.destinationTest.BookingsOwner> CreateBookingsOwner(Destination.Models.destinationTest.BookingsOwner bookingsowner)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsOwnerCreated(bookingsowner);

            var existingItem = context.BookingsOwners
                              .Where(i => i.Id == bookingsowner.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingsOwners.Add(bookingsowner);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingsowner).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingsOwnerCreated(bookingsowner);

            return bookingsowner;
        }

        public async Task<Destination.Models.destinationTest.BookingsOwner> CancelBookingsOwnerChanges(Destination.Models.destinationTest.BookingsOwner item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingsOwnerUpdated(Destination.Models.destinationTest.BookingsOwner item);
        partial void OnAfterBookingsOwnerUpdated(Destination.Models.destinationTest.BookingsOwner item);

        public async Task<Destination.Models.destinationTest.BookingsOwner> UpdateBookingsOwner(int id, Destination.Models.destinationTest.BookingsOwner bookingsowner)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsOwnerUpdated(bookingsowner);

            var itemToUpdate = context.BookingsOwners
                              .Where(i => i.Id == bookingsowner.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingsowner);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingsOwnerUpdated(bookingsowner);

            return bookingsowner;
        }

        partial void OnBookingsOwnerDeleted(Destination.Models.destinationTest.BookingsOwner item);
        partial void OnAfterBookingsOwnerDeleted(Destination.Models.destinationTest.BookingsOwner item);

        public async Task<Destination.Models.destinationTest.BookingsOwner> DeleteBookingsOwner(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingsOwners
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingsOwnerDeleted(itemToDelete);


            context.BookingsOwners.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingsOwnerDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingsVisitedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingsvisiteds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingsvisiteds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsVisitedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingsvisiteds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingsvisiteds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsVisitedsRead(ref IQueryable<Destination.Models.destinationTest.BookingsVisited> items);

        public async Task<List<Destination.Models.destinationTest.BookingsVisited>> GetBookingsVisiteds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsVisiteds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsVisitedsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportBookingsCodesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingscodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingscodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsCodesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingscodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingscodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsCodesRead(ref IQueryable<Destination.Models.destinationTest.BookingsCode> items);

        public async Task<List<Destination.Models.destinationTest.BookingsCode>> GetBookingsCodes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsCodes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsCodesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingsCodeGet(Destination.Models.destinationTest.BookingsCode item);
        partial void OnGetBookingsCodeById(ref IQueryable<Destination.Models.destinationTest.BookingsCode> items);


        public async Task<Destination.Models.destinationTest.BookingsCode> GetBookingsCodeById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsCodes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetBookingsCodeById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingsCodeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingsCodeCreated(Destination.Models.destinationTest.BookingsCode item);
        partial void OnAfterBookingsCodeCreated(Destination.Models.destinationTest.BookingsCode item);

        public async Task<Destination.Models.destinationTest.BookingsCode> CreateBookingsCode(Destination.Models.destinationTest.BookingsCode bookingscode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsCodeCreated(bookingscode);

            var existingItem = context.BookingsCodes
                              .Where(i => i.Id == bookingscode.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingsCodes.Add(bookingscode);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingscode).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingsCodeCreated(bookingscode);

            return bookingscode;
        }

        public async Task<Destination.Models.destinationTest.BookingsCode> CancelBookingsCodeChanges(Destination.Models.destinationTest.BookingsCode item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingsCodeUpdated(Destination.Models.destinationTest.BookingsCode item);
        partial void OnAfterBookingsCodeUpdated(Destination.Models.destinationTest.BookingsCode item);

        public async Task<Destination.Models.destinationTest.BookingsCode> UpdateBookingsCode(int id, Destination.Models.destinationTest.BookingsCode bookingscode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsCodeUpdated(bookingscode);

            var itemToUpdate = context.BookingsCodes
                              .Where(i => i.Id == bookingscode.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingscode);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingsCodeUpdated(bookingscode);

            return bookingscode;
        }

        partial void OnBookingsCodeDeleted(Destination.Models.destinationTest.BookingsCode item);
        partial void OnAfterBookingsCodeDeleted(Destination.Models.destinationTest.BookingsCode item);

        public async Task<Destination.Models.destinationTest.BookingsCode> DeleteBookingsCode(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingsCodes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingsCodeDeleted(itemToDelete);


            context.BookingsCodes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingsCodeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingsLargeGroupsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslargegroups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslargegroups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsLargeGroupsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslargegroups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslargegroups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsLargeGroupsRead(ref IQueryable<Destination.Models.destinationTest.BookingsLargeGroup> items);

        public async Task<List<Destination.Models.destinationTest.BookingsLargeGroup>> GetBookingsLargeGroups(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsLargeGroups.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsLargeGroupsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportBookingsLogicsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslogics/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslogics/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsLogicsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslogics/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslogics/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsLogicsRead(ref IQueryable<Destination.Models.destinationTest.BookingsLogic> items);

        public async Task<List<Destination.Models.destinationTest.BookingsLogic>> GetBookingsLogics(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsLogics.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsLogicsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingsLogicGet(Destination.Models.destinationTest.BookingsLogic item);
        partial void OnGetBookingsLogicByIntLogicId(ref IQueryable<Destination.Models.destinationTest.BookingsLogic> items);


        public async Task<Destination.Models.destinationTest.BookingsLogic> GetBookingsLogicByIntLogicId(int intlogicid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsLogics
                              .AsNoTracking()
                              .Where(i => i.IntLogicId == intlogicid);

            items = items.Include(i => i.Property);
 
            OnGetBookingsLogicByIntLogicId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingsLogicGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingsLogicCreated(Destination.Models.destinationTest.BookingsLogic item);
        partial void OnAfterBookingsLogicCreated(Destination.Models.destinationTest.BookingsLogic item);

        public async Task<Destination.Models.destinationTest.BookingsLogic> CreateBookingsLogic(Destination.Models.destinationTest.BookingsLogic bookingslogic)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsLogicCreated(bookingslogic);

            var existingItem = context.BookingsLogics
                              .Where(i => i.IntLogicId == bookingslogic.IntLogicId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingsLogics.Add(bookingslogic);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingslogic).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingsLogicCreated(bookingslogic);

            return bookingslogic;
        }

        public async Task<Destination.Models.destinationTest.BookingsLogic> CancelBookingsLogicChanges(Destination.Models.destinationTest.BookingsLogic item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingsLogicUpdated(Destination.Models.destinationTest.BookingsLogic item);
        partial void OnAfterBookingsLogicUpdated(Destination.Models.destinationTest.BookingsLogic item);

        public async Task<Destination.Models.destinationTest.BookingsLogic> UpdateBookingsLogic(int intlogicid, Destination.Models.destinationTest.BookingsLogic bookingslogic)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsLogicUpdated(bookingslogic);

            var itemToUpdate = context.BookingsLogics
                              .Where(i => i.IntLogicId == bookingslogic.IntLogicId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingslogic);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingsLogicUpdated(bookingslogic);

            return bookingslogic;
        }

        partial void OnBookingsLogicDeleted(Destination.Models.destinationTest.BookingsLogic item);
        partial void OnAfterBookingsLogicDeleted(Destination.Models.destinationTest.BookingsLogic item);

        public async Task<Destination.Models.destinationTest.BookingsLogic> DeleteBookingsLogic(int intlogicid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingsLogics
                              .Where(i => i.IntLogicId == intlogicid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingsLogicDeleted(itemToDelete);


            context.BookingsLogics.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingsLogicDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingsLogic2SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslogic2s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslogic2s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsLogic2SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslogic2s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslogic2s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsLogic2SRead(ref IQueryable<Destination.Models.destinationTest.BookingsLogic2> items);

        public async Task<List<Destination.Models.destinationTest.BookingsLogic2>> GetBookingsLogic2S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsLogic2S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsLogic2SRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingsLogic2Get(Destination.Models.destinationTest.BookingsLogic2 item);
        partial void OnGetBookingsLogic2ByIntLogicId(ref IQueryable<Destination.Models.destinationTest.BookingsLogic2> items);


        public async Task<Destination.Models.destinationTest.BookingsLogic2> GetBookingsLogic2ByIntLogicId(int intlogicid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsLogic2S
                              .AsNoTracking()
                              .Where(i => i.IntLogicId == intlogicid);

 
            OnGetBookingsLogic2ByIntLogicId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingsLogic2Get(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingsLogic2Created(Destination.Models.destinationTest.BookingsLogic2 item);
        partial void OnAfterBookingsLogic2Created(Destination.Models.destinationTest.BookingsLogic2 item);

        public async Task<Destination.Models.destinationTest.BookingsLogic2> CreateBookingsLogic2(Destination.Models.destinationTest.BookingsLogic2 bookingslogic2)
        {
            OnBookingsLogic2Created(bookingslogic2);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var existingItem = context.BookingsLogic2S
                              .Where(i => i.IntLogicId == bookingslogic2.IntLogicId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingsLogic2S.Add(bookingslogic2);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingslogic2).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingsLogic2Created(bookingslogic2);

            return bookingslogic2;
        }

        public async Task<Destination.Models.destinationTest.BookingsLogic2> CancelBookingsLogic2Changes(Destination.Models.destinationTest.BookingsLogic2 item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingsLogic2Updated(Destination.Models.destinationTest.BookingsLogic2 item);
        partial void OnAfterBookingsLogic2Updated(Destination.Models.destinationTest.BookingsLogic2 item);

        public async Task<Destination.Models.destinationTest.BookingsLogic2> UpdateBookingsLogic2(int intlogicid, Destination.Models.destinationTest.BookingsLogic2 bookingslogic2)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsLogic2Updated(bookingslogic2);

            var itemToUpdate = context.BookingsLogic2S
                              .Where(i => i.IntLogicId == bookingslogic2.IntLogicId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingslogic2);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingsLogic2Updated(bookingslogic2);

            return bookingslogic2;
        }

        partial void OnBookingsLogic2Deleted(Destination.Models.destinationTest.BookingsLogic2 item);
        partial void OnAfterBookingsLogic2Deleted(Destination.Models.destinationTest.BookingsLogic2 item);

        public async Task<Destination.Models.destinationTest.BookingsLogic2> DeleteBookingsLogic2(int intlogicid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingsLogic2S
                              .Where(i => i.IntLogicId == intlogicid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingsLogic2Deleted(itemToDelete);


            context.BookingsLogic2S.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingsLogic2Deleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingsLogicVrbosToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslogicvrbos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslogicvrbos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsLogicVrbosToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingslogicvrbos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingslogicvrbos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsLogicVrbosRead(ref IQueryable<Destination.Models.destinationTest.BookingsLogicVrbo> items);

        public async Task<List<Destination.Models.destinationTest.BookingsLogicVrbo>> GetBookingsLogicVrbos(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsLogicVrbos.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsLogicVrbosRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingsLogicVrboGet(Destination.Models.destinationTest.BookingsLogicVrbo item);
        partial void OnGetBookingsLogicVrboByIntLogicId(ref IQueryable<Destination.Models.destinationTest.BookingsLogicVrbo> items);


        public async Task<Destination.Models.destinationTest.BookingsLogicVrbo> GetBookingsLogicVrboByIntLogicId(int intlogicid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsLogicVrbos
                              .AsNoTracking()
                              .Where(i => i.IntLogicId == intlogicid);

 
            OnGetBookingsLogicVrboByIntLogicId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingsLogicVrboGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingsLogicVrboCreated(Destination.Models.destinationTest.BookingsLogicVrbo item);
        partial void OnAfterBookingsLogicVrboCreated(Destination.Models.destinationTest.BookingsLogicVrbo item);

        public async Task<Destination.Models.destinationTest.BookingsLogicVrbo> CreateBookingsLogicVrbo(Destination.Models.destinationTest.BookingsLogicVrbo bookingslogicvrbo)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsLogicVrboCreated(bookingslogicvrbo);

            var existingItem = context.BookingsLogicVrbos
                              .Where(i => i.IntLogicId == bookingslogicvrbo.IntLogicId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingsLogicVrbos.Add(bookingslogicvrbo);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingslogicvrbo).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingsLogicVrboCreated(bookingslogicvrbo);

            return bookingslogicvrbo;
        }

        public async Task<Destination.Models.destinationTest.BookingsLogicVrbo> CancelBookingsLogicVrboChanges(Destination.Models.destinationTest.BookingsLogicVrbo item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingsLogicVrboUpdated(Destination.Models.destinationTest.BookingsLogicVrbo item);
        partial void OnAfterBookingsLogicVrboUpdated(Destination.Models.destinationTest.BookingsLogicVrbo item);

        public async Task<Destination.Models.destinationTest.BookingsLogicVrbo> UpdateBookingsLogicVrbo(int intlogicid, Destination.Models.destinationTest.BookingsLogicVrbo bookingslogicvrbo)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsLogicVrboUpdated(bookingslogicvrbo);

            var itemToUpdate = context.BookingsLogicVrbos
                              .Where(i => i.IntLogicId == bookingslogicvrbo.IntLogicId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingslogicvrbo);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingsLogicVrboUpdated(bookingslogicvrbo);

            return bookingslogicvrbo;
        }

        partial void OnBookingsLogicVrboDeleted(Destination.Models.destinationTest.BookingsLogicVrbo item);
        partial void OnAfterBookingsLogicVrboDeleted(Destination.Models.destinationTest.BookingsLogicVrbo item);

        public async Task<Destination.Models.destinationTest.BookingsLogicVrbo> DeleteBookingsLogicVrbo(int intlogicid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingsLogicVrbos
                              .Where(i => i.IntLogicId == intlogicid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingsLogicVrboDeleted(itemToDelete);


            context.BookingsLogicVrbos.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingsLogicVrboDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBookingsOriginalPubRatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingsoriginalpubrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingsoriginalpubrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBookingsOriginalPubRatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bookingsoriginalpubrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bookingsoriginalpubrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBookingsOriginalPubRatesRead(ref IQueryable<Destination.Models.destinationTest.BookingsOriginalPubRate> items);

        public async Task<List<Destination.Models.destinationTest.BookingsOriginalPubRate>> GetBookingsOriginalPubRates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsOriginalPubRates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBookingsOriginalPubRatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBookingsOriginalPubRateGet(Destination.Models.destinationTest.BookingsOriginalPubRate item);
        partial void OnGetBookingsOriginalPubRateById(ref IQueryable<Destination.Models.destinationTest.BookingsOriginalPubRate> items);


        public async Task<Destination.Models.destinationTest.BookingsOriginalPubRate> GetBookingsOriginalPubRateById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BookingsOriginalPubRates
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetBookingsOriginalPubRateById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBookingsOriginalPubRateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBookingsOriginalPubRateCreated(Destination.Models.destinationTest.BookingsOriginalPubRate item);
        partial void OnAfterBookingsOriginalPubRateCreated(Destination.Models.destinationTest.BookingsOriginalPubRate item);

        public async Task<Destination.Models.destinationTest.BookingsOriginalPubRate> CreateBookingsOriginalPubRate(Destination.Models.destinationTest.BookingsOriginalPubRate bookingsoriginalpubrate)
        {
            OnBookingsOriginalPubRateCreated(bookingsoriginalpubrate);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var existingItem = context.BookingsOriginalPubRates
                              .Where(i => i.Id == bookingsoriginalpubrate.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.BookingsOriginalPubRates.Add(bookingsoriginalpubrate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(bookingsoriginalpubrate).State = EntityState.Detached;
                throw;
            }

            OnAfterBookingsOriginalPubRateCreated(bookingsoriginalpubrate);

            return bookingsoriginalpubrate;
        }

        public async Task<Destination.Models.destinationTest.BookingsOriginalPubRate> CancelBookingsOriginalPubRateChanges(Destination.Models.destinationTest.BookingsOriginalPubRate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBookingsOriginalPubRateUpdated(Destination.Models.destinationTest.BookingsOriginalPubRate item);
        partial void OnAfterBookingsOriginalPubRateUpdated(Destination.Models.destinationTest.BookingsOriginalPubRate item);

        public async Task<Destination.Models.destinationTest.BookingsOriginalPubRate> UpdateBookingsOriginalPubRate(int id, Destination.Models.destinationTest.BookingsOriginalPubRate bookingsoriginalpubrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBookingsOriginalPubRateUpdated(bookingsoriginalpubrate);

            var itemToUpdate = context.BookingsOriginalPubRates
                              .Where(i => i.Id == bookingsoriginalpubrate.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(bookingsoriginalpubrate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBookingsOriginalPubRateUpdated(bookingsoriginalpubrate);

            return bookingsoriginalpubrate;
        }

        partial void OnBookingsOriginalPubRateDeleted(Destination.Models.destinationTest.BookingsOriginalPubRate item);
        partial void OnAfterBookingsOriginalPubRateDeleted(Destination.Models.destinationTest.BookingsOriginalPubRate item);

        public async Task<Destination.Models.destinationTest.BookingsOriginalPubRate> DeleteBookingsOriginalPubRate(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.BookingsOriginalPubRates
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBookingsOriginalPubRateDeleted(itemToDelete);


            context.BookingsOriginalPubRates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBookingsOriginalPubRateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBrokersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/brokers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/brokers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBrokersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/brokers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/brokers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBrokersRead(ref IQueryable<Destination.Models.destinationTest.Broker> items);

        public async Task<List<Destination.Models.destinationTest.Broker>> GetBrokers(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Brokers.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBrokersRead(ref items);

return await items.ToListAsync();
        }

        partial void OnBrokerGet(Destination.Models.destinationTest.Broker item);
        partial void OnGetBrokerByBid(ref IQueryable<Destination.Models.destinationTest.Broker> items);


        public async Task<Destination.Models.destinationTest.Broker> GetBrokerByBid(int bid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Brokers
                              .AsNoTracking()
                              .Where(i => i.Bid == bid);

 
            OnGetBrokerByBid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnBrokerGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnBrokerCreated(Destination.Models.destinationTest.Broker item);
        partial void OnAfterBrokerCreated(Destination.Models.destinationTest.Broker item);

        public async Task<Destination.Models.destinationTest.Broker> CreateBroker(Destination.Models.destinationTest.Broker broker)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBrokerCreated(broker);

            var existingItem = context.Brokers
                              .Where(i => i.Bid == broker.Bid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Brokers.Add(broker);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(broker).State = EntityState.Detached;
                throw;
            }

            OnAfterBrokerCreated(broker);

            return broker;
        }

        public async Task<Destination.Models.destinationTest.Broker> CancelBrokerChanges(Destination.Models.destinationTest.Broker item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnBrokerUpdated(Destination.Models.destinationTest.Broker item);
        partial void OnAfterBrokerUpdated(Destination.Models.destinationTest.Broker item);

        public async Task<Destination.Models.destinationTest.Broker> UpdateBroker(int bid, Destination.Models.destinationTest.Broker broker)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnBrokerUpdated(broker);

            var itemToUpdate = context.Brokers
                              .Where(i => i.Bid == broker.Bid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(broker);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterBrokerUpdated(broker);

            return broker;
        }

        partial void OnBrokerDeleted(Destination.Models.destinationTest.Broker item);
        partial void OnAfterBrokerDeleted(Destination.Models.destinationTest.Broker item);

        public async Task<Destination.Models.destinationTest.Broker> DeleteBroker(int bid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Brokers
                              .Where(i => i.Bid == bid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnBrokerDeleted(itemToDelete);


            context.Brokers.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterBrokerDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportBulkSmstestsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bulksmstests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bulksmstests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBulkSmstestsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bulksmstests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bulksmstests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBulkSmstestsRead(ref IQueryable<Destination.Models.destinationTest.BulkSmstest> items);

        public async Task<List<Destination.Models.destinationTest.BulkSmstest>> GetBulkSmstests(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BulkSmstests.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBulkSmstestsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportBulkSmstest1SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bulksmstest1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bulksmstest1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportBulkSmstest1SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/bulksmstest1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/bulksmstest1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnBulkSmstest1SRead(ref IQueryable<Destination.Models.destinationTest.BulkSmstest1> items);

        public async Task<List<Destination.Models.destinationTest.BulkSmstest1>> GetBulkSmstest1S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.BulkSmstest1S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnBulkSmstest1SRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCalenderFileBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/calenderfilebookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/calenderfilebookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCalenderFileBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/calenderfilebookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/calenderfilebookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCalenderFileBookingsRead(ref IQueryable<Destination.Models.destinationTest.CalenderFileBooking> items);

        public async Task<List<Destination.Models.destinationTest.CalenderFileBooking>> GetCalenderFileBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CalenderFileBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCalenderFileBookingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCalenderFileBookingGet(Destination.Models.destinationTest.CalenderFileBooking item);
        partial void OnGetCalenderFileBookingById(ref IQueryable<Destination.Models.destinationTest.CalenderFileBooking> items);


        public async Task<Destination.Models.destinationTest.CalenderFileBooking> GetCalenderFileBookingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CalenderFileBookings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetCalenderFileBookingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCalenderFileBookingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCalenderFileBookingCreated(Destination.Models.destinationTest.CalenderFileBooking item);
        partial void OnAfterCalenderFileBookingCreated(Destination.Models.destinationTest.CalenderFileBooking item);

        public async Task<Destination.Models.destinationTest.CalenderFileBooking> CreateCalenderFileBooking(Destination.Models.destinationTest.CalenderFileBooking calenderfilebooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCalenderFileBookingCreated(calenderfilebooking);

            var existingItem = context.CalenderFileBookings
                              .Where(i => i.Id == calenderfilebooking.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.CalenderFileBookings.Add(calenderfilebooking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(calenderfilebooking).State = EntityState.Detached;
                throw;
            }

            OnAfterCalenderFileBookingCreated(calenderfilebooking);

            return calenderfilebooking;
        }

        public async Task<Destination.Models.destinationTest.CalenderFileBooking> CancelCalenderFileBookingChanges(Destination.Models.destinationTest.CalenderFileBooking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCalenderFileBookingUpdated(Destination.Models.destinationTest.CalenderFileBooking item);
        partial void OnAfterCalenderFileBookingUpdated(Destination.Models.destinationTest.CalenderFileBooking item);

        public async Task<Destination.Models.destinationTest.CalenderFileBooking> UpdateCalenderFileBooking(int id, Destination.Models.destinationTest.CalenderFileBooking calenderfilebooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCalenderFileBookingUpdated(calenderfilebooking);

            var itemToUpdate = context.CalenderFileBookings
                              .Where(i => i.Id == calenderfilebooking.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(calenderfilebooking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCalenderFileBookingUpdated(calenderfilebooking);

            return calenderfilebooking;
        }

        partial void OnCalenderFileBookingDeleted(Destination.Models.destinationTest.CalenderFileBooking item);
        partial void OnAfterCalenderFileBookingDeleted(Destination.Models.destinationTest.CalenderFileBooking item);

        public async Task<Destination.Models.destinationTest.CalenderFileBooking> DeleteCalenderFileBooking(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.CalenderFileBookings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCalenderFileBookingDeleted(itemToDelete);


            context.CalenderFileBookings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCalenderFileBookingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCampaignsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/campaigns/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/campaigns/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCampaignsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/campaigns/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/campaigns/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCampaignsRead(ref IQueryable<Destination.Models.destinationTest.Campaign> items);

        public async Task<List<Destination.Models.destinationTest.Campaign>> GetCampaigns(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Campaigns.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCampaignsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCampaignGet(Destination.Models.destinationTest.Campaign item);
        partial void OnGetCampaignByCampaignId(ref IQueryable<Destination.Models.destinationTest.Campaign> items);


        public async Task<Destination.Models.destinationTest.Campaign> GetCampaignByCampaignId(int campaignid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Campaigns
                              .AsNoTracking()
                              .Where(i => i.CampaignId == campaignid);

 
            OnGetCampaignByCampaignId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCampaignGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCampaignCreated(Destination.Models.destinationTest.Campaign item);
        partial void OnAfterCampaignCreated(Destination.Models.destinationTest.Campaign item);

        public async Task<Destination.Models.destinationTest.Campaign> CreateCampaign(Destination.Models.destinationTest.Campaign campaign)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCampaignCreated(campaign);

            var existingItem = context.Campaigns
                              .Where(i => i.CampaignId == campaign.CampaignId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Campaigns.Add(campaign);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(campaign).State = EntityState.Detached;
                throw;
            }

            OnAfterCampaignCreated(campaign);

            return campaign;
        }

        public async Task<Destination.Models.destinationTest.Campaign> CancelCampaignChanges(Destination.Models.destinationTest.Campaign item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCampaignUpdated(Destination.Models.destinationTest.Campaign item);
        partial void OnAfterCampaignUpdated(Destination.Models.destinationTest.Campaign item);

        public async Task<Destination.Models.destinationTest.Campaign> UpdateCampaign(int campaignid, Destination.Models.destinationTest.Campaign campaign)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCampaignUpdated(campaign);

            var itemToUpdate = context.Campaigns
                              .Where(i => i.CampaignId == campaign.CampaignId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(campaign);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCampaignUpdated(campaign);

            return campaign;
        }

        partial void OnCampaignDeleted(Destination.Models.destinationTest.Campaign item);
        partial void OnAfterCampaignDeleted(Destination.Models.destinationTest.Campaign item);

        public async Task<Destination.Models.destinationTest.Campaign> DeleteCampaign(int campaignid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Campaigns
                              .Where(i => i.CampaignId == campaignid)
                              .Include(i => i.FilterDataForBulkSmsMails)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCampaignDeleted(itemToDelete);


            context.Campaigns.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCampaignDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportChannelsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channels/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channels/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChannelsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channels/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channels/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChannelsRead(ref IQueryable<Destination.Models.destinationTest.Channel> items);

        public async Task<List<Destination.Models.destinationTest.Channel>> GetChannels(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Channels.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChannelsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnChannelGet(Destination.Models.destinationTest.Channel item);
        partial void OnGetChannelById(ref IQueryable<Destination.Models.destinationTest.Channel> items);


        public async Task<Destination.Models.destinationTest.Channel> GetChannelById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Channels
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetChannelById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnChannelGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnChannelCreated(Destination.Models.destinationTest.Channel item);
        partial void OnAfterChannelCreated(Destination.Models.destinationTest.Channel item);

        public async Task<Destination.Models.destinationTest.Channel> CreateChannel(Destination.Models.destinationTest.Channel channel)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChannelCreated(channel);

            var existingItem = context.Channels
                              .Where(i => i.Id == channel.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Channels.Add(channel);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(channel).State = EntityState.Detached;
                throw;
            }

            OnAfterChannelCreated(channel);

            return channel;
        }

        public async Task<Destination.Models.destinationTest.Channel> CancelChannelChanges(Destination.Models.destinationTest.Channel item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnChannelUpdated(Destination.Models.destinationTest.Channel item);
        partial void OnAfterChannelUpdated(Destination.Models.destinationTest.Channel item);

        public async Task<Destination.Models.destinationTest.Channel> UpdateChannel(int id, Destination.Models.destinationTest.Channel channel)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChannelUpdated(channel);

            var itemToUpdate = context.Channels
                              .Where(i => i.Id == channel.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(channel);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterChannelUpdated(channel);

            return channel;
        }

        partial void OnChannelDeleted(Destination.Models.destinationTest.Channel item);
        partial void OnAfterChannelDeleted(Destination.Models.destinationTest.Channel item);

        public async Task<Destination.Models.destinationTest.Channel> DeleteChannel(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Channels
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnChannelDeleted(itemToDelete);


            context.Channels.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterChannelDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportChannelBusToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelbus/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelbus/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChannelBusToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelbus/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelbus/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChannelBusRead(ref IQueryable<Destination.Models.destinationTest.ChannelBu> items);

        public async Task<List<Destination.Models.destinationTest.ChannelBu>> GetChannelBus(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChannelBus.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChannelBusRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportChannelPartialsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelpartials/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelpartials/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChannelPartialsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelpartials/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelpartials/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChannelPartialsRead(ref IQueryable<Destination.Models.destinationTest.ChannelPartial> items);

        public async Task<List<Destination.Models.destinationTest.ChannelPartial>> GetChannelPartials(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChannelPartials.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChannelPartialsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnChannelPartialGet(Destination.Models.destinationTest.ChannelPartial item);
        partial void OnGetChannelPartialById(ref IQueryable<Destination.Models.destinationTest.ChannelPartial> items);


        public async Task<Destination.Models.destinationTest.ChannelPartial> GetChannelPartialById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChannelPartials
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetChannelPartialById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnChannelPartialGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnChannelPartialCreated(Destination.Models.destinationTest.ChannelPartial item);
        partial void OnAfterChannelPartialCreated(Destination.Models.destinationTest.ChannelPartial item);

        public async Task<Destination.Models.destinationTest.ChannelPartial> CreateChannelPartial(Destination.Models.destinationTest.ChannelPartial channelpartial)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChannelPartialCreated(channelpartial);

            var existingItem = context.ChannelPartials
                              .Where(i => i.Id == channelpartial.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.ChannelPartials.Add(channelpartial);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(channelpartial).State = EntityState.Detached;
                throw;
            }

            OnAfterChannelPartialCreated(channelpartial);

            return channelpartial;
        }

        public async Task<Destination.Models.destinationTest.ChannelPartial> CancelChannelPartialChanges(Destination.Models.destinationTest.ChannelPartial item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnChannelPartialUpdated(Destination.Models.destinationTest.ChannelPartial item);
        partial void OnAfterChannelPartialUpdated(Destination.Models.destinationTest.ChannelPartial item);

        public async Task<Destination.Models.destinationTest.ChannelPartial> UpdateChannelPartial(int id, Destination.Models.destinationTest.ChannelPartial channelpartial)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChannelPartialUpdated(channelpartial);

            var itemToUpdate = context.ChannelPartials
                              .Where(i => i.Id == channelpartial.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(channelpartial);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterChannelPartialUpdated(channelpartial);

            return channelpartial;
        }

        partial void OnChannelPartialDeleted(Destination.Models.destinationTest.ChannelPartial item);
        partial void OnAfterChannelPartialDeleted(Destination.Models.destinationTest.ChannelPartial item);

        public async Task<Destination.Models.destinationTest.ChannelPartial> DeleteChannelPartial(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.ChannelPartials
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnChannelPartialDeleted(itemToDelete);


            context.ChannelPartials.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterChannelPartialDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportChannelPartnerHitsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelpartnerhits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelpartnerhits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChannelPartnerHitsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelpartnerhits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelpartnerhits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChannelPartnerHitsRead(ref IQueryable<Destination.Models.destinationTest.ChannelPartnerHit> items);

        public async Task<List<Destination.Models.destinationTest.ChannelPartnerHit>> GetChannelPartnerHits(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChannelPartnerHits.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChannelPartnerHitsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportChannelVariancesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelvariances/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelvariances/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChannelVariancesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/channelvariances/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/channelvariances/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChannelVariancesRead(ref IQueryable<Destination.Models.destinationTest.ChannelVariance> items);

        public async Task<List<Destination.Models.destinationTest.ChannelVariance>> GetChannelVariances(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChannelVariances.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChannelVariancesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnChannelVarianceGet(Destination.Models.destinationTest.ChannelVariance item);
        partial void OnGetChannelVarianceById(ref IQueryable<Destination.Models.destinationTest.ChannelVariance> items);


        public async Task<Destination.Models.destinationTest.ChannelVariance> GetChannelVarianceById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChannelVariances
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetChannelVarianceById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnChannelVarianceGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnChannelVarianceCreated(Destination.Models.destinationTest.ChannelVariance item);
        partial void OnAfterChannelVarianceCreated(Destination.Models.destinationTest.ChannelVariance item);

        public async Task<Destination.Models.destinationTest.ChannelVariance> CreateChannelVariance(Destination.Models.destinationTest.ChannelVariance channelvariance)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChannelVarianceCreated(channelvariance);

            var existingItem = context.ChannelVariances
                              .Where(i => i.Id == channelvariance.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.ChannelVariances.Add(channelvariance);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(channelvariance).State = EntityState.Detached;
                throw;
            }

            OnAfterChannelVarianceCreated(channelvariance);

            return channelvariance;
        }

        public async Task<Destination.Models.destinationTest.ChannelVariance> CancelChannelVarianceChanges(Destination.Models.destinationTest.ChannelVariance item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnChannelVarianceUpdated(Destination.Models.destinationTest.ChannelVariance item);
        partial void OnAfterChannelVarianceUpdated(Destination.Models.destinationTest.ChannelVariance item);

        public async Task<Destination.Models.destinationTest.ChannelVariance> UpdateChannelVariance(int id, Destination.Models.destinationTest.ChannelVariance channelvariance)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChannelVarianceUpdated(channelvariance);

            var itemToUpdate = context.ChannelVariances
                              .Where(i => i.Id == channelvariance.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(channelvariance);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterChannelVarianceUpdated(channelvariance);

            return channelvariance;
        }

        partial void OnChannelVarianceDeleted(Destination.Models.destinationTest.ChannelVariance item);
        partial void OnAfterChannelVarianceDeleted(Destination.Models.destinationTest.ChannelVariance item);

        public async Task<Destination.Models.destinationTest.ChannelVariance> DeleteChannelVariance(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.ChannelVariances
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnChannelVarianceDeleted(itemToDelete);


            context.ChannelVariances.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterChannelVarianceDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportChatbookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/chatbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/chatbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChatbookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/chatbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/chatbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChatbookingsRead(ref IQueryable<Destination.Models.destinationTest.Chatbooking> items);

        public async Task<List<Destination.Models.destinationTest.Chatbooking>> GetChatbookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Chatbookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChatbookingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnChatbookingGet(Destination.Models.destinationTest.Chatbooking item);
        partial void OnGetChatbookingByChatid(ref IQueryable<Destination.Models.destinationTest.Chatbooking> items);


        public async Task<Destination.Models.destinationTest.Chatbooking> GetChatbookingByChatid(int chatid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Chatbookings
                              .AsNoTracking()
                              .Where(i => i.Chatid == chatid);

 
            OnGetChatbookingByChatid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnChatbookingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnChatbookingCreated(Destination.Models.destinationTest.Chatbooking item);
        partial void OnAfterChatbookingCreated(Destination.Models.destinationTest.Chatbooking item);

        public async Task<Destination.Models.destinationTest.Chatbooking> CreateChatbooking(Destination.Models.destinationTest.Chatbooking chatbooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChatbookingCreated(chatbooking);

            var existingItem = context.Chatbookings
                              .Where(i => i.Chatid == chatbooking.Chatid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Chatbookings.Add(chatbooking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(chatbooking).State = EntityState.Detached;
                throw;
            }

            OnAfterChatbookingCreated(chatbooking);

            return chatbooking;
        }

        public async Task<Destination.Models.destinationTest.Chatbooking> CancelChatbookingChanges(Destination.Models.destinationTest.Chatbooking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnChatbookingUpdated(Destination.Models.destinationTest.Chatbooking item);
        partial void OnAfterChatbookingUpdated(Destination.Models.destinationTest.Chatbooking item);

        public async Task<Destination.Models.destinationTest.Chatbooking> UpdateChatbooking(int chatid, Destination.Models.destinationTest.Chatbooking chatbooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnChatbookingUpdated(chatbooking);

            var itemToUpdate = context.Chatbookings
                              .Where(i => i.Chatid == chatbooking.Chatid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(chatbooking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterChatbookingUpdated(chatbooking);

            return chatbooking;
        }

        partial void OnChatbookingDeleted(Destination.Models.destinationTest.Chatbooking item);
        partial void OnAfterChatbookingDeleted(Destination.Models.destinationTest.Chatbooking item);

        public async Task<Destination.Models.destinationTest.Chatbooking> DeleteChatbooking(int chatid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Chatbookings
                              .Where(i => i.Chatid == chatid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnChatbookingDeleted(itemToDelete);


            context.Chatbookings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterChatbookingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportChatBotKeywordMastersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/chatbotkeywordmasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/chatbotkeywordmasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChatBotKeywordMastersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/chatbotkeywordmasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/chatbotkeywordmasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChatBotKeywordMastersRead(ref IQueryable<Destination.Models.destinationTest.ChatBotKeywordMaster> items);

        public async Task<List<Destination.Models.destinationTest.ChatBotKeywordMaster>> GetChatBotKeywordMasters(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChatBotKeywordMasters.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChatBotKeywordMastersRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportChatBotMenuMastersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/chatbotmenumasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/chatbotmenumasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportChatBotMenuMastersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/chatbotmenumasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/chatbotmenumasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnChatBotMenuMastersRead(ref IQueryable<Destination.Models.destinationTest.ChatBotMenuMaster> items);

        public async Task<List<Destination.Models.destinationTest.ChatBotMenuMaster>> GetChatBotMenuMasters(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ChatBotMenuMasters.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnChatBotMenuMastersRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCheckInCheckOutSettingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/checkincheckoutsettings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/checkincheckoutsettings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCheckInCheckOutSettingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/checkincheckoutsettings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/checkincheckoutsettings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCheckInCheckOutSettingsRead(ref IQueryable<Destination.Models.destinationTest.CheckInCheckOutSetting> items);

        public async Task<List<Destination.Models.destinationTest.CheckInCheckOutSetting>> GetCheckInCheckOutSettings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CheckInCheckOutSettings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCheckInCheckOutSettingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCheckInCheckOutSettingGet(Destination.Models.destinationTest.CheckInCheckOutSetting item);
        partial void OnGetCheckInCheckOutSettingById(ref IQueryable<Destination.Models.destinationTest.CheckInCheckOutSetting> items);


        public async Task<Destination.Models.destinationTest.CheckInCheckOutSetting> GetCheckInCheckOutSettingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CheckInCheckOutSettings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetCheckInCheckOutSettingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCheckInCheckOutSettingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCheckInCheckOutSettingCreated(Destination.Models.destinationTest.CheckInCheckOutSetting item);
        partial void OnAfterCheckInCheckOutSettingCreated(Destination.Models.destinationTest.CheckInCheckOutSetting item);

        public async Task<Destination.Models.destinationTest.CheckInCheckOutSetting> CreateCheckInCheckOutSetting(Destination.Models.destinationTest.CheckInCheckOutSetting checkincheckoutsetting)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCheckInCheckOutSettingCreated(checkincheckoutsetting);

            var existingItem = context.CheckInCheckOutSettings
                              .Where(i => i.Id == checkincheckoutsetting.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.CheckInCheckOutSettings.Add(checkincheckoutsetting);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(checkincheckoutsetting).State = EntityState.Detached;
                throw;
            }

            OnAfterCheckInCheckOutSettingCreated(checkincheckoutsetting);

            return checkincheckoutsetting;
        }

        public async Task<Destination.Models.destinationTest.CheckInCheckOutSetting> CancelCheckInCheckOutSettingChanges(Destination.Models.destinationTest.CheckInCheckOutSetting item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCheckInCheckOutSettingUpdated(Destination.Models.destinationTest.CheckInCheckOutSetting item);
        partial void OnAfterCheckInCheckOutSettingUpdated(Destination.Models.destinationTest.CheckInCheckOutSetting item);

        public async Task<Destination.Models.destinationTest.CheckInCheckOutSetting> UpdateCheckInCheckOutSetting(int id, Destination.Models.destinationTest.CheckInCheckOutSetting checkincheckoutsetting)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCheckInCheckOutSettingUpdated(checkincheckoutsetting);

            var itemToUpdate = context.CheckInCheckOutSettings
                              .Where(i => i.Id == checkincheckoutsetting.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(checkincheckoutsetting);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCheckInCheckOutSettingUpdated(checkincheckoutsetting);

            return checkincheckoutsetting;
        }

        partial void OnCheckInCheckOutSettingDeleted(Destination.Models.destinationTest.CheckInCheckOutSetting item);
        partial void OnAfterCheckInCheckOutSettingDeleted(Destination.Models.destinationTest.CheckInCheckOutSetting item);

        public async Task<Destination.Models.destinationTest.CheckInCheckOutSetting> DeleteCheckInCheckOutSetting(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.CheckInCheckOutSettings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCheckInCheckOutSettingDeleted(itemToDelete);


            context.CheckInCheckOutSettings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCheckInCheckOutSettingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCheckInLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/checkinlogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/checkinlogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCheckInLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/checkinlogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/checkinlogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCheckInLogsRead(ref IQueryable<Destination.Models.destinationTest.CheckInLog> items);

        public async Task<List<Destination.Models.destinationTest.CheckInLog>> GetCheckInLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CheckInLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCheckInLogsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCleanerAuditedMsgsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanerauditedmsgs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanerauditedmsgs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCleanerAuditedMsgsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanerauditedmsgs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanerauditedmsgs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCleanerAuditedMsgsRead(ref IQueryable<Destination.Models.destinationTest.CleanerAuditedMsg> items);

        public async Task<List<Destination.Models.destinationTest.CleanerAuditedMsg>> GetCleanerAuditedMsgs(Query query = null)
        {

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CleanerAuditedMsgs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCleanerAuditedMsgsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCleanerGroupsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanergroups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanergroups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCleanerGroupsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanergroups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanergroups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCleanerGroupsRead(ref IQueryable<Destination.Models.destinationTest.CleanerGroup> items);

        public async Task<List<Destination.Models.destinationTest.CleanerGroup>> GetCleanerGroups(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CleanerGroups.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCleanerGroupsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCleanerInvoiceMatchedDataToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanerinvoicematcheddata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanerinvoicematcheddata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCleanerInvoiceMatchedDataToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanerinvoicematcheddata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanerinvoicematcheddata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCleanerInvoiceMatchedDataRead(ref IQueryable<Destination.Models.destinationTest.CleanerInvoiceMatchedDatum> items);

        public async Task<List<Destination.Models.destinationTest.CleanerInvoiceMatchedDatum>> GetCleanerInvoiceMatchedData(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CleanerInvoiceMatchedData.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCleanerInvoiceMatchedDataRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCleanerNosToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanernos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanernos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCleanerNosToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleanernos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleanernos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCleanerNosRead(ref IQueryable<Destination.Models.destinationTest.CleanerNo> items);

        public async Task<List<Destination.Models.destinationTest.CleanerNo>> GetCleanerNos(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CleanerNos.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCleanerNosRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCleaningPayrolExtraTaskDetailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleaningpayrolextrataskdetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleaningpayrolextrataskdetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCleaningPayrolExtraTaskDetailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleaningpayrolextrataskdetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleaningpayrolextrataskdetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCleaningPayrolExtraTaskDetailsRead(ref IQueryable<Destination.Models.destinationTest.CleaningPayrolExtraTaskDetail> items);

        public async Task<List<Destination.Models.destinationTest.CleaningPayrolExtraTaskDetail>> GetCleaningPayrolExtraTaskDetails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CleaningPayrolExtraTaskDetails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCleaningPayrolExtraTaskDetailsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCleaningVariancesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleaningvariances/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleaningvariances/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCleaningVariancesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/cleaningvariances/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/cleaningvariances/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCleaningVariancesRead(ref IQueryable<Destination.Models.destinationTest.CleaningVariance> items);

        public async Task<List<Destination.Models.destinationTest.CleaningVariance>> GetCleaningVariances(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CleaningVariances.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCleaningVariancesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCleaningVarianceGet(Destination.Models.destinationTest.CleaningVariance item);
        partial void OnGetCleaningVarianceByCleaningVarianceId(ref IQueryable<Destination.Models.destinationTest.CleaningVariance> items);


        public async Task<Destination.Models.destinationTest.CleaningVariance> GetCleaningVarianceByCleaningVarianceId(long cleaningvarianceid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CleaningVariances
                              .AsNoTracking()
                              .Where(i => i.CleaningVarianceId == cleaningvarianceid);

 
            OnGetCleaningVarianceByCleaningVarianceId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCleaningVarianceGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCleaningVarianceCreated(Destination.Models.destinationTest.CleaningVariance item);
        partial void OnAfterCleaningVarianceCreated(Destination.Models.destinationTest.CleaningVariance item);

        public async Task<Destination.Models.destinationTest.CleaningVariance> CreateCleaningVariance(Destination.Models.destinationTest.CleaningVariance cleaningvariance)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCleaningVarianceCreated(cleaningvariance);

            var existingItem = context.CleaningVariances
                              .Where(i => i.CleaningVarianceId == cleaningvariance.CleaningVarianceId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.CleaningVariances.Add(cleaningvariance);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(cleaningvariance).State = EntityState.Detached;
                throw;
            }

            OnAfterCleaningVarianceCreated(cleaningvariance);

            return cleaningvariance;
        }

        public async Task<Destination.Models.destinationTest.CleaningVariance> CancelCleaningVarianceChanges(Destination.Models.destinationTest.CleaningVariance item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCleaningVarianceUpdated(Destination.Models.destinationTest.CleaningVariance item);
        partial void OnAfterCleaningVarianceUpdated(Destination.Models.destinationTest.CleaningVariance item);

        public async Task<Destination.Models.destinationTest.CleaningVariance> UpdateCleaningVariance(long cleaningvarianceid, Destination.Models.destinationTest.CleaningVariance cleaningvariance)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCleaningVarianceUpdated(cleaningvariance);

            var itemToUpdate = context.CleaningVariances
                              .Where(i => i.CleaningVarianceId == cleaningvariance.CleaningVarianceId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(cleaningvariance);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCleaningVarianceUpdated(cleaningvariance);

            return cleaningvariance;
        }

        partial void OnCleaningVarianceDeleted(Destination.Models.destinationTest.CleaningVariance item);
        partial void OnAfterCleaningVarianceDeleted(Destination.Models.destinationTest.CleaningVariance item);

        public async Task<Destination.Models.destinationTest.CleaningVariance> DeleteCleaningVariance(long cleaningvarianceid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.CleaningVariances
                              .Where(i => i.CleaningVarianceId == cleaningvarianceid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCleaningVarianceDeleted(itemToDelete);


            context.CleaningVariances.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCleaningVarianceDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCommCodesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/commcodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/commcodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCommCodesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/commcodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/commcodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCommCodesRead(ref IQueryable<Destination.Models.destinationTest.CommCode> items);

        public async Task<List<Destination.Models.destinationTest.CommCode>> GetCommCodes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CommCodes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCommCodesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCommCodeGet(Destination.Models.destinationTest.CommCode item);
        partial void OnGetCommCodeByCommcodeid(ref IQueryable<Destination.Models.destinationTest.CommCode> items);


        public async Task<Destination.Models.destinationTest.CommCode> GetCommCodeByCommcodeid(int commcodeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CommCodes
                              .AsNoTracking()
                              .Where(i => i.Commcodeid == commcodeid);

 
            OnGetCommCodeByCommcodeid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCommCodeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCommCodeCreated(Destination.Models.destinationTest.CommCode item);
        partial void OnAfterCommCodeCreated(Destination.Models.destinationTest.CommCode item);

        public async Task<Destination.Models.destinationTest.CommCode> CreateCommCode(Destination.Models.destinationTest.CommCode commcode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCommCodeCreated(commcode);

            var existingItem = context.CommCodes
                              .Where(i => i.Commcodeid == commcode.Commcodeid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.CommCodes.Add(commcode);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(commcode).State = EntityState.Detached;
                throw;
            }

            OnAfterCommCodeCreated(commcode);

            return commcode;
        }

        public async Task<Destination.Models.destinationTest.CommCode> CancelCommCodeChanges(Destination.Models.destinationTest.CommCode item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCommCodeUpdated(Destination.Models.destinationTest.CommCode item);
        partial void OnAfterCommCodeUpdated(Destination.Models.destinationTest.CommCode item);

        public async Task<Destination.Models.destinationTest.CommCode> UpdateCommCode(int commcodeid, Destination.Models.destinationTest.CommCode commcode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCommCodeUpdated(commcode);

            var itemToUpdate = context.CommCodes
                              .Where(i => i.Commcodeid == commcode.Commcodeid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(commcode);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCommCodeUpdated(commcode);

            return commcode;
        }

        partial void OnCommCodeDeleted(Destination.Models.destinationTest.CommCode item);
        partial void OnAfterCommCodeDeleted(Destination.Models.destinationTest.CommCode item);

        public async Task<Destination.Models.destinationTest.CommCode> DeleteCommCode(int commcodeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.CommCodes
                              .Where(i => i.Commcodeid == commcodeid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCommCodeDeleted(itemToDelete);


            context.CommCodes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCommCodeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCommunicationsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/communications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/communications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCommunicationsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/communications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/communications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCommunicationsRead(ref IQueryable<Destination.Models.destinationTest.Communication> items);

        public async Task<List<Destination.Models.destinationTest.Communication>> GetCommunications(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Communications.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCommunicationsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCommunicationGet(Destination.Models.destinationTest.Communication item);
        partial void OnGetCommunicationByCommid(ref IQueryable<Destination.Models.destinationTest.Communication> items);


        public async Task<Destination.Models.destinationTest.Communication> GetCommunicationByCommid(int commid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Communications
                              .AsNoTracking()
                              .Where(i => i.Commid == commid);

 
            OnGetCommunicationByCommid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCommunicationGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCommunicationCreated(Destination.Models.destinationTest.Communication item);
        partial void OnAfterCommunicationCreated(Destination.Models.destinationTest.Communication item);

        public async Task<Destination.Models.destinationTest.Communication> CreateCommunication(Destination.Models.destinationTest.Communication communication)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCommunicationCreated(communication);

            var existingItem = context.Communications
                              .Where(i => i.Commid == communication.Commid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Communications.Add(communication);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(communication).State = EntityState.Detached;
                throw;
            }

            OnAfterCommunicationCreated(communication);

            return communication;
        }

        public async Task<Destination.Models.destinationTest.Communication> CancelCommunicationChanges(Destination.Models.destinationTest.Communication item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCommunicationUpdated(Destination.Models.destinationTest.Communication item);
        partial void OnAfterCommunicationUpdated(Destination.Models.destinationTest.Communication item);

        public async Task<Destination.Models.destinationTest.Communication> UpdateCommunication(int commid, Destination.Models.destinationTest.Communication communication)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCommunicationUpdated(communication);

            var itemToUpdate = context.Communications
                              .Where(i => i.Commid == communication.Commid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(communication);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCommunicationUpdated(communication);

            return communication;
        }

        partial void OnCommunicationDeleted(Destination.Models.destinationTest.Communication item);
        partial void OnAfterCommunicationDeleted(Destination.Models.destinationTest.Communication item);

        public async Task<Destination.Models.destinationTest.Communication> DeleteCommunication(int commid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Communications
                              .Where(i => i.Commid == commid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCommunicationDeleted(itemToDelete);


            context.Communications.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCommunicationDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCompanyHistoriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/companyhistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/companyhistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCompanyHistoriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/companyhistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/companyhistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCompanyHistoriesRead(ref IQueryable<Destination.Models.destinationTest.CompanyHistory> items);

        public async Task<List<Destination.Models.destinationTest.CompanyHistory>> GetCompanyHistories(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CompanyHistories.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCompanyHistoriesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCompanyHistoryGet(Destination.Models.destinationTest.CompanyHistory item);
        partial void OnGetCompanyHistoryById(ref IQueryable<Destination.Models.destinationTest.CompanyHistory> items);


        public async Task<Destination.Models.destinationTest.CompanyHistory> GetCompanyHistoryById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CompanyHistories
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetCompanyHistoryById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCompanyHistoryGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCompanyHistoryCreated(Destination.Models.destinationTest.CompanyHistory item);
        partial void OnAfterCompanyHistoryCreated(Destination.Models.destinationTest.CompanyHistory item);

        public async Task<Destination.Models.destinationTest.CompanyHistory> CreateCompanyHistory(Destination.Models.destinationTest.CompanyHistory companyhistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCompanyHistoryCreated(companyhistory);

            var existingItem = context.CompanyHistories
                              .Where(i => i.Id == companyhistory.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.CompanyHistories.Add(companyhistory);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(companyhistory).State = EntityState.Detached;
                throw;
            }

            OnAfterCompanyHistoryCreated(companyhistory);

            return companyhistory;
        }

        public async Task<Destination.Models.destinationTest.CompanyHistory> CancelCompanyHistoryChanges(Destination.Models.destinationTest.CompanyHistory item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCompanyHistoryUpdated(Destination.Models.destinationTest.CompanyHistory item);
        partial void OnAfterCompanyHistoryUpdated(Destination.Models.destinationTest.CompanyHistory item);

        public async Task<Destination.Models.destinationTest.CompanyHistory> UpdateCompanyHistory(int id, Destination.Models.destinationTest.CompanyHistory companyhistory)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCompanyHistoryUpdated(companyhistory);

            var itemToUpdate = context.CompanyHistories
                              .Where(i => i.Id == companyhistory.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(companyhistory);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCompanyHistoryUpdated(companyhistory);

            return companyhistory;
        }

        partial void OnCompanyHistoryDeleted(Destination.Models.destinationTest.CompanyHistory item);
        partial void OnAfterCompanyHistoryDeleted(Destination.Models.destinationTest.CompanyHistory item);

        public async Task<Destination.Models.destinationTest.CompanyHistory> DeleteCompanyHistory(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.CompanyHistories
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCompanyHistoryDeleted(itemToDelete);


            context.CompanyHistories.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCompanyHistoryDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportContractTablesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/contracttables/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/contracttables/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportContractTablesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/contracttables/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/contracttables/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnContractTablesRead(ref IQueryable<Destination.Models.destinationTest.ContractTable> items);

        public async Task<List<Destination.Models.destinationTest.ContractTable>> GetContractTables(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ContractTables.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnContractTablesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnContractTableGet(Destination.Models.destinationTest.ContractTable item);
        partial void OnGetContractTableById(ref IQueryable<Destination.Models.destinationTest.ContractTable> items);


        public async Task<Destination.Models.destinationTest.ContractTable> GetContractTableById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ContractTables
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetContractTableById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnContractTableGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnContractTableCreated(Destination.Models.destinationTest.ContractTable item);
        partial void OnAfterContractTableCreated(Destination.Models.destinationTest.ContractTable item);

        public async Task<Destination.Models.destinationTest.ContractTable> CreateContractTable(Destination.Models.destinationTest.ContractTable contracttable)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnContractTableCreated(contracttable);

            var existingItem = context.ContractTables
                              .Where(i => i.Id == contracttable.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.ContractTables.Add(contracttable);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(contracttable).State = EntityState.Detached;
                throw;
            }

            OnAfterContractTableCreated(contracttable);

            return contracttable;
        }

        public async Task<Destination.Models.destinationTest.ContractTable> CancelContractTableChanges(Destination.Models.destinationTest.ContractTable item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnContractTableUpdated(Destination.Models.destinationTest.ContractTable item);
        partial void OnAfterContractTableUpdated(Destination.Models.destinationTest.ContractTable item);

        public async Task<Destination.Models.destinationTest.ContractTable> UpdateContractTable(int id, Destination.Models.destinationTest.ContractTable contracttable)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnContractTableUpdated(contracttable);

            var itemToUpdate = context.ContractTables
                              .Where(i => i.Id == contracttable.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(contracttable);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterContractTableUpdated(contracttable);

            return contracttable;
        }

        partial void OnContractTableDeleted(Destination.Models.destinationTest.ContractTable item);
        partial void OnAfterContractTableDeleted(Destination.Models.destinationTest.ContractTable item);

        public async Task<Destination.Models.destinationTest.ContractTable> DeleteContractTable(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.ContractTables
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnContractTableDeleted(itemToDelete);


            context.ContractTables.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterContractTableDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportControllistsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/controllists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/controllists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportControllistsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/controllists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/controllists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnControllistsRead(ref IQueryable<Destination.Models.destinationTest.Controllist> items);

        public async Task<List<Destination.Models.destinationTest.Controllist>> GetControllists(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Controllists.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnControllistsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnControllistGet(Destination.Models.destinationTest.Controllist item);
        partial void OnGetControllistById(ref IQueryable<Destination.Models.destinationTest.Controllist> items);


        public async Task<Destination.Models.destinationTest.Controllist> GetControllistById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Controllists
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetControllistById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnControllistGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnControllistCreated(Destination.Models.destinationTest.Controllist item);
        partial void OnAfterControllistCreated(Destination.Models.destinationTest.Controllist item);

        public async Task<Destination.Models.destinationTest.Controllist> CreateControllist(Destination.Models.destinationTest.Controllist controllist)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnControllistCreated(controllist);

            var existingItem = context.Controllists
                              .Where(i => i.Id == controllist.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Controllists.Add(controllist);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(controllist).State = EntityState.Detached;
                throw;
            }

            OnAfterControllistCreated(controllist);

            return controllist;
        }

        public async Task<Destination.Models.destinationTest.Controllist> CancelControllistChanges(Destination.Models.destinationTest.Controllist item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnControllistUpdated(Destination.Models.destinationTest.Controllist item);
        partial void OnAfterControllistUpdated(Destination.Models.destinationTest.Controllist item);

        public async Task<Destination.Models.destinationTest.Controllist> UpdateControllist(int id, Destination.Models.destinationTest.Controllist controllist)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnControllistUpdated(controllist);

            var itemToUpdate = context.Controllists
                              .Where(i => i.Id == controllist.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(controllist);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterControllistUpdated(controllist);

            return controllist;
        }

        partial void OnControllistDeleted(Destination.Models.destinationTest.Controllist item);
        partial void OnAfterControllistDeleted(Destination.Models.destinationTest.Controllist item);

        public async Task<Destination.Models.destinationTest.Controllist> DeleteControllist(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Controllists
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnControllistDeleted(itemToDelete);


            context.Controllists.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterControllistDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportControllogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/controllogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/controllogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportControllogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/controllogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/controllogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnControllogsRead(ref IQueryable<Destination.Models.destinationTest.Controllog> items);

        public async Task<List<Destination.Models.destinationTest.Controllog>> GetControllogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Controllogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnControllogsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnControllogGet(Destination.Models.destinationTest.Controllog item);
        partial void OnGetControllogById(ref IQueryable<Destination.Models.destinationTest.Controllog> items);


        public async Task<Destination.Models.destinationTest.Controllog> GetControllogById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Controllogs
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetControllogById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnControllogGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnControllogCreated(Destination.Models.destinationTest.Controllog item);
        partial void OnAfterControllogCreated(Destination.Models.destinationTest.Controllog item);

        public async Task<Destination.Models.destinationTest.Controllog> CreateControllog(Destination.Models.destinationTest.Controllog controllog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnControllogCreated(controllog);

            var existingItem = context.Controllogs
                              .Where(i => i.Id == controllog.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Controllogs.Add(controllog);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(controllog).State = EntityState.Detached;
                throw;
            }

            OnAfterControllogCreated(controllog);

            return controllog;
        }

        public async Task<Destination.Models.destinationTest.Controllog> CancelControllogChanges(Destination.Models.destinationTest.Controllog item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnControllogUpdated(Destination.Models.destinationTest.Controllog item);
        partial void OnAfterControllogUpdated(Destination.Models.destinationTest.Controllog item);

        public async Task<Destination.Models.destinationTest.Controllog> UpdateControllog(int id, Destination.Models.destinationTest.Controllog controllog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnControllogUpdated(controllog);

            var itemToUpdate = context.Controllogs
                              .Where(i => i.Id == controllog.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(controllog);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterControllogUpdated(controllog);

            return controllog;
        }

        partial void OnControllogDeleted(Destination.Models.destinationTest.Controllog item);
        partial void OnAfterControllogDeleted(Destination.Models.destinationTest.Controllog item);

        public async Task<Destination.Models.destinationTest.Controllog> DeleteControllog(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Controllogs
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnControllogDeleted(itemToDelete);


            context.Controllogs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterControllogDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCoronaAnnualDataToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/coronaannualdata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/coronaannualdata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCoronaAnnualDataToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/coronaannualdata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/coronaannualdata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCoronaAnnualDataRead(ref IQueryable<Destination.Models.destinationTest.CoronaAnnualDatum> items);

        public async Task<List<Destination.Models.destinationTest.CoronaAnnualDatum>> GetCoronaAnnualData(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CoronaAnnualData.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCoronaAnnualDataRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCreditRequestsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/creditrequests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/creditrequests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCreditRequestsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/creditrequests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/creditrequests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCreditRequestsRead(ref IQueryable<Destination.Models.destinationTest.CreditRequest> items);

        public async Task<List<Destination.Models.destinationTest.CreditRequest>> GetCreditRequests(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CreditRequests.AsQueryable();

            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCreditRequestsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCreditRequestGet(Destination.Models.destinationTest.CreditRequest item);
        partial void OnGetCreditRequestByCreditRequestId(ref IQueryable<Destination.Models.destinationTest.CreditRequest> items);


        public async Task<Destination.Models.destinationTest.CreditRequest> GetCreditRequestByCreditRequestId(int creditrequestid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CreditRequests
                              .AsNoTracking()
                              .Where(i => i.CreditRequestId == creditrequestid);

            items = items.Include(i => i.Booking);
 
            OnGetCreditRequestByCreditRequestId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCreditRequestGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCreditRequestCreated(Destination.Models.destinationTest.CreditRequest item);
        partial void OnAfterCreditRequestCreated(Destination.Models.destinationTest.CreditRequest item);

        public async Task<Destination.Models.destinationTest.CreditRequest> CreateCreditRequest(Destination.Models.destinationTest.CreditRequest creditrequest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCreditRequestCreated(creditrequest);

            var existingItem = context.CreditRequests
                              .Where(i => i.CreditRequestId == creditrequest.CreditRequestId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.CreditRequests.Add(creditrequest);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(creditrequest).State = EntityState.Detached;
                throw;
            }

            OnAfterCreditRequestCreated(creditrequest);

            return creditrequest;
        }

        public async Task<Destination.Models.destinationTest.CreditRequest> CancelCreditRequestChanges(Destination.Models.destinationTest.CreditRequest item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCreditRequestUpdated(Destination.Models.destinationTest.CreditRequest item);
        partial void OnAfterCreditRequestUpdated(Destination.Models.destinationTest.CreditRequest item);

        public async Task<Destination.Models.destinationTest.CreditRequest> UpdateCreditRequest(int creditrequestid, Destination.Models.destinationTest.CreditRequest creditrequest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCreditRequestUpdated(creditrequest);

            var itemToUpdate = context.CreditRequests
                              .Where(i => i.CreditRequestId == creditrequest.CreditRequestId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(creditrequest);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCreditRequestUpdated(creditrequest);

            return creditrequest;
        }

        partial void OnCreditRequestDeleted(Destination.Models.destinationTest.CreditRequest item);
        partial void OnAfterCreditRequestDeleted(Destination.Models.destinationTest.CreditRequest item);

        public async Task<Destination.Models.destinationTest.CreditRequest> DeleteCreditRequest(int creditrequestid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.CreditRequests
                              .Where(i => i.CreditRequestId == creditrequestid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCreditRequestDeleted(itemToDelete);


            context.CreditRequests.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCreditRequestDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCreditRequestTypesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/creditrequesttypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/creditrequesttypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCreditRequestTypesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/creditrequesttypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/creditrequesttypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCreditRequestTypesRead(ref IQueryable<Destination.Models.destinationTest.CreditRequestType> items);

        public async Task<List<Destination.Models.destinationTest.CreditRequestType>> GetCreditRequestTypes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CreditRequestTypes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCreditRequestTypesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCreditRequestTypeGet(Destination.Models.destinationTest.CreditRequestType item);
        partial void OnGetCreditRequestTypeByTypeId(ref IQueryable<Destination.Models.destinationTest.CreditRequestType> items);


        public async Task<Destination.Models.destinationTest.CreditRequestType> GetCreditRequestTypeByTypeId(int typeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CreditRequestTypes
                              .AsNoTracking()
                              .Where(i => i.TypeId == typeid);

 
            OnGetCreditRequestTypeByTypeId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCreditRequestTypeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCreditRequestTypeCreated(Destination.Models.destinationTest.CreditRequestType item);
        partial void OnAfterCreditRequestTypeCreated(Destination.Models.destinationTest.CreditRequestType item);

        public async Task<Destination.Models.destinationTest.CreditRequestType> CreateCreditRequestType(Destination.Models.destinationTest.CreditRequestType creditrequesttype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCreditRequestTypeCreated(creditrequesttype);

            var existingItem = context.CreditRequestTypes
                              .Where(i => i.TypeId == creditrequesttype.TypeId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.CreditRequestTypes.Add(creditrequesttype);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(creditrequesttype).State = EntityState.Detached;
                throw;
            }

            OnAfterCreditRequestTypeCreated(creditrequesttype);

            return creditrequesttype;
        }

        public async Task<Destination.Models.destinationTest.CreditRequestType> CancelCreditRequestTypeChanges(Destination.Models.destinationTest.CreditRequestType item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCreditRequestTypeUpdated(Destination.Models.destinationTest.CreditRequestType item);
        partial void OnAfterCreditRequestTypeUpdated(Destination.Models.destinationTest.CreditRequestType item);

        public async Task<Destination.Models.destinationTest.CreditRequestType> UpdateCreditRequestType(int typeid, Destination.Models.destinationTest.CreditRequestType creditrequesttype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCreditRequestTypeUpdated(creditrequesttype);

            var itemToUpdate = context.CreditRequestTypes
                              .Where(i => i.TypeId == creditrequesttype.TypeId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(creditrequesttype);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCreditRequestTypeUpdated(creditrequesttype);

            return creditrequesttype;
        }

        partial void OnCreditRequestTypeDeleted(Destination.Models.destinationTest.CreditRequestType item);
        partial void OnAfterCreditRequestTypeDeleted(Destination.Models.destinationTest.CreditRequestType item);

        public async Task<Destination.Models.destinationTest.CreditRequestType> DeleteCreditRequestType(int typeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.CreditRequestTypes
                              .Where(i => i.TypeId == typeid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCreditRequestTypeDeleted(itemToDelete);


            context.CreditRequestTypes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCreditRequestTypeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCriticalTaskWarningsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/criticaltaskwarnings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/criticaltaskwarnings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCriticalTaskWarningsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/criticaltaskwarnings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/criticaltaskwarnings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCriticalTaskWarningsRead(ref IQueryable<Destination.Models.destinationTest.CriticalTaskWarning> items);

        public async Task<List<Destination.Models.destinationTest.CriticalTaskWarning>> GetCriticalTaskWarnings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CriticalTaskWarnings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCriticalTaskWarningsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportCurrentdiscountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/currentdiscounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/currentdiscounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCurrentdiscountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/currentdiscounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/currentdiscounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCurrentdiscountsRead(ref IQueryable<Destination.Models.destinationTest.Currentdiscount> items);

        public async Task<List<Destination.Models.destinationTest.Currentdiscount>> GetCurrentdiscounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Currentdiscounts.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCurrentdiscountsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnCurrentdiscountGet(Destination.Models.destinationTest.Currentdiscount item);
        partial void OnGetCurrentdiscountBySpecialsid(ref IQueryable<Destination.Models.destinationTest.Currentdiscount> items);


        public async Task<Destination.Models.destinationTest.Currentdiscount> GetCurrentdiscountBySpecialsid(int specialsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Currentdiscounts
                              .AsNoTracking()
                              .Where(i => i.Specialsid == specialsid);

            items = items.Include(i => i.Property);
 
            OnGetCurrentdiscountBySpecialsid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnCurrentdiscountGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnCurrentdiscountCreated(Destination.Models.destinationTest.Currentdiscount item);
        partial void OnAfterCurrentdiscountCreated(Destination.Models.destinationTest.Currentdiscount item);

        public async Task<Destination.Models.destinationTest.Currentdiscount> CreateCurrentdiscount(Destination.Models.destinationTest.Currentdiscount currentdiscount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCurrentdiscountCreated(currentdiscount);

            var existingItem = context.Currentdiscounts
                              .Where(i => i.Specialsid == currentdiscount.Specialsid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Currentdiscounts.Add(currentdiscount);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(currentdiscount).State = EntityState.Detached;
                throw;
            }

            OnAfterCurrentdiscountCreated(currentdiscount);

            return currentdiscount;
        }

        public async Task<Destination.Models.destinationTest.Currentdiscount> CancelCurrentdiscountChanges(Destination.Models.destinationTest.Currentdiscount item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnCurrentdiscountUpdated(Destination.Models.destinationTest.Currentdiscount item);
        partial void OnAfterCurrentdiscountUpdated(Destination.Models.destinationTest.Currentdiscount item);

        public async Task<Destination.Models.destinationTest.Currentdiscount> UpdateCurrentdiscount(int specialsid, Destination.Models.destinationTest.Currentdiscount currentdiscount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnCurrentdiscountUpdated(currentdiscount);

            var itemToUpdate = context.Currentdiscounts
                              .Where(i => i.Specialsid == currentdiscount.Specialsid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(currentdiscount);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterCurrentdiscountUpdated(currentdiscount);

            return currentdiscount;
        }

        partial void OnCurrentdiscountDeleted(Destination.Models.destinationTest.Currentdiscount item);
        partial void OnAfterCurrentdiscountDeleted(Destination.Models.destinationTest.Currentdiscount item);

        public async Task<Destination.Models.destinationTest.Currentdiscount> DeleteCurrentdiscount(int specialsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Currentdiscounts
                              .Where(i => i.Specialsid == specialsid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnCurrentdiscountDeleted(itemToDelete);


            context.Currentdiscounts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterCurrentdiscountDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportCurrentDiscountsHistoriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/currentdiscountshistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/currentdiscountshistories/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportCurrentDiscountsHistoriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/currentdiscountshistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/currentdiscountshistories/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnCurrentDiscountsHistoriesRead(ref IQueryable<Destination.Models.destinationTest.CurrentDiscountsHistory> items);

        public async Task<List<Destination.Models.destinationTest.CurrentDiscountsHistory>> GetCurrentDiscountsHistories(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.CurrentDiscountsHistories.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnCurrentDiscountsHistoriesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportDailyProcessedMinNightsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/dailyprocessedminnights/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/dailyprocessedminnights/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDailyProcessedMinNightsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/dailyprocessedminnights/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/dailyprocessedminnights/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDailyProcessedMinNightsRead(ref IQueryable<Destination.Models.destinationTest.DailyProcessedMinNight> items);

        public async Task<List<Destination.Models.destinationTest.DailyProcessedMinNight>> GetDailyProcessedMinNights(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DailyProcessedMinNights.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDailyProcessedMinNightsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnDailyProcessedMinNightGet(Destination.Models.destinationTest.DailyProcessedMinNight item);
        partial void OnGetDailyProcessedMinNightById(ref IQueryable<Destination.Models.destinationTest.DailyProcessedMinNight> items);


        public async Task<Destination.Models.destinationTest.DailyProcessedMinNight> GetDailyProcessedMinNightById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DailyProcessedMinNights
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetDailyProcessedMinNightById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnDailyProcessedMinNightGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnDailyProcessedMinNightCreated(Destination.Models.destinationTest.DailyProcessedMinNight item);
        partial void OnAfterDailyProcessedMinNightCreated(Destination.Models.destinationTest.DailyProcessedMinNight item);

        public async Task<Destination.Models.destinationTest.DailyProcessedMinNight> CreateDailyProcessedMinNight(Destination.Models.destinationTest.DailyProcessedMinNight dailyprocessedminnight)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDailyProcessedMinNightCreated(dailyprocessedminnight);

            var existingItem = context.DailyProcessedMinNights
                              .Where(i => i.Id == dailyprocessedminnight.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.DailyProcessedMinNights.Add(dailyprocessedminnight);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(dailyprocessedminnight).State = EntityState.Detached;
                throw;
            }

            OnAfterDailyProcessedMinNightCreated(dailyprocessedminnight);

            return dailyprocessedminnight;
        }

        public async Task<Destination.Models.destinationTest.DailyProcessedMinNight> CancelDailyProcessedMinNightChanges(Destination.Models.destinationTest.DailyProcessedMinNight item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnDailyProcessedMinNightUpdated(Destination.Models.destinationTest.DailyProcessedMinNight item);
        partial void OnAfterDailyProcessedMinNightUpdated(Destination.Models.destinationTest.DailyProcessedMinNight item);

        public async Task<Destination.Models.destinationTest.DailyProcessedMinNight> UpdateDailyProcessedMinNight(int id, Destination.Models.destinationTest.DailyProcessedMinNight dailyprocessedminnight)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDailyProcessedMinNightUpdated(dailyprocessedminnight);

            var itemToUpdate = context.DailyProcessedMinNights
                              .Where(i => i.Id == dailyprocessedminnight.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(dailyprocessedminnight);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterDailyProcessedMinNightUpdated(dailyprocessedminnight);

            return dailyprocessedminnight;
        }

        partial void OnDailyProcessedMinNightDeleted(Destination.Models.destinationTest.DailyProcessedMinNight item);
        partial void OnAfterDailyProcessedMinNightDeleted(Destination.Models.destinationTest.DailyProcessedMinNight item);

        public async Task<Destination.Models.destinationTest.DailyProcessedMinNight> DeleteDailyProcessedMinNight(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.DailyProcessedMinNights
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnDailyProcessedMinNightDeleted(itemToDelete);


            context.DailyProcessedMinNights.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterDailyProcessedMinNightDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportDailyRatesBasedOnPropertyRatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/dailyratesbasedonpropertyrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/dailyratesbasedonpropertyrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDailyRatesBasedOnPropertyRatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/dailyratesbasedonpropertyrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/dailyratesbasedonpropertyrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDailyRatesBasedOnPropertyRatesRead(ref IQueryable<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate> items);

        public async Task<List<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate>> GetDailyRatesBasedOnPropertyRates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DailyRatesBasedOnPropertyRates.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDailyRatesBasedOnPropertyRatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnDailyRatesBasedOnPropertyRateGet(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item);
        partial void OnGetDailyRatesBasedOnPropertyRateById(ref IQueryable<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate> items);


        public async Task<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate> GetDailyRatesBasedOnPropertyRateById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DailyRatesBasedOnPropertyRates
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetDailyRatesBasedOnPropertyRateById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnDailyRatesBasedOnPropertyRateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnDailyRatesBasedOnPropertyRateCreated(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item);
        partial void OnAfterDailyRatesBasedOnPropertyRateCreated(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item);

        public async Task<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate> CreateDailyRatesBasedOnPropertyRate(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate dailyratesbasedonpropertyrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDailyRatesBasedOnPropertyRateCreated(dailyratesbasedonpropertyrate);

            var existingItem = context.DailyRatesBasedOnPropertyRates
                              .Where(i => i.Id == dailyratesbasedonpropertyrate.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.DailyRatesBasedOnPropertyRates.Add(dailyratesbasedonpropertyrate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(dailyratesbasedonpropertyrate).State = EntityState.Detached;
                throw;
            }

            OnAfterDailyRatesBasedOnPropertyRateCreated(dailyratesbasedonpropertyrate);

            return dailyratesbasedonpropertyrate;
        }

        public async Task<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate> CancelDailyRatesBasedOnPropertyRateChanges(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnDailyRatesBasedOnPropertyRateUpdated(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item);
        partial void OnAfterDailyRatesBasedOnPropertyRateUpdated(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item);

        public async Task<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate> UpdateDailyRatesBasedOnPropertyRate(int id, Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate dailyratesbasedonpropertyrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDailyRatesBasedOnPropertyRateUpdated(dailyratesbasedonpropertyrate);

            var itemToUpdate = context.DailyRatesBasedOnPropertyRates
                              .Where(i => i.Id == dailyratesbasedonpropertyrate.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(dailyratesbasedonpropertyrate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterDailyRatesBasedOnPropertyRateUpdated(dailyratesbasedonpropertyrate);

            return dailyratesbasedonpropertyrate;
        }

        partial void OnDailyRatesBasedOnPropertyRateDeleted(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item);
        partial void OnAfterDailyRatesBasedOnPropertyRateDeleted(Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate item);

        public async Task<Destination.Models.destinationTest.DailyRatesBasedOnPropertyRate> DeleteDailyRatesBasedOnPropertyRate(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.DailyRatesBasedOnPropertyRates
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnDailyRatesBasedOnPropertyRateDeleted(itemToDelete);


            context.DailyRatesBasedOnPropertyRates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterDailyRatesBasedOnPropertyRateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportDailyStatsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/dailystats/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/dailystats/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDailyStatsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/dailystats/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/dailystats/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDailyStatsRead(ref IQueryable<Destination.Models.destinationTest.DailyStat> items);

        public async Task<List<Destination.Models.destinationTest.DailyStat>> GetDailyStats(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DailyStats.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDailyStatsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnDailyStatGet(Destination.Models.destinationTest.DailyStat item);
        partial void OnGetDailyStatByIntStatsId(ref IQueryable<Destination.Models.destinationTest.DailyStat> items);


        public async Task<Destination.Models.destinationTest.DailyStat> GetDailyStatByIntStatsId(int intstatsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DailyStats
                              .AsNoTracking()
                              .Where(i => i.IntStatsId == intstatsid);

 
            OnGetDailyStatByIntStatsId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnDailyStatGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnDailyStatCreated(Destination.Models.destinationTest.DailyStat item);
        partial void OnAfterDailyStatCreated(Destination.Models.destinationTest.DailyStat item);

        public async Task<Destination.Models.destinationTest.DailyStat> CreateDailyStat(Destination.Models.destinationTest.DailyStat dailystat)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDailyStatCreated(dailystat);

            var existingItem = context.DailyStats
                              .Where(i => i.IntStatsId == dailystat.IntStatsId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.DailyStats.Add(dailystat);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(dailystat).State = EntityState.Detached;
                throw;
            }

            OnAfterDailyStatCreated(dailystat);

            return dailystat;
        }

        public async Task<Destination.Models.destinationTest.DailyStat> CancelDailyStatChanges(Destination.Models.destinationTest.DailyStat item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnDailyStatUpdated(Destination.Models.destinationTest.DailyStat item);
        partial void OnAfterDailyStatUpdated(Destination.Models.destinationTest.DailyStat item);

        public async Task<Destination.Models.destinationTest.DailyStat> UpdateDailyStat(int intstatsid, Destination.Models.destinationTest.DailyStat dailystat)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDailyStatUpdated(dailystat);

            var itemToUpdate = context.DailyStats
                              .Where(i => i.IntStatsId == dailystat.IntStatsId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(dailystat);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterDailyStatUpdated(dailystat);

            return dailystat;
        }

        partial void OnDailyStatDeleted(Destination.Models.destinationTest.DailyStat item);
        partial void OnAfterDailyStatDeleted(Destination.Models.destinationTest.DailyStat item);

        public async Task<Destination.Models.destinationTest.DailyStat> DeleteDailyStat(int intstatsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.DailyStats
                              .Where(i => i.IntStatsId == intstatsid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnDailyStatDeleted(itemToDelete);


            context.DailyStats.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterDailyStatDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportDeletedGapHolderBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/deletedgapholderbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/deletedgapholderbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDeletedGapHolderBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/deletedgapholderbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/deletedgapholderbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDeletedGapHolderBookingsRead(ref IQueryable<Destination.Models.destinationTest.DeletedGapHolderBooking> items);

        public async Task<List<Destination.Models.destinationTest.DeletedGapHolderBooking>> GetDeletedGapHolderBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DeletedGapHolderBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDeletedGapHolderBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportDepositHoldLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/depositholdlogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/depositholdlogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDepositHoldLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/depositholdlogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/depositholdlogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDepositHoldLogsRead(ref IQueryable<Destination.Models.destinationTest.DepositHoldLog> items);

        public async Task<List<Destination.Models.destinationTest.DepositHoldLog>> GetDepositHoldLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DepositHoldLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDepositHoldLogsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportDiscountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/discounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/discounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDiscountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/discounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/discounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDiscountsRead(ref IQueryable<Destination.Models.destinationTest.Discount> items);

        public async Task<List<Destination.Models.destinationTest.Discount>> GetDiscounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Discounts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDiscountsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnDiscountGet(Destination.Models.destinationTest.Discount item);
        partial void OnGetDiscountByDiscountid(ref IQueryable<Destination.Models.destinationTest.Discount> items);


        public async Task<Destination.Models.destinationTest.Discount> GetDiscountByDiscountid(int discountid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Discounts
                              .AsNoTracking()
                              .Where(i => i.Discountid == discountid);

 
            OnGetDiscountByDiscountid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnDiscountGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnDiscountCreated(Destination.Models.destinationTest.Discount item);
        partial void OnAfterDiscountCreated(Destination.Models.destinationTest.Discount item);

        public async Task<Destination.Models.destinationTest.Discount> CreateDiscount(Destination.Models.destinationTest.Discount discount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDiscountCreated(discount);

            var existingItem = context.Discounts
                              .Where(i => i.Discountid == discount.Discountid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Discounts.Add(discount);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(discount).State = EntityState.Detached;
                throw;
            }

            OnAfterDiscountCreated(discount);

            return discount;
        }

        public async Task<Destination.Models.destinationTest.Discount> CancelDiscountChanges(Destination.Models.destinationTest.Discount item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnDiscountUpdated(Destination.Models.destinationTest.Discount item);
        partial void OnAfterDiscountUpdated(Destination.Models.destinationTest.Discount item);

        public async Task<Destination.Models.destinationTest.Discount> UpdateDiscount(int discountid, Destination.Models.destinationTest.Discount discount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDiscountUpdated(discount);

            var itemToUpdate = context.Discounts
                              .Where(i => i.Discountid == discount.Discountid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(discount);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterDiscountUpdated(discount);

            return discount;
        }

        partial void OnDiscountDeleted(Destination.Models.destinationTest.Discount item);
        partial void OnAfterDiscountDeleted(Destination.Models.destinationTest.Discount item);

        public async Task<Destination.Models.destinationTest.Discount> DeleteDiscount(int discountid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Discounts
                              .Where(i => i.Discountid == discountid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnDiscountDeleted(itemToDelete);


            context.Discounts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterDiscountDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportDoNotRentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/donotrents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/donotrents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDoNotRentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/donotrents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/donotrents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDoNotRentsRead(ref IQueryable<Destination.Models.destinationTest.DoNotRent> items);

        public async Task<List<Destination.Models.destinationTest.DoNotRent>> GetDoNotRents(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DoNotRents.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDoNotRentsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportDoorCodeLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/doorcodelogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/doorcodelogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportDoorCodeLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/doorcodelogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/doorcodelogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnDoorCodeLogsRead(ref IQueryable<Destination.Models.destinationTest.DoorCodeLog> items);

        public async Task<List<Destination.Models.destinationTest.DoorCodeLog>> GetDoorCodeLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DoorCodeLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnDoorCodeLogsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnDoorCodeLogGet(Destination.Models.destinationTest.DoorCodeLog item);
        partial void OnGetDoorCodeLogById(ref IQueryable<Destination.Models.destinationTest.DoorCodeLog> items);


        public async Task<Destination.Models.destinationTest.DoorCodeLog> GetDoorCodeLogById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.DoorCodeLogs
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetDoorCodeLogById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnDoorCodeLogGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnDoorCodeLogCreated(Destination.Models.destinationTest.DoorCodeLog item);
        partial void OnAfterDoorCodeLogCreated(Destination.Models.destinationTest.DoorCodeLog item);

        public async Task<Destination.Models.destinationTest.DoorCodeLog> CreateDoorCodeLog(Destination.Models.destinationTest.DoorCodeLog doorcodelog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDoorCodeLogCreated(doorcodelog);

            var existingItem = context.DoorCodeLogs
                              .Where(i => i.Id == doorcodelog.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.DoorCodeLogs.Add(doorcodelog);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(doorcodelog).State = EntityState.Detached;
                throw;
            }

            OnAfterDoorCodeLogCreated(doorcodelog);

            return doorcodelog;
        }

        public async Task<Destination.Models.destinationTest.DoorCodeLog> CancelDoorCodeLogChanges(Destination.Models.destinationTest.DoorCodeLog item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnDoorCodeLogUpdated(Destination.Models.destinationTest.DoorCodeLog item);
        partial void OnAfterDoorCodeLogUpdated(Destination.Models.destinationTest.DoorCodeLog item);

        public async Task<Destination.Models.destinationTest.DoorCodeLog> UpdateDoorCodeLog(int id, Destination.Models.destinationTest.DoorCodeLog doorcodelog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnDoorCodeLogUpdated(doorcodelog);

            var itemToUpdate = context.DoorCodeLogs
                              .Where(i => i.Id == doorcodelog.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(doorcodelog);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterDoorCodeLogUpdated(doorcodelog);

            return doorcodelog;
        }

        partial void OnDoorCodeLogDeleted(Destination.Models.destinationTest.DoorCodeLog item);
        partial void OnAfterDoorCodeLogDeleted(Destination.Models.destinationTest.DoorCodeLog item);

        public async Task<Destination.Models.destinationTest.DoorCodeLog> DeleteDoorCodeLog(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.DoorCodeLogs
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnDoorCodeLogDeleted(itemToDelete);


            context.DoorCodeLogs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterDoorCodeLogDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportEmailRemoveListsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/emailremovelists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/emailremovelists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportEmailRemoveListsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/emailremovelists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/emailremovelists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnEmailRemoveListsRead(ref IQueryable<Destination.Models.destinationTest.EmailRemoveList> items);

        public async Task<List<Destination.Models.destinationTest.EmailRemoveList>> GetEmailRemoveLists(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.EmailRemoveLists.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnEmailRemoveListsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnEmailRemoveListGet(Destination.Models.destinationTest.EmailRemoveList item);
        partial void OnGetEmailRemoveListById(ref IQueryable<Destination.Models.destinationTest.EmailRemoveList> items);


        public async Task<Destination.Models.destinationTest.EmailRemoveList> GetEmailRemoveListById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.EmailRemoveLists
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetEmailRemoveListById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnEmailRemoveListGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnEmailRemoveListCreated(Destination.Models.destinationTest.EmailRemoveList item);
        partial void OnAfterEmailRemoveListCreated(Destination.Models.destinationTest.EmailRemoveList item);

        public async Task<Destination.Models.destinationTest.EmailRemoveList> CreateEmailRemoveList(Destination.Models.destinationTest.EmailRemoveList emailremovelist)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEmailRemoveListCreated(emailremovelist);

            var existingItem = context.EmailRemoveLists
                              .Where(i => i.Id == emailremovelist.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.EmailRemoveLists.Add(emailremovelist);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(emailremovelist).State = EntityState.Detached;
                throw;
            }

            OnAfterEmailRemoveListCreated(emailremovelist);

            return emailremovelist;
        }

        public async Task<Destination.Models.destinationTest.EmailRemoveList> CancelEmailRemoveListChanges(Destination.Models.destinationTest.EmailRemoveList item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnEmailRemoveListUpdated(Destination.Models.destinationTest.EmailRemoveList item);
        partial void OnAfterEmailRemoveListUpdated(Destination.Models.destinationTest.EmailRemoveList item);

        public async Task<Destination.Models.destinationTest.EmailRemoveList> UpdateEmailRemoveList(int id, Destination.Models.destinationTest.EmailRemoveList emailremovelist)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEmailRemoveListUpdated(emailremovelist);

            var itemToUpdate = context.EmailRemoveLists
                              .Where(i => i.Id == emailremovelist.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(emailremovelist);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterEmailRemoveListUpdated(emailremovelist);

            return emailremovelist;
        }

        partial void OnEmailRemoveListDeleted(Destination.Models.destinationTest.EmailRemoveList item);
        partial void OnAfterEmailRemoveListDeleted(Destination.Models.destinationTest.EmailRemoveList item);

        public async Task<Destination.Models.destinationTest.EmailRemoveList> DeleteEmailRemoveList(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.EmailRemoveLists
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnEmailRemoveListDeleted(itemToDelete);


            context.EmailRemoveLists.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterEmailRemoveListDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportEmailRemoveList1SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/emailremovelist1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/emailremovelist1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportEmailRemoveList1SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/emailremovelist1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/emailremovelist1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnEmailRemoveList1SRead(ref IQueryable<Destination.Models.destinationTest.EmailRemoveList1> items);

        public async Task<List<Destination.Models.destinationTest.EmailRemoveList1>> GetEmailRemoveList1S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.EmailRemoveList1S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnEmailRemoveList1SRead(ref items);

return await items.ToListAsync();
        }

        partial void OnEmailRemoveList1Get(Destination.Models.destinationTest.EmailRemoveList1 item);
        partial void OnGetEmailRemoveList1ById(ref IQueryable<Destination.Models.destinationTest.EmailRemoveList1> items);


        public async Task<Destination.Models.destinationTest.EmailRemoveList1> GetEmailRemoveList1ById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.EmailRemoveList1S
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetEmailRemoveList1ById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnEmailRemoveList1Get(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnEmailRemoveList1Created(Destination.Models.destinationTest.EmailRemoveList1 item);
        partial void OnAfterEmailRemoveList1Created(Destination.Models.destinationTest.EmailRemoveList1 item);

        public async Task<Destination.Models.destinationTest.EmailRemoveList1> CreateEmailRemoveList1(Destination.Models.destinationTest.EmailRemoveList1 emailremovelist1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEmailRemoveList1Created(emailremovelist1);

            var existingItem = context.EmailRemoveList1S
                              .Where(i => i.Id == emailremovelist1.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.EmailRemoveList1S.Add(emailremovelist1);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(emailremovelist1).State = EntityState.Detached;
                throw;
            }

            OnAfterEmailRemoveList1Created(emailremovelist1);

            return emailremovelist1;
        }

        public async Task<Destination.Models.destinationTest.EmailRemoveList1> CancelEmailRemoveList1Changes(Destination.Models.destinationTest.EmailRemoveList1 item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnEmailRemoveList1Updated(Destination.Models.destinationTest.EmailRemoveList1 item);
        partial void OnAfterEmailRemoveList1Updated(Destination.Models.destinationTest.EmailRemoveList1 item);

        public async Task<Destination.Models.destinationTest.EmailRemoveList1> UpdateEmailRemoveList1(int id, Destination.Models.destinationTest.EmailRemoveList1 emailremovelist1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEmailRemoveList1Updated(emailremovelist1);

            var itemToUpdate = context.EmailRemoveList1S
                              .Where(i => i.Id == emailremovelist1.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(emailremovelist1);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterEmailRemoveList1Updated(emailremovelist1);

            return emailremovelist1;
        }

        partial void OnEmailRemoveList1Deleted(Destination.Models.destinationTest.EmailRemoveList1 item);
        partial void OnAfterEmailRemoveList1Deleted(Destination.Models.destinationTest.EmailRemoveList1 item);

        public async Task<Destination.Models.destinationTest.EmailRemoveList1> DeleteEmailRemoveList1(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.EmailRemoveList1S
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnEmailRemoveList1Deleted(itemToDelete);


            context.EmailRemoveList1S.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterEmailRemoveList1Deleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportEmailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/emails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/emails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportEmailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/emails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/emails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnEmailsRead(ref IQueryable<Destination.Models.destinationTest.Email> items);

        public async Task<List<Destination.Models.destinationTest.Email>> GetEmails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Emails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnEmailsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnEmailGet(Destination.Models.destinationTest.Email item);
        partial void OnGetEmailByEmailid(ref IQueryable<Destination.Models.destinationTest.Email> items);


        public async Task<Destination.Models.destinationTest.Email> GetEmailByEmailid(int emailid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Emails
                              .AsNoTracking()
                              .Where(i => i.Emailid == emailid);

 
            OnGetEmailByEmailid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnEmailGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnEmailCreated(Destination.Models.destinationTest.Email item);
        partial void OnAfterEmailCreated(Destination.Models.destinationTest.Email item);

        public async Task<Destination.Models.destinationTest.Email> CreateEmail(Destination.Models.destinationTest.Email email)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEmailCreated(email);

            var existingItem = context.Emails
                              .Where(i => i.Emailid == email.Emailid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Emails.Add(email);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(email).State = EntityState.Detached;
                throw;
            }

            OnAfterEmailCreated(email);

            return email;
        }

        public async Task<Destination.Models.destinationTest.Email> CancelEmailChanges(Destination.Models.destinationTest.Email item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnEmailUpdated(Destination.Models.destinationTest.Email item);
        partial void OnAfterEmailUpdated(Destination.Models.destinationTest.Email item);

        public async Task<Destination.Models.destinationTest.Email> UpdateEmail(int emailid, Destination.Models.destinationTest.Email email)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEmailUpdated(email);

            var itemToUpdate = context.Emails
                              .Where(i => i.Emailid == email.Emailid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(email);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterEmailUpdated(email);

            return email;
        }

        partial void OnEmailDeleted(Destination.Models.destinationTest.Email item);
        partial void OnAfterEmailDeleted(Destination.Models.destinationTest.Email item);

        public async Task<Destination.Models.destinationTest.Email> DeleteEmail(int emailid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Emails
                              .Where(i => i.Emailid == emailid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnEmailDeleted(itemToDelete);


            context.Emails.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterEmailDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportEventDatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/eventdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/eventdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportEventDatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/eventdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/eventdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnEventDatesRead(ref IQueryable<Destination.Models.destinationTest.EventDate> items);

        public async Task<List<Destination.Models.destinationTest.EventDate>> GetEventDates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.EventDates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnEventDatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnEventDateGet(Destination.Models.destinationTest.EventDate item);
        partial void OnGetEventDateById(ref IQueryable<Destination.Models.destinationTest.EventDate> items);


        public async Task<Destination.Models.destinationTest.EventDate> GetEventDateById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.EventDates
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetEventDateById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnEventDateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnEventDateCreated(Destination.Models.destinationTest.EventDate item);
        partial void OnAfterEventDateCreated(Destination.Models.destinationTest.EventDate item);

        public async Task<Destination.Models.destinationTest.EventDate> CreateEventDate(Destination.Models.destinationTest.EventDate eventdate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEventDateCreated(eventdate);

            var existingItem = context.EventDates
                              .Where(i => i.Id == eventdate.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.EventDates.Add(eventdate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(eventdate).State = EntityState.Detached;
                throw;
            }

            OnAfterEventDateCreated(eventdate);

            return eventdate;
        }

        public async Task<Destination.Models.destinationTest.EventDate> CancelEventDateChanges(Destination.Models.destinationTest.EventDate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnEventDateUpdated(Destination.Models.destinationTest.EventDate item);
        partial void OnAfterEventDateUpdated(Destination.Models.destinationTest.EventDate item);

        public async Task<Destination.Models.destinationTest.EventDate> UpdateEventDate(int id, Destination.Models.destinationTest.EventDate eventdate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnEventDateUpdated(eventdate);

            var itemToUpdate = context.EventDates
                              .Where(i => i.Id == eventdate.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(eventdate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterEventDateUpdated(eventdate);

            return eventdate;
        }

        partial void OnEventDateDeleted(Destination.Models.destinationTest.EventDate item);
        partial void OnAfterEventDateDeleted(Destination.Models.destinationTest.EventDate item);

        public async Task<Destination.Models.destinationTest.EventDate> DeleteEventDate(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.EventDates
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnEventDateDeleted(itemToDelete);


            context.EventDates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterEventDateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportFavoritesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/favorites/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/favorites/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportFavoritesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/favorites/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/favorites/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnFavoritesRead(ref IQueryable<Destination.Models.destinationTest.Favorite> items);

        public async Task<List<Destination.Models.destinationTest.Favorite>> GetFavorites(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Favorites.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnFavoritesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnFavoriteGet(Destination.Models.destinationTest.Favorite item);
        partial void OnGetFavoriteByIntFavId(ref IQueryable<Destination.Models.destinationTest.Favorite> items);


        public async Task<Destination.Models.destinationTest.Favorite> GetFavoriteByIntFavId(int intfavid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Favorites
                              .AsNoTracking()
                              .Where(i => i.IntFavId == intfavid);

 
            OnGetFavoriteByIntFavId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnFavoriteGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnFavoriteCreated(Destination.Models.destinationTest.Favorite item);
        partial void OnAfterFavoriteCreated(Destination.Models.destinationTest.Favorite item);

        public async Task<Destination.Models.destinationTest.Favorite> CreateFavorite(Destination.Models.destinationTest.Favorite favorite)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnFavoriteCreated(favorite);

            var existingItem = context.Favorites
                              .Where(i => i.IntFavId == favorite.IntFavId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Favorites.Add(favorite);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(favorite).State = EntityState.Detached;
                throw;
            }

            OnAfterFavoriteCreated(favorite);

            return favorite;
        }

        public async Task<Destination.Models.destinationTest.Favorite> CancelFavoriteChanges(Destination.Models.destinationTest.Favorite item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnFavoriteUpdated(Destination.Models.destinationTest.Favorite item);
        partial void OnAfterFavoriteUpdated(Destination.Models.destinationTest.Favorite item);

        public async Task<Destination.Models.destinationTest.Favorite> UpdateFavorite(int intfavid, Destination.Models.destinationTest.Favorite favorite)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnFavoriteUpdated(favorite);

            var itemToUpdate = context.Favorites
                              .Where(i => i.IntFavId == favorite.IntFavId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(favorite);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterFavoriteUpdated(favorite);

            return favorite;
        }

        partial void OnFavoriteDeleted(Destination.Models.destinationTest.Favorite item);
        partial void OnAfterFavoriteDeleted(Destination.Models.destinationTest.Favorite item);

        public async Task<Destination.Models.destinationTest.Favorite> DeleteFavorite(int intfavid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Favorites
                              .Where(i => i.IntFavId == intfavid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnFavoriteDeleted(itemToDelete);


            context.Favorites.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterFavoriteDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportFilterDataForBulkSmsMailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/filterdataforbulksmsmails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/filterdataforbulksmsmails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportFilterDataForBulkSmsMailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/filterdataforbulksmsmails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/filterdataforbulksmsmails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnFilterDataForBulkSmsMailsRead(ref IQueryable<Destination.Models.destinationTest.FilterDataForBulkSmsMail> items);

        public async Task<List<Destination.Models.destinationTest.FilterDataForBulkSmsMail>> GetFilterDataForBulkSmsMails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.FilterDataForBulkSmsMails.AsQueryable();

            items = items.Include(i => i.Campaign);
            items = items.Include(i => i.Property);
            items = items.Include(i => i.PropertySource);
            items = items.Include(i => i.BookingStatus);
            items = items.Include(i => i.Template);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnFilterDataForBulkSmsMailsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnFilterDataForBulkSmsMailGet(Destination.Models.destinationTest.FilterDataForBulkSmsMail item);
        partial void OnGetFilterDataForBulkSmsMailById(ref IQueryable<Destination.Models.destinationTest.FilterDataForBulkSmsMail> items);


        public async Task<Destination.Models.destinationTest.FilterDataForBulkSmsMail> GetFilterDataForBulkSmsMailById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.FilterDataForBulkSmsMails
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Campaign);
            items = items.Include(i => i.Property);
            items = items.Include(i => i.PropertySource);
            items = items.Include(i => i.BookingStatus);
            items = items.Include(i => i.Template);
 
            OnGetFilterDataForBulkSmsMailById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnFilterDataForBulkSmsMailGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnFilterDataForBulkSmsMailCreated(Destination.Models.destinationTest.FilterDataForBulkSmsMail item);
        partial void OnAfterFilterDataForBulkSmsMailCreated(Destination.Models.destinationTest.FilterDataForBulkSmsMail item);

        public async Task<Destination.Models.destinationTest.FilterDataForBulkSmsMail> CreateFilterDataForBulkSmsMail(Destination.Models.destinationTest.FilterDataForBulkSmsMail filterdataforbulksmsmail)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnFilterDataForBulkSmsMailCreated(filterdataforbulksmsmail);

            var existingItem = context.FilterDataForBulkSmsMails
                              .Where(i => i.Id == filterdataforbulksmsmail.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.FilterDataForBulkSmsMails.Add(filterdataforbulksmsmail);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(filterdataforbulksmsmail).State = EntityState.Detached;
                throw;
            }

            OnAfterFilterDataForBulkSmsMailCreated(filterdataforbulksmsmail);

            return filterdataforbulksmsmail;
        }

        public async Task<Destination.Models.destinationTest.FilterDataForBulkSmsMail> CancelFilterDataForBulkSmsMailChanges(Destination.Models.destinationTest.FilterDataForBulkSmsMail item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnFilterDataForBulkSmsMailUpdated(Destination.Models.destinationTest.FilterDataForBulkSmsMail item);
        partial void OnAfterFilterDataForBulkSmsMailUpdated(Destination.Models.destinationTest.FilterDataForBulkSmsMail item);

        public async Task<Destination.Models.destinationTest.FilterDataForBulkSmsMail> UpdateFilterDataForBulkSmsMail(int id, Destination.Models.destinationTest.FilterDataForBulkSmsMail filterdataforbulksmsmail)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnFilterDataForBulkSmsMailUpdated(filterdataforbulksmsmail);

            var itemToUpdate = context.FilterDataForBulkSmsMails
                              .Where(i => i.Id == filterdataforbulksmsmail.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(filterdataforbulksmsmail);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterFilterDataForBulkSmsMailUpdated(filterdataforbulksmsmail);

            return filterdataforbulksmsmail;
        }

        partial void OnFilterDataForBulkSmsMailDeleted(Destination.Models.destinationTest.FilterDataForBulkSmsMail item);
        partial void OnAfterFilterDataForBulkSmsMailDeleted(Destination.Models.destinationTest.FilterDataForBulkSmsMail item);

        public async Task<Destination.Models.destinationTest.FilterDataForBulkSmsMail> DeleteFilterDataForBulkSmsMail(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.FilterDataForBulkSmsMails
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnFilterDataForBulkSmsMailDeleted(itemToDelete);


            context.FilterDataForBulkSmsMails.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterFilterDataForBulkSmsMailDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportFinalDataToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/finaldata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/finaldata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportFinalDataToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/finaldata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/finaldata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnFinalDataRead(ref IQueryable<Destination.Models.destinationTest.FinalDatum> items);

        public async Task<List<Destination.Models.destinationTest.FinalDatum>> GetFinalData(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.FinalData.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnFinalDataRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportForecastsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/forecasts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/forecasts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportForecastsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/forecasts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/forecasts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnForecastsRead(ref IQueryable<Destination.Models.destinationTest.Forecast> items);

        public async Task<List<Destination.Models.destinationTest.Forecast>> GetForecasts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Forecasts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnForecastsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnForecastGet(Destination.Models.destinationTest.Forecast item);
        partial void OnGetForecastById(ref IQueryable<Destination.Models.destinationTest.Forecast> items);


        public async Task<Destination.Models.destinationTest.Forecast> GetForecastById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Forecasts
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetForecastById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnForecastGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnForecastCreated(Destination.Models.destinationTest.Forecast item);
        partial void OnAfterForecastCreated(Destination.Models.destinationTest.Forecast item);

        public async Task<Destination.Models.destinationTest.Forecast> CreateForecast(Destination.Models.destinationTest.Forecast forecast)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnForecastCreated(forecast);

            var existingItem = context.Forecasts
                              .Where(i => i.Id == forecast.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Forecasts.Add(forecast);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(forecast).State = EntityState.Detached;
                throw;
            }

            OnAfterForecastCreated(forecast);

            return forecast;
        }

        public async Task<Destination.Models.destinationTest.Forecast> CancelForecastChanges(Destination.Models.destinationTest.Forecast item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnForecastUpdated(Destination.Models.destinationTest.Forecast item);
        partial void OnAfterForecastUpdated(Destination.Models.destinationTest.Forecast item);

        public async Task<Destination.Models.destinationTest.Forecast> UpdateForecast(int id, Destination.Models.destinationTest.Forecast forecast)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnForecastUpdated(forecast);

            var itemToUpdate = context.Forecasts
                              .Where(i => i.Id == forecast.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(forecast);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterForecastUpdated(forecast);

            return forecast;
        }

        partial void OnForecastDeleted(Destination.Models.destinationTest.Forecast item);
        partial void OnAfterForecastDeleted(Destination.Models.destinationTest.Forecast item);

        public async Task<Destination.Models.destinationTest.Forecast> DeleteForecast(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Forecasts
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnForecastDeleted(itemToDelete);


            context.Forecasts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterForecastDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportGoogleUsersKeywordsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/googleuserskeywords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/googleuserskeywords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportGoogleUsersKeywordsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/googleuserskeywords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/googleuserskeywords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnGoogleUsersKeywordsRead(ref IQueryable<Destination.Models.destinationTest.GoogleUsersKeyword> items);

        public async Task<List<Destination.Models.destinationTest.GoogleUsersKeyword>> GetGoogleUsersKeywords(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.GoogleUsersKeywords.AsQueryable();

            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnGoogleUsersKeywordsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnGoogleUsersKeywordGet(Destination.Models.destinationTest.GoogleUsersKeyword item);
        partial void OnGetGoogleUsersKeywordById(ref IQueryable<Destination.Models.destinationTest.GoogleUsersKeyword> items);


        public async Task<Destination.Models.destinationTest.GoogleUsersKeyword> GetGoogleUsersKeywordById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.GoogleUsersKeywords
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Booking);
 
            OnGetGoogleUsersKeywordById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnGoogleUsersKeywordGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnGoogleUsersKeywordCreated(Destination.Models.destinationTest.GoogleUsersKeyword item);
        partial void OnAfterGoogleUsersKeywordCreated(Destination.Models.destinationTest.GoogleUsersKeyword item);

        public async Task<Destination.Models.destinationTest.GoogleUsersKeyword> CreateGoogleUsersKeyword(Destination.Models.destinationTest.GoogleUsersKeyword googleuserskeyword)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnGoogleUsersKeywordCreated(googleuserskeyword);

            var existingItem = context.GoogleUsersKeywords
                              .Where(i => i.Id == googleuserskeyword.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.GoogleUsersKeywords.Add(googleuserskeyword);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(googleuserskeyword).State = EntityState.Detached;
                throw;
            }

            OnAfterGoogleUsersKeywordCreated(googleuserskeyword);

            return googleuserskeyword;
        }

        public async Task<Destination.Models.destinationTest.GoogleUsersKeyword> CancelGoogleUsersKeywordChanges(Destination.Models.destinationTest.GoogleUsersKeyword item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnGoogleUsersKeywordUpdated(Destination.Models.destinationTest.GoogleUsersKeyword item);
        partial void OnAfterGoogleUsersKeywordUpdated(Destination.Models.destinationTest.GoogleUsersKeyword item);

        public async Task<Destination.Models.destinationTest.GoogleUsersKeyword> UpdateGoogleUsersKeyword(int id, Destination.Models.destinationTest.GoogleUsersKeyword googleuserskeyword)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnGoogleUsersKeywordUpdated(googleuserskeyword);

            var itemToUpdate = context.GoogleUsersKeywords
                              .Where(i => i.Id == googleuserskeyword.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(googleuserskeyword);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterGoogleUsersKeywordUpdated(googleuserskeyword);

            return googleuserskeyword;
        }

        partial void OnGoogleUsersKeywordDeleted(Destination.Models.destinationTest.GoogleUsersKeyword item);
        partial void OnAfterGoogleUsersKeywordDeleted(Destination.Models.destinationTest.GoogleUsersKeyword item);

        public async Task<Destination.Models.destinationTest.GoogleUsersKeyword> DeleteGoogleUsersKeyword(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.GoogleUsersKeywords
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnGoogleUsersKeywordDeleted(itemToDelete);


            context.GoogleUsersKeywords.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterGoogleUsersKeywordDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportGuestCodeCallsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/guestcodecalls/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/guestcodecalls/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportGuestCodeCallsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/guestcodecalls/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/guestcodecalls/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnGuestCodeCallsRead(ref IQueryable<Destination.Models.destinationTest.GuestCodeCall> items);

        public async Task<List<Destination.Models.destinationTest.GuestCodeCall>> GetGuestCodeCalls(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.GuestCodeCalls.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnGuestCodeCallsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportHotHomesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/hothomes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/hothomes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportHotHomesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/hothomes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/hothomes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnHotHomesRead(ref IQueryable<Destination.Models.destinationTest.HotHome> items);

        public async Task<List<Destination.Models.destinationTest.HotHome>> GetHotHomes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.HotHomes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnHotHomesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportHouseRulesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/houserules/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/houserules/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportHouseRulesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/houserules/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/houserules/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnHouseRulesRead(ref IQueryable<Destination.Models.destinationTest.HouseRule> items);

        public async Task<List<Destination.Models.destinationTest.HouseRule>> GetHouseRules(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.HouseRules.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnHouseRulesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportInntopiaCallLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiacalllogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiacalllogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInntopiaCallLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiacalllogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiacalllogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInntopiaCallLogsRead(ref IQueryable<Destination.Models.destinationTest.InntopiaCallLog> items);

        public async Task<List<Destination.Models.destinationTest.InntopiaCallLog>> GetInntopiaCallLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaCallLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInntopiaCallLogsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInntopiaCallLogGet(Destination.Models.destinationTest.InntopiaCallLog item);
        partial void OnGetInntopiaCallLogById(ref IQueryable<Destination.Models.destinationTest.InntopiaCallLog> items);


        public async Task<Destination.Models.destinationTest.InntopiaCallLog> GetInntopiaCallLogById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaCallLogs
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetInntopiaCallLogById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInntopiaCallLogGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInntopiaCallLogCreated(Destination.Models.destinationTest.InntopiaCallLog item);
        partial void OnAfterInntopiaCallLogCreated(Destination.Models.destinationTest.InntopiaCallLog item);

        public async Task<Destination.Models.destinationTest.InntopiaCallLog> CreateInntopiaCallLog(Destination.Models.destinationTest.InntopiaCallLog inntopiacalllog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaCallLogCreated(inntopiacalllog);

            var existingItem = context.InntopiaCallLogs
                              .Where(i => i.Id == inntopiacalllog.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.InntopiaCallLogs.Add(inntopiacalllog);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(inntopiacalllog).State = EntityState.Detached;
                throw;
            }

            OnAfterInntopiaCallLogCreated(inntopiacalllog);

            return inntopiacalllog;
        }

        public async Task<Destination.Models.destinationTest.InntopiaCallLog> CancelInntopiaCallLogChanges(Destination.Models.destinationTest.InntopiaCallLog item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInntopiaCallLogUpdated(Destination.Models.destinationTest.InntopiaCallLog item);
        partial void OnAfterInntopiaCallLogUpdated(Destination.Models.destinationTest.InntopiaCallLog item);

        public async Task<Destination.Models.destinationTest.InntopiaCallLog> UpdateInntopiaCallLog(int id, Destination.Models.destinationTest.InntopiaCallLog inntopiacalllog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaCallLogUpdated(inntopiacalllog);

            var itemToUpdate = context.InntopiaCallLogs
                              .Where(i => i.Id == inntopiacalllog.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(inntopiacalllog);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInntopiaCallLogUpdated(inntopiacalllog);

            return inntopiacalllog;
        }

        partial void OnInntopiaCallLogDeleted(Destination.Models.destinationTest.InntopiaCallLog item);
        partial void OnAfterInntopiaCallLogDeleted(Destination.Models.destinationTest.InntopiaCallLog item);

        public async Task<Destination.Models.destinationTest.InntopiaCallLog> DeleteInntopiaCallLog(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.InntopiaCallLogs
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInntopiaCallLogDeleted(itemToDelete);


            context.InntopiaCallLogs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInntopiaCallLogDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportInntopiaPushTimeLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiapushtimelogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiapushtimelogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInntopiaPushTimeLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiapushtimelogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiapushtimelogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInntopiaPushTimeLogsRead(ref IQueryable<Destination.Models.destinationTest.InntopiaPushTimeLog> items);

        public async Task<List<Destination.Models.destinationTest.InntopiaPushTimeLog>> GetInntopiaPushTimeLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaPushTimeLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInntopiaPushTimeLogsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInntopiaPushTimeLogGet(Destination.Models.destinationTest.InntopiaPushTimeLog item);
        partial void OnGetInntopiaPushTimeLogById(ref IQueryable<Destination.Models.destinationTest.InntopiaPushTimeLog> items);


        public async Task<Destination.Models.destinationTest.InntopiaPushTimeLog> GetInntopiaPushTimeLogById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaPushTimeLogs
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetInntopiaPushTimeLogById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInntopiaPushTimeLogGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInntopiaPushTimeLogCreated(Destination.Models.destinationTest.InntopiaPushTimeLog item);
        partial void OnAfterInntopiaPushTimeLogCreated(Destination.Models.destinationTest.InntopiaPushTimeLog item);

        public async Task<Destination.Models.destinationTest.InntopiaPushTimeLog> CreateInntopiaPushTimeLog(Destination.Models.destinationTest.InntopiaPushTimeLog inntopiapushtimelog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaPushTimeLogCreated(inntopiapushtimelog);

            var existingItem = context.InntopiaPushTimeLogs
                              .Where(i => i.Id == inntopiapushtimelog.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.InntopiaPushTimeLogs.Add(inntopiapushtimelog);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(inntopiapushtimelog).State = EntityState.Detached;
                throw;
            }

            OnAfterInntopiaPushTimeLogCreated(inntopiapushtimelog);

            return inntopiapushtimelog;
        }

        public async Task<Destination.Models.destinationTest.InntopiaPushTimeLog> CancelInntopiaPushTimeLogChanges(Destination.Models.destinationTest.InntopiaPushTimeLog item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInntopiaPushTimeLogUpdated(Destination.Models.destinationTest.InntopiaPushTimeLog item);
        partial void OnAfterInntopiaPushTimeLogUpdated(Destination.Models.destinationTest.InntopiaPushTimeLog item);

        public async Task<Destination.Models.destinationTest.InntopiaPushTimeLog> UpdateInntopiaPushTimeLog(int id, Destination.Models.destinationTest.InntopiaPushTimeLog inntopiapushtimelog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaPushTimeLogUpdated(inntopiapushtimelog);

            var itemToUpdate = context.InntopiaPushTimeLogs
                              .Where(i => i.Id == inntopiapushtimelog.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(inntopiapushtimelog);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInntopiaPushTimeLogUpdated(inntopiapushtimelog);

            return inntopiapushtimelog;
        }

        partial void OnInntopiaPushTimeLogDeleted(Destination.Models.destinationTest.InntopiaPushTimeLog item);
        partial void OnAfterInntopiaPushTimeLogDeleted(Destination.Models.destinationTest.InntopiaPushTimeLog item);

        public async Task<Destination.Models.destinationTest.InntopiaPushTimeLog> DeleteInntopiaPushTimeLog(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.InntopiaPushTimeLogs
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInntopiaPushTimeLogDeleted(itemToDelete);


            context.InntopiaPushTimeLogs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInntopiaPushTimeLogDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportInntopiaAuditsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiaaudits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiaaudits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInntopiaAuditsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiaaudits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiaaudits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInntopiaAuditsRead(ref IQueryable<Destination.Models.destinationTest.InntopiaAudit> items);

        public async Task<List<Destination.Models.destinationTest.InntopiaAudit>> GetInntopiaAudits(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaAudits.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInntopiaAuditsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInntopiaAuditGet(Destination.Models.destinationTest.InntopiaAudit item);
        partial void OnGetInntopiaAuditById(ref IQueryable<Destination.Models.destinationTest.InntopiaAudit> items);


        public async Task<Destination.Models.destinationTest.InntopiaAudit> GetInntopiaAuditById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaAudits
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetInntopiaAuditById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInntopiaAuditGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInntopiaAuditCreated(Destination.Models.destinationTest.InntopiaAudit item);
        partial void OnAfterInntopiaAuditCreated(Destination.Models.destinationTest.InntopiaAudit item);

        public async Task<Destination.Models.destinationTest.InntopiaAudit> CreateInntopiaAudit(Destination.Models.destinationTest.InntopiaAudit inntopiaaudit)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaAuditCreated(inntopiaaudit);

            var existingItem = context.InntopiaAudits
                              .Where(i => i.Id == inntopiaaudit.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.InntopiaAudits.Add(inntopiaaudit);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(inntopiaaudit).State = EntityState.Detached;
                throw;
            }

            OnAfterInntopiaAuditCreated(inntopiaaudit);

            return inntopiaaudit;
        }

        public async Task<Destination.Models.destinationTest.InntopiaAudit> CancelInntopiaAuditChanges(Destination.Models.destinationTest.InntopiaAudit item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInntopiaAuditUpdated(Destination.Models.destinationTest.InntopiaAudit item);
        partial void OnAfterInntopiaAuditUpdated(Destination.Models.destinationTest.InntopiaAudit item);

        public async Task<Destination.Models.destinationTest.InntopiaAudit> UpdateInntopiaAudit(int id, Destination.Models.destinationTest.InntopiaAudit inntopiaaudit)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaAuditUpdated(inntopiaaudit);

            var itemToUpdate = context.InntopiaAudits
                              .Where(i => i.Id == inntopiaaudit.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(inntopiaaudit);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInntopiaAuditUpdated(inntopiaaudit);

            return inntopiaaudit;
        }

        partial void OnInntopiaAuditDeleted(Destination.Models.destinationTest.InntopiaAudit item);
        partial void OnAfterInntopiaAuditDeleted(Destination.Models.destinationTest.InntopiaAudit item);

        public async Task<Destination.Models.destinationTest.InntopiaAudit> DeleteInntopiaAudit(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.InntopiaAudits
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInntopiaAuditDeleted(itemToDelete);


            context.InntopiaAudits.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInntopiaAuditDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportInntopiaBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiabookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiabookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInntopiaBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inntopiabookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inntopiabookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInntopiaBookingsRead(ref IQueryable<Destination.Models.destinationTest.InntopiaBooking> items);

        public async Task<List<Destination.Models.destinationTest.InntopiaBooking>> GetInntopiaBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInntopiaBookingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInntopiaBookingGet(Destination.Models.destinationTest.InntopiaBooking item);
        partial void OnGetInntopiaBookingById(ref IQueryable<Destination.Models.destinationTest.InntopiaBooking> items);


        public async Task<Destination.Models.destinationTest.InntopiaBooking> GetInntopiaBookingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InntopiaBookings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetInntopiaBookingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInntopiaBookingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInntopiaBookingCreated(Destination.Models.destinationTest.InntopiaBooking item);
        partial void OnAfterInntopiaBookingCreated(Destination.Models.destinationTest.InntopiaBooking item);

        public async Task<Destination.Models.destinationTest.InntopiaBooking> CreateInntopiaBooking(Destination.Models.destinationTest.InntopiaBooking inntopiabooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaBookingCreated(inntopiabooking);

            var existingItem = context.InntopiaBookings
                              .Where(i => i.Id == inntopiabooking.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.InntopiaBookings.Add(inntopiabooking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(inntopiabooking).State = EntityState.Detached;
                throw;
            }

            OnAfterInntopiaBookingCreated(inntopiabooking);

            return inntopiabooking;
        }

        public async Task<Destination.Models.destinationTest.InntopiaBooking> CancelInntopiaBookingChanges(Destination.Models.destinationTest.InntopiaBooking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInntopiaBookingUpdated(Destination.Models.destinationTest.InntopiaBooking item);
        partial void OnAfterInntopiaBookingUpdated(Destination.Models.destinationTest.InntopiaBooking item);

        public async Task<Destination.Models.destinationTest.InntopiaBooking> UpdateInntopiaBooking(int id, Destination.Models.destinationTest.InntopiaBooking inntopiabooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInntopiaBookingUpdated(inntopiabooking);

            var itemToUpdate = context.InntopiaBookings
                              .Where(i => i.Id == inntopiabooking.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(inntopiabooking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInntopiaBookingUpdated(inntopiabooking);

            return inntopiabooking;
        }

        partial void OnInntopiaBookingDeleted(Destination.Models.destinationTest.InntopiaBooking item);
        partial void OnAfterInntopiaBookingDeleted(Destination.Models.destinationTest.InntopiaBooking item);

        public async Task<Destination.Models.destinationTest.InntopiaBooking> DeleteInntopiaBooking(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.InntopiaBookings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInntopiaBookingDeleted(itemToDelete);


            context.InntopiaBookings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInntopiaBookingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportInquiryNasToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inquirynas/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inquirynas/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInquiryNasToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inquirynas/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inquirynas/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInquiryNasRead(ref IQueryable<Destination.Models.destinationTest.InquiryNa> items);

        public async Task<List<Destination.Models.destinationTest.InquiryNa>> GetInquiryNas(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InquiryNas.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInquiryNasRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInquiryNaGet(Destination.Models.destinationTest.InquiryNa item);
        partial void OnGetInquiryNaById(ref IQueryable<Destination.Models.destinationTest.InquiryNa> items);


        public async Task<Destination.Models.destinationTest.InquiryNa> GetInquiryNaById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InquiryNas
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetInquiryNaById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInquiryNaGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInquiryNaCreated(Destination.Models.destinationTest.InquiryNa item);
        partial void OnAfterInquiryNaCreated(Destination.Models.destinationTest.InquiryNa item);

        public async Task<Destination.Models.destinationTest.InquiryNa> CreateInquiryNa(Destination.Models.destinationTest.InquiryNa inquiryna)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInquiryNaCreated(inquiryna);

            var existingItem = context.InquiryNas
                              .Where(i => i.Id == inquiryna.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.InquiryNas.Add(inquiryna);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(inquiryna).State = EntityState.Detached;
                throw;
            }

            OnAfterInquiryNaCreated(inquiryna);

            return inquiryna;
        }

        public async Task<Destination.Models.destinationTest.InquiryNa> CancelInquiryNaChanges(Destination.Models.destinationTest.InquiryNa item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInquiryNaUpdated(Destination.Models.destinationTest.InquiryNa item);
        partial void OnAfterInquiryNaUpdated(Destination.Models.destinationTest.InquiryNa item);

        public async Task<Destination.Models.destinationTest.InquiryNa> UpdateInquiryNa(int id, Destination.Models.destinationTest.InquiryNa inquiryna)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInquiryNaUpdated(inquiryna);

            var itemToUpdate = context.InquiryNas
                              .Where(i => i.Id == inquiryna.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(inquiryna);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInquiryNaUpdated(inquiryna);

            return inquiryna;
        }

        partial void OnInquiryNaDeleted(Destination.Models.destinationTest.InquiryNa item);
        partial void OnAfterInquiryNaDeleted(Destination.Models.destinationTest.InquiryNa item);

        public async Task<Destination.Models.destinationTest.InquiryNa> DeleteInquiryNa(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.InquiryNas
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInquiryNaDeleted(itemToDelete);


            context.InquiryNas.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInquiryNaDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportInspectionPlansToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inspectionplans/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inspectionplans/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInspectionPlansToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/inspectionplans/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/inspectionplans/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInspectionPlansRead(ref IQueryable<Destination.Models.destinationTest.InspectionPlan> items);

        public async Task<List<Destination.Models.destinationTest.InspectionPlan>> GetInspectionPlans(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InspectionPlans.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInspectionPlansRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInspectionPlanGet(Destination.Models.destinationTest.InspectionPlan item);
        partial void OnGetInspectionPlanById(ref IQueryable<Destination.Models.destinationTest.InspectionPlan> items);


        public async Task<Destination.Models.destinationTest.InspectionPlan> GetInspectionPlanById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InspectionPlans
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetInspectionPlanById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInspectionPlanGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInspectionPlanCreated(Destination.Models.destinationTest.InspectionPlan item);
        partial void OnAfterInspectionPlanCreated(Destination.Models.destinationTest.InspectionPlan item);

        public async Task<Destination.Models.destinationTest.InspectionPlan> CreateInspectionPlan(Destination.Models.destinationTest.InspectionPlan inspectionplan)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInspectionPlanCreated(inspectionplan);

            var existingItem = context.InspectionPlans
                              .Where(i => i.Id == inspectionplan.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.InspectionPlans.Add(inspectionplan);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(inspectionplan).State = EntityState.Detached;
                throw;
            }

            OnAfterInspectionPlanCreated(inspectionplan);

            return inspectionplan;
        }

        public async Task<Destination.Models.destinationTest.InspectionPlan> CancelInspectionPlanChanges(Destination.Models.destinationTest.InspectionPlan item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInspectionPlanUpdated(Destination.Models.destinationTest.InspectionPlan item);
        partial void OnAfterInspectionPlanUpdated(Destination.Models.destinationTest.InspectionPlan item);

        public async Task<Destination.Models.destinationTest.InspectionPlan> UpdateInspectionPlan(int id, Destination.Models.destinationTest.InspectionPlan inspectionplan)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInspectionPlanUpdated(inspectionplan);

            var itemToUpdate = context.InspectionPlans
                              .Where(i => i.Id == inspectionplan.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(inspectionplan);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInspectionPlanUpdated(inspectionplan);

            return inspectionplan;
        }

        partial void OnInspectionPlanDeleted(Destination.Models.destinationTest.InspectionPlan item);
        partial void OnAfterInspectionPlanDeleted(Destination.Models.destinationTest.InspectionPlan item);

        public async Task<Destination.Models.destinationTest.InspectionPlan> DeleteInspectionPlan(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.InspectionPlans
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInspectionPlanDeleted(itemToDelete);


            context.InspectionPlans.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInspectionPlanDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportInstructionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/instructions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/instructions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInstructionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/instructions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/instructions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInstructionsRead(ref IQueryable<Destination.Models.destinationTest.Instruction> items);

        public async Task<List<Destination.Models.destinationTest.Instruction>> GetInstructions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Instructions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInstructionsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInstructionGet(Destination.Models.destinationTest.Instruction item);
        partial void OnGetInstructionByInstructionid(ref IQueryable<Destination.Models.destinationTest.Instruction> items);


        public async Task<Destination.Models.destinationTest.Instruction> GetInstructionByInstructionid(int instructionid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Instructions
                              .AsNoTracking()
                              .Where(i => i.Instructionid == instructionid);

 
            OnGetInstructionByInstructionid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInstructionGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInstructionCreated(Destination.Models.destinationTest.Instruction item);
        partial void OnAfterInstructionCreated(Destination.Models.destinationTest.Instruction item);

        public async Task<Destination.Models.destinationTest.Instruction> CreateInstruction(Destination.Models.destinationTest.Instruction instruction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInstructionCreated(instruction);

            var existingItem = context.Instructions
                              .Where(i => i.Instructionid == instruction.Instructionid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Instructions.Add(instruction);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(instruction).State = EntityState.Detached;
                throw;
            }

            OnAfterInstructionCreated(instruction);

            return instruction;
        }

        public async Task<Destination.Models.destinationTest.Instruction> CancelInstructionChanges(Destination.Models.destinationTest.Instruction item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInstructionUpdated(Destination.Models.destinationTest.Instruction item);
        partial void OnAfterInstructionUpdated(Destination.Models.destinationTest.Instruction item);

        public async Task<Destination.Models.destinationTest.Instruction> UpdateInstruction(int instructionid, Destination.Models.destinationTest.Instruction instruction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInstructionUpdated(instruction);

            var itemToUpdate = context.Instructions
                              .Where(i => i.Instructionid == instruction.Instructionid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(instruction);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInstructionUpdated(instruction);

            return instruction;
        }

        partial void OnInstructionDeleted(Destination.Models.destinationTest.Instruction item);
        partial void OnAfterInstructionDeleted(Destination.Models.destinationTest.Instruction item);

        public async Task<Destination.Models.destinationTest.Instruction> DeleteInstruction(int instructionid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Instructions
                              .Where(i => i.Instructionid == instructionid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInstructionDeleted(itemToDelete);


            context.Instructions.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInstructionDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportInstructionAgentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/instructionagents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/instructionagents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportInstructionAgentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/instructionagents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/instructionagents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnInstructionAgentsRead(ref IQueryable<Destination.Models.destinationTest.InstructionAgent> items);

        public async Task<List<Destination.Models.destinationTest.InstructionAgent>> GetInstructionAgents(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InstructionAgents.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnInstructionAgentsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnInstructionAgentGet(Destination.Models.destinationTest.InstructionAgent item);
        partial void OnGetInstructionAgentByInstAgent(ref IQueryable<Destination.Models.destinationTest.InstructionAgent> items);


        public async Task<Destination.Models.destinationTest.InstructionAgent> GetInstructionAgentByInstAgent(int instagent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.InstructionAgents
                              .AsNoTracking()
                              .Where(i => i.InstAgent == instagent);

 
            OnGetInstructionAgentByInstAgent(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnInstructionAgentGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnInstructionAgentCreated(Destination.Models.destinationTest.InstructionAgent item);
        partial void OnAfterInstructionAgentCreated(Destination.Models.destinationTest.InstructionAgent item);

        public async Task<Destination.Models.destinationTest.InstructionAgent> CreateInstructionAgent(Destination.Models.destinationTest.InstructionAgent instructionagent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInstructionAgentCreated(instructionagent);

            var existingItem = context.InstructionAgents
                              .Where(i => i.InstAgent == instructionagent.InstAgent)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.InstructionAgents.Add(instructionagent);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(instructionagent).State = EntityState.Detached;
                throw;
            }

            OnAfterInstructionAgentCreated(instructionagent);

            return instructionagent;
        }

        public async Task<Destination.Models.destinationTest.InstructionAgent> CancelInstructionAgentChanges(Destination.Models.destinationTest.InstructionAgent item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnInstructionAgentUpdated(Destination.Models.destinationTest.InstructionAgent item);
        partial void OnAfterInstructionAgentUpdated(Destination.Models.destinationTest.InstructionAgent item);

        public async Task<Destination.Models.destinationTest.InstructionAgent> UpdateInstructionAgent(int instagent, Destination.Models.destinationTest.InstructionAgent instructionagent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnInstructionAgentUpdated(instructionagent);

            var itemToUpdate = context.InstructionAgents
                              .Where(i => i.InstAgent == instructionagent.InstAgent)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(instructionagent);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterInstructionAgentUpdated(instructionagent);

            return instructionagent;
        }

        partial void OnInstructionAgentDeleted(Destination.Models.destinationTest.InstructionAgent item);
        partial void OnAfterInstructionAgentDeleted(Destination.Models.destinationTest.InstructionAgent item);

        public async Task<Destination.Models.destinationTest.InstructionAgent> DeleteInstructionAgent(int instagent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.InstructionAgents
                              .Where(i => i.InstAgent == instagent)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnInstructionAgentDeleted(itemToDelete);


            context.InstructionAgents.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterInstructionAgentDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportLandingPagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/landingpages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/landingpages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportLandingPagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/landingpages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/landingpages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnLandingPagesRead(ref IQueryable<Destination.Models.destinationTest.LandingPage> items);

        public async Task<List<Destination.Models.destinationTest.LandingPage>> GetLandingPages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.LandingPages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnLandingPagesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportLargeGroupBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/largegroupbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/largegroupbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportLargeGroupBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/largegroupbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/largegroupbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnLargeGroupBookingsRead(ref IQueryable<Destination.Models.destinationTest.LargeGroupBooking> items);

        public async Task<List<Destination.Models.destinationTest.LargeGroupBooking>> GetLargeGroupBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.LargeGroupBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnLargeGroupBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportLaundryRatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/laundryrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/laundryrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportLaundryRatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/laundryrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/laundryrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnLaundryRatesRead(ref IQueryable<Destination.Models.destinationTest.LaundryRate> items);

        public async Task<List<Destination.Models.destinationTest.LaundryRate>> GetLaundryRates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.LaundryRates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnLaundryRatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnLaundryRateGet(Destination.Models.destinationTest.LaundryRate item);
        partial void OnGetLaundryRateById(ref IQueryable<Destination.Models.destinationTest.LaundryRate> items);


        public async Task<Destination.Models.destinationTest.LaundryRate> GetLaundryRateById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.LaundryRates
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetLaundryRateById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnLaundryRateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnLaundryRateCreated(Destination.Models.destinationTest.LaundryRate item);
        partial void OnAfterLaundryRateCreated(Destination.Models.destinationTest.LaundryRate item);

        public async Task<Destination.Models.destinationTest.LaundryRate> CreateLaundryRate(Destination.Models.destinationTest.LaundryRate laundryrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnLaundryRateCreated(laundryrate);

            var existingItem = context.LaundryRates
                              .Where(i => i.Id == laundryrate.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.LaundryRates.Add(laundryrate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(laundryrate).State = EntityState.Detached;
                throw;
            }

            OnAfterLaundryRateCreated(laundryrate);

            return laundryrate;
        }

        public async Task<Destination.Models.destinationTest.LaundryRate> CancelLaundryRateChanges(Destination.Models.destinationTest.LaundryRate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnLaundryRateUpdated(Destination.Models.destinationTest.LaundryRate item);
        partial void OnAfterLaundryRateUpdated(Destination.Models.destinationTest.LaundryRate item);

        public async Task<Destination.Models.destinationTest.LaundryRate> UpdateLaundryRate(int id, Destination.Models.destinationTest.LaundryRate laundryrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnLaundryRateUpdated(laundryrate);

            var itemToUpdate = context.LaundryRates
                              .Where(i => i.Id == laundryrate.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(laundryrate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterLaundryRateUpdated(laundryrate);

            return laundryrate;
        }

        partial void OnLaundryRateDeleted(Destination.Models.destinationTest.LaundryRate item);
        partial void OnAfterLaundryRateDeleted(Destination.Models.destinationTest.LaundryRate item);

        public async Task<Destination.Models.destinationTest.LaundryRate> DeleteLaundryRate(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.LaundryRates
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnLaundryRateDeleted(itemToDelete);


            context.LaundryRates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterLaundryRateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportLogEditPropertyDescriptionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/logeditpropertydescriptions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/logeditpropertydescriptions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportLogEditPropertyDescriptionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/logeditpropertydescriptions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/logeditpropertydescriptions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnLogEditPropertyDescriptionsRead(ref IQueryable<Destination.Models.destinationTest.LogEditPropertyDescription> items);

        public async Task<List<Destination.Models.destinationTest.LogEditPropertyDescription>> GetLogEditPropertyDescriptions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.LogEditPropertyDescriptions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnLogEditPropertyDescriptionsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnLogEditPropertyDescriptionGet(Destination.Models.destinationTest.LogEditPropertyDescription item);
        partial void OnGetLogEditPropertyDescriptionById(ref IQueryable<Destination.Models.destinationTest.LogEditPropertyDescription> items);


        public async Task<Destination.Models.destinationTest.LogEditPropertyDescription> GetLogEditPropertyDescriptionById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.LogEditPropertyDescriptions
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetLogEditPropertyDescriptionById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnLogEditPropertyDescriptionGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnLogEditPropertyDescriptionCreated(Destination.Models.destinationTest.LogEditPropertyDescription item);
        partial void OnAfterLogEditPropertyDescriptionCreated(Destination.Models.destinationTest.LogEditPropertyDescription item);

        public async Task<Destination.Models.destinationTest.LogEditPropertyDescription> CreateLogEditPropertyDescription(Destination.Models.destinationTest.LogEditPropertyDescription logeditpropertydescription)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnLogEditPropertyDescriptionCreated(logeditpropertydescription);

            var existingItem = context.LogEditPropertyDescriptions
                              .Where(i => i.Id == logeditpropertydescription.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.LogEditPropertyDescriptions.Add(logeditpropertydescription);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(logeditpropertydescription).State = EntityState.Detached;
                throw;
            }

            OnAfterLogEditPropertyDescriptionCreated(logeditpropertydescription);

            return logeditpropertydescription;
        }

        public async Task<Destination.Models.destinationTest.LogEditPropertyDescription> CancelLogEditPropertyDescriptionChanges(Destination.Models.destinationTest.LogEditPropertyDescription item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnLogEditPropertyDescriptionUpdated(Destination.Models.destinationTest.LogEditPropertyDescription item);
        partial void OnAfterLogEditPropertyDescriptionUpdated(Destination.Models.destinationTest.LogEditPropertyDescription item);

        public async Task<Destination.Models.destinationTest.LogEditPropertyDescription> UpdateLogEditPropertyDescription(int id, Destination.Models.destinationTest.LogEditPropertyDescription logeditpropertydescription)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnLogEditPropertyDescriptionUpdated(logeditpropertydescription);

            var itemToUpdate = context.LogEditPropertyDescriptions
                              .Where(i => i.Id == logeditpropertydescription.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(logeditpropertydescription);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterLogEditPropertyDescriptionUpdated(logeditpropertydescription);

            return logeditpropertydescription;
        }

        partial void OnLogEditPropertyDescriptionDeleted(Destination.Models.destinationTest.LogEditPropertyDescription item);
        partial void OnAfterLogEditPropertyDescriptionDeleted(Destination.Models.destinationTest.LogEditPropertyDescription item);

        public async Task<Destination.Models.destinationTest.LogEditPropertyDescription> DeleteLogEditPropertyDescription(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.LogEditPropertyDescriptions
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnLogEditPropertyDescriptionDeleted(itemToDelete);


            context.LogEditPropertyDescriptions.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterLogEditPropertyDescriptionDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportLogDoorCodes2020SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/logdoorcodes2020s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/logdoorcodes2020s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportLogDoorCodes2020SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/logdoorcodes2020s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/logdoorcodes2020s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnLogDoorCodes2020SRead(ref IQueryable<Destination.Models.destinationTest.LogDoorCodes2020> items);

        public async Task<List<Destination.Models.destinationTest.LogDoorCodes2020>> GetLogDoorCodes2020S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.LogDoorCodes2020S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnLogDoorCodes2020SRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportMaintenanceActionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/maintenanceactions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/maintenanceactions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportMaintenanceActionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/maintenanceactions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/maintenanceactions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnMaintenanceActionsRead(ref IQueryable<Destination.Models.destinationTest.MaintenanceAction> items);

        public async Task<List<Destination.Models.destinationTest.MaintenanceAction>> GetMaintenanceActions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MaintenanceActions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMaintenanceActionsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnMaintenanceActionGet(Destination.Models.destinationTest.MaintenanceAction item);
        partial void OnGetMaintenanceActionByIntMaintenanceActionId(ref IQueryable<Destination.Models.destinationTest.MaintenanceAction> items);


        public async Task<Destination.Models.destinationTest.MaintenanceAction> GetMaintenanceActionByIntMaintenanceActionId(int intmaintenanceactionid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MaintenanceActions
                              .AsNoTracking()
                              .Where(i => i.IntMaintenanceActionId == intmaintenanceactionid);

 
            OnGetMaintenanceActionByIntMaintenanceActionId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnMaintenanceActionGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnMaintenanceActionCreated(Destination.Models.destinationTest.MaintenanceAction item);
        partial void OnAfterMaintenanceActionCreated(Destination.Models.destinationTest.MaintenanceAction item);

        public async Task<Destination.Models.destinationTest.MaintenanceAction> CreateMaintenanceAction(Destination.Models.destinationTest.MaintenanceAction maintenanceaction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMaintenanceActionCreated(maintenanceaction);

            var existingItem = context.MaintenanceActions
                              .Where(i => i.IntMaintenanceActionId == maintenanceaction.IntMaintenanceActionId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.MaintenanceActions.Add(maintenanceaction);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(maintenanceaction).State = EntityState.Detached;
                throw;
            }

            OnAfterMaintenanceActionCreated(maintenanceaction);

            return maintenanceaction;
        }

        public async Task<Destination.Models.destinationTest.MaintenanceAction> CancelMaintenanceActionChanges(Destination.Models.destinationTest.MaintenanceAction item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnMaintenanceActionUpdated(Destination.Models.destinationTest.MaintenanceAction item);
        partial void OnAfterMaintenanceActionUpdated(Destination.Models.destinationTest.MaintenanceAction item);

        public async Task<Destination.Models.destinationTest.MaintenanceAction> UpdateMaintenanceAction(int intmaintenanceactionid, Destination.Models.destinationTest.MaintenanceAction maintenanceaction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMaintenanceActionUpdated(maintenanceaction);

            var itemToUpdate = context.MaintenanceActions
                              .Where(i => i.IntMaintenanceActionId == maintenanceaction.IntMaintenanceActionId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(maintenanceaction);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterMaintenanceActionUpdated(maintenanceaction);

            return maintenanceaction;
        }

        partial void OnMaintenanceActionDeleted(Destination.Models.destinationTest.MaintenanceAction item);
        partial void OnAfterMaintenanceActionDeleted(Destination.Models.destinationTest.MaintenanceAction item);

        public async Task<Destination.Models.destinationTest.MaintenanceAction> DeleteMaintenanceAction(int intmaintenanceactionid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.MaintenanceActions
                              .Where(i => i.IntMaintenanceActionId == intmaintenanceactionid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnMaintenanceActionDeleted(itemToDelete);


            context.MaintenanceActions.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterMaintenanceActionDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportMarketingReviewsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/marketingreviews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/marketingreviews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportMarketingReviewsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/marketingreviews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/marketingreviews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnMarketingReviewsRead(ref IQueryable<Destination.Models.destinationTest.MarketingReview> items);

        public async Task<List<Destination.Models.destinationTest.MarketingReview>> GetMarketingReviews(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MarketingReviews.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMarketingReviewsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnMarketingReviewGet(Destination.Models.destinationTest.MarketingReview item);
        partial void OnGetMarketingReviewById(ref IQueryable<Destination.Models.destinationTest.MarketingReview> items);


        public async Task<Destination.Models.destinationTest.MarketingReview> GetMarketingReviewById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MarketingReviews
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetMarketingReviewById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnMarketingReviewGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnMarketingReviewCreated(Destination.Models.destinationTest.MarketingReview item);
        partial void OnAfterMarketingReviewCreated(Destination.Models.destinationTest.MarketingReview item);

        public async Task<Destination.Models.destinationTest.MarketingReview> CreateMarketingReview(Destination.Models.destinationTest.MarketingReview marketingreview)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMarketingReviewCreated(marketingreview);

            var existingItem = context.MarketingReviews
                              .Where(i => i.Id == marketingreview.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.MarketingReviews.Add(marketingreview);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(marketingreview).State = EntityState.Detached;
                throw;
            }

            OnAfterMarketingReviewCreated(marketingreview);

            return marketingreview;
        }

        public async Task<Destination.Models.destinationTest.MarketingReview> CancelMarketingReviewChanges(Destination.Models.destinationTest.MarketingReview item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnMarketingReviewUpdated(Destination.Models.destinationTest.MarketingReview item);
        partial void OnAfterMarketingReviewUpdated(Destination.Models.destinationTest.MarketingReview item);

        public async Task<Destination.Models.destinationTest.MarketingReview> UpdateMarketingReview(int id, Destination.Models.destinationTest.MarketingReview marketingreview)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMarketingReviewUpdated(marketingreview);

            var itemToUpdate = context.MarketingReviews
                              .Where(i => i.Id == marketingreview.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(marketingreview);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterMarketingReviewUpdated(marketingreview);

            return marketingreview;
        }

        partial void OnMarketingReviewDeleted(Destination.Models.destinationTest.MarketingReview item);
        partial void OnAfterMarketingReviewDeleted(Destination.Models.destinationTest.MarketingReview item);

        public async Task<Destination.Models.destinationTest.MarketingReview> DeleteMarketingReview(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.MarketingReviews
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnMarketingReviewDeleted(itemToDelete);


            context.MarketingReviews.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterMarketingReviewDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportMediaToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/media/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/media/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportMediaToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/media/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/media/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnMediaRead(ref IQueryable<Destination.Models.destinationTest.Medium> items);

        public async Task<List<Destination.Models.destinationTest.Medium>> GetMedia(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Media.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMediaRead(ref items);

return await items.ToListAsync();
        }

        partial void OnMediumGet(Destination.Models.destinationTest.Medium item);
        partial void OnGetMediumByMediaid(ref IQueryable<Destination.Models.destinationTest.Medium> items);


        public async Task<Destination.Models.destinationTest.Medium> GetMediumByMediaid(int mediaid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Media
                              .AsNoTracking()
                              .Where(i => i.Mediaid == mediaid);

 
            OnGetMediumByMediaid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnMediumGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnMediumCreated(Destination.Models.destinationTest.Medium item);
        partial void OnAfterMediumCreated(Destination.Models.destinationTest.Medium item);

        public async Task<Destination.Models.destinationTest.Medium> CreateMedium(Destination.Models.destinationTest.Medium medium)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMediumCreated(medium);

            var existingItem = context.Media
                              .Where(i => i.Mediaid == medium.Mediaid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Media.Add(medium);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(medium).State = EntityState.Detached;
                throw;
            }

            OnAfterMediumCreated(medium);

            return medium;
        }

        public async Task<Destination.Models.destinationTest.Medium> CancelMediumChanges(Destination.Models.destinationTest.Medium item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnMediumUpdated(Destination.Models.destinationTest.Medium item);
        partial void OnAfterMediumUpdated(Destination.Models.destinationTest.Medium item);

        public async Task<Destination.Models.destinationTest.Medium> UpdateMedium(int mediaid, Destination.Models.destinationTest.Medium medium)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMediumUpdated(medium);

            var itemToUpdate = context.Media
                              .Where(i => i.Mediaid == medium.Mediaid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(medium);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterMediumUpdated(medium);

            return medium;
        }

        partial void OnMediumDeleted(Destination.Models.destinationTest.Medium item);
        partial void OnAfterMediumDeleted(Destination.Models.destinationTest.Medium item);

        public async Task<Destination.Models.destinationTest.Medium> DeleteMedium(int mediaid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Media
                              .Where(i => i.Mediaid == mediaid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnMediumDeleted(itemToDelete);


            context.Media.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterMediumDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportMenuManagementsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/menumanagements/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/menumanagements/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportMenuManagementsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/menumanagements/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/menumanagements/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnMenuManagementsRead(ref IQueryable<Destination.Models.destinationTest.MenuManagement> items);

        public async Task<List<Destination.Models.destinationTest.MenuManagement>> GetMenuManagements(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MenuManagements.AsQueryable();

            items = items.Include(i => i.MenuMaster);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMenuManagementsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnMenuManagementGet(Destination.Models.destinationTest.MenuManagement item);
        partial void OnGetMenuManagementById(ref IQueryable<Destination.Models.destinationTest.MenuManagement> items);


        public async Task<Destination.Models.destinationTest.MenuManagement> GetMenuManagementById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MenuManagements
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.MenuMaster);
 
            OnGetMenuManagementById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnMenuManagementGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnMenuManagementCreated(Destination.Models.destinationTest.MenuManagement item);
        partial void OnAfterMenuManagementCreated(Destination.Models.destinationTest.MenuManagement item);

        public async Task<Destination.Models.destinationTest.MenuManagement> CreateMenuManagement(Destination.Models.destinationTest.MenuManagement menumanagement)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMenuManagementCreated(menumanagement);

            var existingItem = context.MenuManagements
                              .Where(i => i.Id == menumanagement.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.MenuManagements.Add(menumanagement);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(menumanagement).State = EntityState.Detached;
                throw;
            }

            OnAfterMenuManagementCreated(menumanagement);

            return menumanagement;
        }

        public async Task<Destination.Models.destinationTest.MenuManagement> CancelMenuManagementChanges(Destination.Models.destinationTest.MenuManagement item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnMenuManagementUpdated(Destination.Models.destinationTest.MenuManagement item);
        partial void OnAfterMenuManagementUpdated(Destination.Models.destinationTest.MenuManagement item);

        public async Task<Destination.Models.destinationTest.MenuManagement> UpdateMenuManagement(int id, Destination.Models.destinationTest.MenuManagement menumanagement)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMenuManagementUpdated(menumanagement);

            var itemToUpdate = context.MenuManagements
                              .Where(i => i.Id == menumanagement.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(menumanagement);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterMenuManagementUpdated(menumanagement);

            return menumanagement;
        }

        partial void OnMenuManagementDeleted(Destination.Models.destinationTest.MenuManagement item);
        partial void OnAfterMenuManagementDeleted(Destination.Models.destinationTest.MenuManagement item);

        public async Task<Destination.Models.destinationTest.MenuManagement> DeleteMenuManagement(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.MenuManagements
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnMenuManagementDeleted(itemToDelete);


            context.MenuManagements.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterMenuManagementDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportMenuMastersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/menumasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/menumasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportMenuMastersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/menumasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/menumasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnMenuMastersRead(ref IQueryable<Destination.Models.destinationTest.MenuMaster> items);

        public async Task<List<Destination.Models.destinationTest.MenuMaster>> GetMenuMasters(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MenuMasters.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMenuMastersRead(ref items);

return await items.ToListAsync();
        }


        public async Task<List<Destination.Models.destinationTest.MenuMaster>> GetAllMenus()
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = await context.MenuMasters.Where(x=>x.ParentId != 0 && x.ParentId != null).OrderBy(x=>x.MenuText).ToListAsync();

            return items;
        }

        public async Task<List<Destination.Models.destinationTest.MenuMaster>> GetParentMenus()
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = await context.MenuMasters.Where(x=>x.ParentId == 1).OrderBy(x=>x.MenuText).ToListAsync();
            return items;
        }

        partial void OnMenuMasterGet(Destination.Models.destinationTest.MenuMaster item);
        partial void OnGetMenuMasterById(ref IQueryable<Destination.Models.destinationTest.MenuMaster> items);


        public async Task<Destination.Models.destinationTest.MenuMaster> GetMenuMasterById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MenuMasters
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetMenuMasterById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnMenuMasterGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        public async Task<List<Destination.Models.destinationTest.MenuMasterDTO>> GetMenuHierarchyAsync(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            // Start with your existing query logic
            var items = context.MenuMasters.AsQueryable();

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMenuMastersRead(ref items);

            // Execute the query and materialize results
            var allItems = await items.ToListAsync();

            // Transform to MenuItem model and build hierarchy
            var menuItems = allItems.Select(m => new Destination.Models.destinationTest.MenuMasterDTO
            {
                Id = m.Id,
                MenuText = m.MenuText,
                MenuUrl = m.MenuUrl,
                ParentId = m.ParentId
            }).ToList();

            // Build hierarchy
            var lookup = menuItems.ToLookup(item => item.ParentId);
            
            foreach (var item in menuItems)
            {
                item.Children.AddRange(lookup[item.Id]);
            }

            // Return top-level items where ParentId = 1
            return lookup[1].ToList();
        }


        public async Task<List<Destination.Models.destinationTest.MenuMasterDTO>> GetMenuHierarchyByIdAsync(int menuId)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            Query query = null;
            var items = context.MenuMasters.AsQueryable();

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMenuMastersRead(ref items);

            // Execute the query and materialize results
            var allItems = await items.ToListAsync();

            // Transform to MenuItem model and build hierarchy
            var menuItems = allItems.Select(m => new Destination.Models.destinationTest.MenuMasterDTO
            {
                Id = m.Id,
                MenuText = m.MenuText,
                MenuUrl = m.MenuUrl,
                ParentId = m.ParentId
            }).ToList();

            // Build hierarchy
            var lookup = menuItems.ToLookup(item => item.ParentId);
            
            foreach (var item in menuItems)
            {
                item.Children.AddRange(lookup[item.Id]);
            }

            // Return top-level items where ParentId = 1
            return lookup[menuId].ToList();
        }

        partial void OnMenuMasterCreated(Destination.Models.destinationTest.MenuMaster item);
        partial void OnAfterMenuMasterCreated(Destination.Models.destinationTest.MenuMaster item);

        public async Task<Destination.Models.destinationTest.MenuMaster> CreateMenuMaster(Destination.Models.destinationTest.MenuMaster menumaster)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMenuMasterCreated(menumaster);

            var existingItem = context.MenuMasters
                              .Where(i => i.Id == menumaster.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.MenuMasters.Add(menumaster);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(menumaster).State = EntityState.Detached;
                throw;
            }

            OnAfterMenuMasterCreated(menumaster);

            return menumaster;
        }

        public async Task<Destination.Models.destinationTest.MenuMaster> CancelMenuMasterChanges(Destination.Models.destinationTest.MenuMaster item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnMenuMasterUpdated(Destination.Models.destinationTest.MenuMaster item);
        partial void OnAfterMenuMasterUpdated(Destination.Models.destinationTest.MenuMaster item);

        public async Task<Destination.Models.destinationTest.MenuMaster> UpdateMenuMaster(int id, Destination.Models.destinationTest.MenuMaster menumaster)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMenuMasterUpdated(menumaster);

            var itemToUpdate = context.MenuMasters
                              .Where(i => i.Id == menumaster.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(menumaster);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterMenuMasterUpdated(menumaster);

            return menumaster;
        }

        partial void OnMenuMasterDeleted(Destination.Models.destinationTest.MenuMaster item);
        partial void OnAfterMenuMasterDeleted(Destination.Models.destinationTest.MenuMaster item);

        public async Task<Destination.Models.destinationTest.MenuMaster> DeleteMenuMaster(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.MenuMasters
                              .Where(i => i.Id == id)
                              .Include(i => i.MenuManagements)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnMenuMasterDeleted(itemToDelete);


            context.MenuMasters.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterMenuMasterDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportMoreContentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/morecontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/morecontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportMoreContentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/morecontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/morecontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnMoreContentsRead(ref IQueryable<Destination.Models.destinationTest.MoreContent> items);

        public async Task<List<Destination.Models.destinationTest.MoreContent>> GetMoreContents(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MoreContents.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnMoreContentsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnMoreContentGet(Destination.Models.destinationTest.MoreContent item);
        partial void OnGetMoreContentByMoreContentId(ref IQueryable<Destination.Models.destinationTest.MoreContent> items);


        public async Task<Destination.Models.destinationTest.MoreContent> GetMoreContentByMoreContentId(int morecontentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.MoreContents
                              .AsNoTracking()
                              .Where(i => i.MoreContentId == morecontentid);

 
            OnGetMoreContentByMoreContentId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnMoreContentGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnMoreContentCreated(Destination.Models.destinationTest.MoreContent item);
        partial void OnAfterMoreContentCreated(Destination.Models.destinationTest.MoreContent item);

        public async Task<Destination.Models.destinationTest.MoreContent> CreateMoreContent(Destination.Models.destinationTest.MoreContent morecontent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMoreContentCreated(morecontent);

            var existingItem = context.MoreContents
                              .Where(i => i.MoreContentId == morecontent.MoreContentId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.MoreContents.Add(morecontent);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(morecontent).State = EntityState.Detached;
                throw;
            }

            OnAfterMoreContentCreated(morecontent);

            return morecontent;
        }

        public async Task<Destination.Models.destinationTest.MoreContent> CancelMoreContentChanges(Destination.Models.destinationTest.MoreContent item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnMoreContentUpdated(Destination.Models.destinationTest.MoreContent item);
        partial void OnAfterMoreContentUpdated(Destination.Models.destinationTest.MoreContent item);

        public async Task<Destination.Models.destinationTest.MoreContent> UpdateMoreContent(int morecontentid, Destination.Models.destinationTest.MoreContent morecontent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnMoreContentUpdated(morecontent);

            var itemToUpdate = context.MoreContents
                              .Where(i => i.MoreContentId == morecontent.MoreContentId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(morecontent);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterMoreContentUpdated(morecontent);

            return morecontent;
        }

        partial void OnMoreContentDeleted(Destination.Models.destinationTest.MoreContent item);
        partial void OnAfterMoreContentDeleted(Destination.Models.destinationTest.MoreContent item);

        public async Task<Destination.Models.destinationTest.MoreContent> DeleteMoreContent(int morecontentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.MoreContents
                              .Where(i => i.MoreContentId == morecontentid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnMoreContentDeleted(itemToDelete);


            context.MoreContents.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterMoreContentDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportNeighborhoodsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/neighborhoods/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/neighborhoods/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportNeighborhoodsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/neighborhoods/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/neighborhoods/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnNeighborhoodsRead(ref IQueryable<Destination.Models.destinationTest.Neighborhood> items);

        public async Task<List<Destination.Models.destinationTest.Neighborhood>> GetNeighborhoods(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Neighborhoods.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnNeighborhoodsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnNeighborhoodGet(Destination.Models.destinationTest.Neighborhood item);
        partial void OnGetNeighborhoodById(ref IQueryable<Destination.Models.destinationTest.Neighborhood> items);


        public async Task<Destination.Models.destinationTest.Neighborhood> GetNeighborhoodById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Neighborhoods
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetNeighborhoodById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnNeighborhoodGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnNeighborhoodCreated(Destination.Models.destinationTest.Neighborhood item);
        partial void OnAfterNeighborhoodCreated(Destination.Models.destinationTest.Neighborhood item);

        public async Task<Destination.Models.destinationTest.Neighborhood> CreateNeighborhood(Destination.Models.destinationTest.Neighborhood neighborhood)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnNeighborhoodCreated(neighborhood);

            var existingItem = context.Neighborhoods
                              .Where(i => i.Id == neighborhood.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Neighborhoods.Add(neighborhood);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(neighborhood).State = EntityState.Detached;
                throw;
            }

            OnAfterNeighborhoodCreated(neighborhood);

            return neighborhood;
        }

        public async Task<Destination.Models.destinationTest.Neighborhood> CancelNeighborhoodChanges(Destination.Models.destinationTest.Neighborhood item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnNeighborhoodUpdated(Destination.Models.destinationTest.Neighborhood item);
        partial void OnAfterNeighborhoodUpdated(Destination.Models.destinationTest.Neighborhood item);

        public async Task<Destination.Models.destinationTest.Neighborhood> UpdateNeighborhood(int id, Destination.Models.destinationTest.Neighborhood neighborhood)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnNeighborhoodUpdated(neighborhood);

            var itemToUpdate = context.Neighborhoods
                              .Where(i => i.Id == neighborhood.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(neighborhood);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterNeighborhoodUpdated(neighborhood);

            return neighborhood;
        }

        partial void OnNeighborhoodDeleted(Destination.Models.destinationTest.Neighborhood item);
        partial void OnAfterNeighborhoodDeleted(Destination.Models.destinationTest.Neighborhood item);

        public async Task<Destination.Models.destinationTest.Neighborhood> DeleteNeighborhood(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Neighborhoods
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnNeighborhoodDeleted(itemToDelete);


            context.Neighborhoods.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterNeighborhoodDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportNoWordsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/nowords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/nowords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportNoWordsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/nowords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/nowords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnNoWordsRead(ref IQueryable<Destination.Models.destinationTest.NoWord> items);

        public async Task<List<Destination.Models.destinationTest.NoWord>> GetNoWords(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.NoWords.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnNoWordsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnNoWordGet(Destination.Models.destinationTest.NoWord item);
        partial void OnGetNoWordById(ref IQueryable<Destination.Models.destinationTest.NoWord> items);


        public async Task<Destination.Models.destinationTest.NoWord> GetNoWordById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.NoWords
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetNoWordById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnNoWordGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnNoWordCreated(Destination.Models.destinationTest.NoWord item);
        partial void OnAfterNoWordCreated(Destination.Models.destinationTest.NoWord item);

        public async Task<Destination.Models.destinationTest.NoWord> CreateNoWord(Destination.Models.destinationTest.NoWord noword)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnNoWordCreated(noword);

            var existingItem = context.NoWords
                              .Where(i => i.Id == noword.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.NoWords.Add(noword);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(noword).State = EntityState.Detached;
                throw;
            }

            OnAfterNoWordCreated(noword);

            return noword;
        }

        public async Task<Destination.Models.destinationTest.NoWord> CancelNoWordChanges(Destination.Models.destinationTest.NoWord item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnNoWordUpdated(Destination.Models.destinationTest.NoWord item);
        partial void OnAfterNoWordUpdated(Destination.Models.destinationTest.NoWord item);

        public async Task<Destination.Models.destinationTest.NoWord> UpdateNoWord(int id, Destination.Models.destinationTest.NoWord noword)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnNoWordUpdated(noword);

            var itemToUpdate = context.NoWords
                              .Where(i => i.Id == noword.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(noword);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterNoWordUpdated(noword);

            return noword;
        }

        partial void OnNoWordDeleted(Destination.Models.destinationTest.NoWord item);
        partial void OnAfterNoWordDeleted(Destination.Models.destinationTest.NoWord item);

        public async Task<Destination.Models.destinationTest.NoWord> DeleteNoWord(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.NoWords
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnNoWordDeleted(itemToDelete);


            context.NoWords.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterNoWordDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportOffhoursListForSmsroutinesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/offhourslistforsmsroutines/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/offhourslistforsmsroutines/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportOffhoursListForSmsroutinesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/offhourslistforsmsroutines/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/offhourslistforsmsroutines/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnOffhoursListForSmsroutinesRead(ref IQueryable<Destination.Models.destinationTest.OffhoursListForSmsroutine> items);

        public async Task<List<Destination.Models.destinationTest.OffhoursListForSmsroutine>> GetOffhoursListForSmsroutines(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OffhoursListForSmsroutines.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnOffhoursListForSmsroutinesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportOlarkZapiersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/olarkzapiers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/olarkzapiers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportOlarkZapiersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/olarkzapiers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/olarkzapiers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnOlarkZapiersRead(ref IQueryable<Destination.Models.destinationTest.OlarkZapier> items);

        public async Task<List<Destination.Models.destinationTest.OlarkZapier>> GetOlarkZapiers(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OlarkZapiers.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnOlarkZapiersRead(ref items);

return await items.ToListAsync();
        }

        partial void OnOlarkZapierGet(Destination.Models.destinationTest.OlarkZapier item);
        partial void OnGetOlarkZapierById(ref IQueryable<Destination.Models.destinationTest.OlarkZapier> items);


        public async Task<Destination.Models.destinationTest.OlarkZapier> GetOlarkZapierById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OlarkZapiers
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetOlarkZapierById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnOlarkZapierGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnOlarkZapierCreated(Destination.Models.destinationTest.OlarkZapier item);
        partial void OnAfterOlarkZapierCreated(Destination.Models.destinationTest.OlarkZapier item);

        public async Task<Destination.Models.destinationTest.OlarkZapier> CreateOlarkZapier(Destination.Models.destinationTest.OlarkZapier olarkzapier)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnOlarkZapierCreated(olarkzapier);

            var existingItem = context.OlarkZapiers
                              .Where(i => i.Id == olarkzapier.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.OlarkZapiers.Add(olarkzapier);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(olarkzapier).State = EntityState.Detached;
                throw;
            }

            OnAfterOlarkZapierCreated(olarkzapier);

            return olarkzapier;
        }

        public async Task<Destination.Models.destinationTest.OlarkZapier> CancelOlarkZapierChanges(Destination.Models.destinationTest.OlarkZapier item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnOlarkZapierUpdated(Destination.Models.destinationTest.OlarkZapier item);
        partial void OnAfterOlarkZapierUpdated(Destination.Models.destinationTest.OlarkZapier item);

        public async Task<Destination.Models.destinationTest.OlarkZapier> UpdateOlarkZapier(int id, Destination.Models.destinationTest.OlarkZapier olarkzapier)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnOlarkZapierUpdated(olarkzapier);

            var itemToUpdate = context.OlarkZapiers
                              .Where(i => i.Id == olarkzapier.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(olarkzapier);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterOlarkZapierUpdated(olarkzapier);

            return olarkzapier;
        }

        partial void OnOlarkZapierDeleted(Destination.Models.destinationTest.OlarkZapier item);
        partial void OnAfterOlarkZapierDeleted(Destination.Models.destinationTest.OlarkZapier item);

        public async Task<Destination.Models.destinationTest.OlarkZapier> DeleteOlarkZapier(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.OlarkZapiers
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnOlarkZapierDeleted(itemToDelete);


            context.OlarkZapiers.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterOlarkZapierDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportOlarkZapierNewsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/olarkzapiernews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/olarkzapiernews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportOlarkZapierNewsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/olarkzapiernews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/olarkzapiernews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnOlarkZapierNewsRead(ref IQueryable<Destination.Models.destinationTest.OlarkZapierNew> items);

        public async Task<List<Destination.Models.destinationTest.OlarkZapierNew>> GetOlarkZapierNews(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OlarkZapierNews.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnOlarkZapierNewsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnOlarkZapierNewGet(Destination.Models.destinationTest.OlarkZapierNew item);
        partial void OnGetOlarkZapierNewById(ref IQueryable<Destination.Models.destinationTest.OlarkZapierNew> items);


        public async Task<Destination.Models.destinationTest.OlarkZapierNew> GetOlarkZapierNewById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OlarkZapierNews
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetOlarkZapierNewById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnOlarkZapierNewGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnOlarkZapierNewCreated(Destination.Models.destinationTest.OlarkZapierNew item);
        partial void OnAfterOlarkZapierNewCreated(Destination.Models.destinationTest.OlarkZapierNew item);

        public async Task<Destination.Models.destinationTest.OlarkZapierNew> CreateOlarkZapierNew(Destination.Models.destinationTest.OlarkZapierNew olarkzapiernew)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnOlarkZapierNewCreated(olarkzapiernew);

            var existingItem = context.OlarkZapierNews
                              .Where(i => i.Id == olarkzapiernew.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.OlarkZapierNews.Add(olarkzapiernew);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(olarkzapiernew).State = EntityState.Detached;
                throw;
            }

            OnAfterOlarkZapierNewCreated(olarkzapiernew);

            return olarkzapiernew;
        }

        public async Task<Destination.Models.destinationTest.OlarkZapierNew> CancelOlarkZapierNewChanges(Destination.Models.destinationTest.OlarkZapierNew item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnOlarkZapierNewUpdated(Destination.Models.destinationTest.OlarkZapierNew item);
        partial void OnAfterOlarkZapierNewUpdated(Destination.Models.destinationTest.OlarkZapierNew item);

        public async Task<Destination.Models.destinationTest.OlarkZapierNew> UpdateOlarkZapierNew(int id, Destination.Models.destinationTest.OlarkZapierNew olarkzapiernew)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnOlarkZapierNewUpdated(olarkzapiernew);

            var itemToUpdate = context.OlarkZapierNews
                              .Where(i => i.Id == olarkzapiernew.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(olarkzapiernew);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterOlarkZapierNewUpdated(olarkzapiernew);

            return olarkzapiernew;
        }

        partial void OnOlarkZapierNewDeleted(Destination.Models.destinationTest.OlarkZapierNew item);
        partial void OnAfterOlarkZapierNewDeleted(Destination.Models.destinationTest.OlarkZapierNew item);

        public async Task<Destination.Models.destinationTest.OlarkZapierNew> DeleteOlarkZapierNew(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.OlarkZapierNews
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnOlarkZapierNewDeleted(itemToDelete);


            context.OlarkZapierNews.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterOlarkZapierNewDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportOpinionStageSurveyLeadsReporsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/opinionstagesurveyleadsrepors/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/opinionstagesurveyleadsrepors/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportOpinionStageSurveyLeadsReporsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/opinionstagesurveyleadsrepors/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/opinionstagesurveyleadsrepors/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnOpinionStageSurveyLeadsReporsRead(ref IQueryable<Destination.Models.destinationTest.OpinionStageSurveyLeadsRepor> items);

        public async Task<List<Destination.Models.destinationTest.OpinionStageSurveyLeadsRepor>> GetOpinionStageSurveyLeadsRepors(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OpinionStageSurveyLeadsRepors.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnOpinionStageSurveyLeadsReporsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportOwnerCommunicationsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ownercommunications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ownercommunications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportOwnerCommunicationsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ownercommunications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ownercommunications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnOwnerCommunicationsRead(ref IQueryable<Destination.Models.destinationTest.OwnerCommunication> items);

        public async Task<List<Destination.Models.destinationTest.OwnerCommunication>> GetOwnerCommunications(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OwnerCommunications.Take(10).AsQueryable();

            items = items.Include(i => i.Agent1);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnOwnerCommunicationsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnOwnerCommunicationGet(Destination.Models.destinationTest.OwnerCommunication item);
        partial void OnGetOwnerCommunicationById(ref IQueryable<Destination.Models.destinationTest.OwnerCommunication> items);


        public async Task<Destination.Models.destinationTest.OwnerCommunication> GetOwnerCommunicationById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OwnerCommunications
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Agent1);
 
            OnGetOwnerCommunicationById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnOwnerCommunicationGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnOwnerCommunicationCreated(Destination.Models.destinationTest.OwnerCommunication item);
        partial void OnAfterOwnerCommunicationCreated(Destination.Models.destinationTest.OwnerCommunication item);

        public async Task<Destination.Models.destinationTest.OwnerCommunication> CreateOwnerCommunication(Destination.Models.destinationTest.OwnerCommunication ownercommunication)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnOwnerCommunicationCreated(ownercommunication);

            var existingItem = context.OwnerCommunications
                              .Where(i => i.Id == ownercommunication.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.OwnerCommunications.Add(ownercommunication);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ownercommunication).State = EntityState.Detached;
                throw;
            }

            OnAfterOwnerCommunicationCreated(ownercommunication);

            return ownercommunication;
        }

        public async Task<Destination.Models.destinationTest.OwnerCommunication> CancelOwnerCommunicationChanges(Destination.Models.destinationTest.OwnerCommunication item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnOwnerCommunicationUpdated(Destination.Models.destinationTest.OwnerCommunication item);
        partial void OnAfterOwnerCommunicationUpdated(Destination.Models.destinationTest.OwnerCommunication item);

        public async Task<Destination.Models.destinationTest.OwnerCommunication> UpdateOwnerCommunication(int id, Destination.Models.destinationTest.OwnerCommunication ownercommunication)
        {
            OnOwnerCommunicationUpdated(ownercommunication);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToUpdate = context.OwnerCommunications
                              .Where(i => i.Id == ownercommunication.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ownercommunication);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterOwnerCommunicationUpdated(ownercommunication);

            return ownercommunication;
        }

        partial void OnOwnerCommunicationDeleted(Destination.Models.destinationTest.OwnerCommunication item);
        partial void OnAfterOwnerCommunicationDeleted(Destination.Models.destinationTest.OwnerCommunication item);

        public async Task<Destination.Models.destinationTest.OwnerCommunication> DeleteOwnerCommunication(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.OwnerCommunications
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnOwnerCommunicationDeleted(itemToDelete);


            context.OwnerCommunications.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterOwnerCommunicationDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportOwnerUpdatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ownerupdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ownerupdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportOwnerUpdatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ownerupdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ownerupdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnOwnerUpdatesRead(ref IQueryable<Destination.Models.destinationTest.OwnerUpdate> items);

        public async Task<List<Destination.Models.destinationTest.OwnerUpdate>> GetOwnerUpdates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.OwnerUpdates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnOwnerUpdatesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPageEmailRecipientsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/pageemailrecipients/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/pageemailrecipients/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPageEmailRecipientsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/pageemailrecipients/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/pageemailrecipients/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPageEmailRecipientsRead(ref IQueryable<Destination.Models.destinationTest.PageEmailRecipient> items);

        public async Task<List<Destination.Models.destinationTest.PageEmailRecipient>> GetPageEmailRecipients(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PageEmailRecipients.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPageEmailRecipientsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPageEmailRecipientGet(Destination.Models.destinationTest.PageEmailRecipient item);
        partial void OnGetPageEmailRecipientById(ref IQueryable<Destination.Models.destinationTest.PageEmailRecipient> items);


        public async Task<Destination.Models.destinationTest.PageEmailRecipient> GetPageEmailRecipientById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PageEmailRecipients
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPageEmailRecipientById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPageEmailRecipientGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPageEmailRecipientCreated(Destination.Models.destinationTest.PageEmailRecipient item);
        partial void OnAfterPageEmailRecipientCreated(Destination.Models.destinationTest.PageEmailRecipient item);

        public async Task<Destination.Models.destinationTest.PageEmailRecipient> CreatePageEmailRecipient(Destination.Models.destinationTest.PageEmailRecipient pageemailrecipient)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPageEmailRecipientCreated(pageemailrecipient);

            var existingItem = context.PageEmailRecipients
                              .Where(i => i.Id == pageemailrecipient.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PageEmailRecipients.Add(pageemailrecipient);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(pageemailrecipient).State = EntityState.Detached;
                throw;
            }

            OnAfterPageEmailRecipientCreated(pageemailrecipient);

            return pageemailrecipient;
        }

        public async Task<Destination.Models.destinationTest.PageEmailRecipient> CancelPageEmailRecipientChanges(Destination.Models.destinationTest.PageEmailRecipient item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPageEmailRecipientUpdated(Destination.Models.destinationTest.PageEmailRecipient item);
        partial void OnAfterPageEmailRecipientUpdated(Destination.Models.destinationTest.PageEmailRecipient item);

        public async Task<Destination.Models.destinationTest.PageEmailRecipient> UpdatePageEmailRecipient(int id, Destination.Models.destinationTest.PageEmailRecipient pageemailrecipient)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPageEmailRecipientUpdated(pageemailrecipient);

            var itemToUpdate = context.PageEmailRecipients
                              .Where(i => i.Id == pageemailrecipient.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(pageemailrecipient);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPageEmailRecipientUpdated(pageemailrecipient);

            return pageemailrecipient;
        }

        partial void OnPageEmailRecipientDeleted(Destination.Models.destinationTest.PageEmailRecipient item);
        partial void OnAfterPageEmailRecipientDeleted(Destination.Models.destinationTest.PageEmailRecipient item);

        public async Task<Destination.Models.destinationTest.PageEmailRecipient> DeletePageEmailRecipient(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PageEmailRecipients
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPageEmailRecipientDeleted(itemToDelete);


            context.PageEmailRecipients.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPageEmailRecipientDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPaymentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/payments/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/payments/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPaymentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/payments/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/payments/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPaymentsRead(ref IQueryable<Destination.Models.destinationTest.Payment> items);

        public async Task<List<Destination.Models.destinationTest.Payment>> GetPayments(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Payments.AsQueryable();

            items = items.Include(i => i.Booking);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPaymentsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPaymentGet(Destination.Models.destinationTest.Payment item);
        partial void OnGetPaymentByIntPaymentId(ref IQueryable<Destination.Models.destinationTest.Payment> items);


        public async Task<Destination.Models.destinationTest.Payment> GetPaymentByIntPaymentId(int intpaymentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Payments
                              .AsNoTracking()
                              .Where(i => i.IntPaymentId == intpaymentid);

            items = items.Include(i => i.Booking);
 
            OnGetPaymentByIntPaymentId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPaymentGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPaymentCreated(Destination.Models.destinationTest.Payment item);
        partial void OnAfterPaymentCreated(Destination.Models.destinationTest.Payment item);

        public async Task<Destination.Models.destinationTest.Payment> CreatePayment(Destination.Models.destinationTest.Payment payment)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPaymentCreated(payment);

            var existingItem = context.Payments
                              .Where(i => i.IntPaymentId == payment.IntPaymentId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Payments.Add(payment);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(payment).State = EntityState.Detached;
                throw;
            }

            OnAfterPaymentCreated(payment);

            return payment;
        }

        public async Task<Destination.Models.destinationTest.Payment> CancelPaymentChanges(Destination.Models.destinationTest.Payment item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPaymentUpdated(Destination.Models.destinationTest.Payment item);
        partial void OnAfterPaymentUpdated(Destination.Models.destinationTest.Payment item);

        public async Task<Destination.Models.destinationTest.Payment> UpdatePayment(int intpaymentid, Destination.Models.destinationTest.Payment payment)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPaymentUpdated(payment);

            var itemToUpdate = context.Payments
                              .Where(i => i.IntPaymentId == payment.IntPaymentId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(payment);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPaymentUpdated(payment);

            return payment;
        }

        partial void OnPaymentDeleted(Destination.Models.destinationTest.Payment item);
        partial void OnAfterPaymentDeleted(Destination.Models.destinationTest.Payment item);

        public async Task<Destination.Models.destinationTest.Payment> DeletePayment(int intpaymentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Payments
                              .Where(i => i.IntPaymentId == intpaymentid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPaymentDeleted(itemToDelete);


            context.Payments.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPaymentDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPaymentLogDoubleRefundedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/paymentlogdoublerefundeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/paymentlogdoublerefundeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPaymentLogDoubleRefundedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/paymentlogdoublerefundeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/paymentlogdoublerefundeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPaymentLogDoubleRefundedsRead(ref IQueryable<Destination.Models.destinationTest.PaymentLogDoubleRefunded> items);

        public async Task<List<Destination.Models.destinationTest.PaymentLogDoubleRefunded>> GetPaymentLogDoubleRefundeds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PaymentLogDoubleRefundeds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPaymentLogDoubleRefundedsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPerformasToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/performas/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/performas/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPerformasToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/performas/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/performas/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPerformasRead(ref IQueryable<Destination.Models.destinationTest.Performa> items);

        public async Task<List<Destination.Models.destinationTest.Performa>> GetPerformas(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Performas.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPerformasRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPerformaGet(Destination.Models.destinationTest.Performa item);
        partial void OnGetPerformaByPerformaId(ref IQueryable<Destination.Models.destinationTest.Performa> items);


        public async Task<Destination.Models.destinationTest.Performa> GetPerformaByPerformaId(int performaid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Performas
                              .AsNoTracking()
                              .Where(i => i.PerformaId == performaid);

            items = items.Include(i => i.Property);
 
            OnGetPerformaByPerformaId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPerformaGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPerformaCreated(Destination.Models.destinationTest.Performa item);
        partial void OnAfterPerformaCreated(Destination.Models.destinationTest.Performa item);

        public async Task<Destination.Models.destinationTest.Performa> CreatePerforma(Destination.Models.destinationTest.Performa performa)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPerformaCreated(performa);

            var existingItem = context.Performas
                              .Where(i => i.PerformaId == performa.PerformaId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Performas.Add(performa);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(performa).State = EntityState.Detached;
                throw;
            }

            OnAfterPerformaCreated(performa);

            return performa;
        }

        public async Task<Destination.Models.destinationTest.Performa> CancelPerformaChanges(Destination.Models.destinationTest.Performa item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPerformaUpdated(Destination.Models.destinationTest.Performa item);
        partial void OnAfterPerformaUpdated(Destination.Models.destinationTest.Performa item);

        public async Task<Destination.Models.destinationTest.Performa> UpdatePerforma(int performaid, Destination.Models.destinationTest.Performa performa)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPerformaUpdated(performa);

            var itemToUpdate = context.Performas
                              .Where(i => i.PerformaId == performa.PerformaId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(performa);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPerformaUpdated(performa);

            return performa;
        }

        partial void OnPerformaDeleted(Destination.Models.destinationTest.Performa item);
        partial void OnAfterPerformaDeleted(Destination.Models.destinationTest.Performa item);

        public async Task<Destination.Models.destinationTest.Performa> DeletePerforma(int performaid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Performas
                              .Where(i => i.PerformaId == performaid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPerformaDeleted(itemToDelete);


            context.Performas.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPerformaDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPerformaCompsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/performacomps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/performacomps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPerformaCompsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/performacomps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/performacomps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPerformaCompsRead(ref IQueryable<Destination.Models.destinationTest.PerformaComp> items);

        public async Task<List<Destination.Models.destinationTest.PerformaComp>> GetPerformaComps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PerformaComps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPerformaCompsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPerformaCompGet(Destination.Models.destinationTest.PerformaComp item);
        partial void OnGetPerformaCompById(ref IQueryable<Destination.Models.destinationTest.PerformaComp> items);


        public async Task<Destination.Models.destinationTest.PerformaComp> GetPerformaCompById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PerformaComps
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPerformaCompById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPerformaCompGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPerformaCompCreated(Destination.Models.destinationTest.PerformaComp item);
        partial void OnAfterPerformaCompCreated(Destination.Models.destinationTest.PerformaComp item);

        public async Task<Destination.Models.destinationTest.PerformaComp> CreatePerformaComp(Destination.Models.destinationTest.PerformaComp performacomp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPerformaCompCreated(performacomp);

            var existingItem = context.PerformaComps
                              .Where(i => i.Id == performacomp.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PerformaComps.Add(performacomp);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(performacomp).State = EntityState.Detached;
                throw;
            }

            OnAfterPerformaCompCreated(performacomp);

            return performacomp;
        }

        public async Task<Destination.Models.destinationTest.PerformaComp> CancelPerformaCompChanges(Destination.Models.destinationTest.PerformaComp item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPerformaCompUpdated(Destination.Models.destinationTest.PerformaComp item);
        partial void OnAfterPerformaCompUpdated(Destination.Models.destinationTest.PerformaComp item);

        public async Task<Destination.Models.destinationTest.PerformaComp> UpdatePerformaComp(int id, Destination.Models.destinationTest.PerformaComp performacomp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPerformaCompUpdated(performacomp);

            var itemToUpdate = context.PerformaComps
                              .Where(i => i.Id == performacomp.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(performacomp);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPerformaCompUpdated(performacomp);

            return performacomp;
        }

        partial void OnPerformaCompDeleted(Destination.Models.destinationTest.PerformaComp item);
        partial void OnAfterPerformaCompDeleted(Destination.Models.destinationTest.PerformaComp item);

        public async Task<Destination.Models.destinationTest.PerformaComp> DeletePerformaComp(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PerformaComps
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPerformaCompDeleted(itemToDelete);


            context.PerformaComps.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPerformaCompDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPermitsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/permits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/permits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPermitsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/permits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/permits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPermitsRead(ref IQueryable<Destination.Models.destinationTest.Permit> items);

        public async Task<List<Destination.Models.destinationTest.Permit>> GetPermits(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Permits.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPermitsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPhoneCallLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/phonecalllogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/phonecalllogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPhoneCallLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/phonecalllogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/phonecalllogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPhoneCallLogsRead(ref IQueryable<Destination.Models.destinationTest.PhoneCallLog> items);

        public async Task<List<Destination.Models.destinationTest.PhoneCallLog>> GetPhoneCallLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PhoneCallLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPhoneCallLogsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPinkSheetNotesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/pinksheetnotes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/pinksheetnotes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPinkSheetNotesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/pinksheetnotes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/pinksheetnotes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPinkSheetNotesRead(ref IQueryable<Destination.Models.destinationTest.PinkSheetNote> items);

        public async Task<List<Destination.Models.destinationTest.PinkSheetNote>> GetPinkSheetNotes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PinkSheetNotes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPinkSheetNotesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPinkSheetNoteGet(Destination.Models.destinationTest.PinkSheetNote item);
        partial void OnGetPinkSheetNoteById(ref IQueryable<Destination.Models.destinationTest.PinkSheetNote> items);


        public async Task<Destination.Models.destinationTest.PinkSheetNote> GetPinkSheetNoteById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PinkSheetNotes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPinkSheetNoteById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPinkSheetNoteGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPinkSheetNoteCreated(Destination.Models.destinationTest.PinkSheetNote item);
        partial void OnAfterPinkSheetNoteCreated(Destination.Models.destinationTest.PinkSheetNote item);

        public async Task<Destination.Models.destinationTest.PinkSheetNote> CreatePinkSheetNote(Destination.Models.destinationTest.PinkSheetNote pinksheetnote)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPinkSheetNoteCreated(pinksheetnote);

            var existingItem = context.PinkSheetNotes
                              .Where(i => i.Id == pinksheetnote.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PinkSheetNotes.Add(pinksheetnote);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(pinksheetnote).State = EntityState.Detached;
                throw;
            }

            OnAfterPinkSheetNoteCreated(pinksheetnote);

            return pinksheetnote;
        }

        public async Task<Destination.Models.destinationTest.PinkSheetNote> CancelPinkSheetNoteChanges(Destination.Models.destinationTest.PinkSheetNote item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPinkSheetNoteUpdated(Destination.Models.destinationTest.PinkSheetNote item);
        partial void OnAfterPinkSheetNoteUpdated(Destination.Models.destinationTest.PinkSheetNote item);

        public async Task<Destination.Models.destinationTest.PinkSheetNote> UpdatePinkSheetNote(int id, Destination.Models.destinationTest.PinkSheetNote pinksheetnote)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPinkSheetNoteUpdated(pinksheetnote);

            var itemToUpdate = context.PinkSheetNotes
                              .Where(i => i.Id == pinksheetnote.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(pinksheetnote);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPinkSheetNoteUpdated(pinksheetnote);

            return pinksheetnote;
        }

        partial void OnPinkSheetNoteDeleted(Destination.Models.destinationTest.PinkSheetNote item);
        partial void OnAfterPinkSheetNoteDeleted(Destination.Models.destinationTest.PinkSheetNote item);

        public async Task<Destination.Models.destinationTest.PinkSheetNote> DeletePinkSheetNote(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PinkSheetNotes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPinkSheetNoteDeleted(itemToDelete);


            context.PinkSheetNotes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPinkSheetNoteDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportProcGetLastBookingDetailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/procgetlastbookingdetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/procgetlastbookingdetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportProcGetLastBookingDetailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/procgetlastbookingdetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/procgetlastbookingdetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnProcGetLastBookingDetailsRead(ref IQueryable<Destination.Models.destinationTest.ProcGetLastBookingDetail> items);

        public async Task<List<Destination.Models.destinationTest.ProcGetLastBookingDetail>> GetProcGetLastBookingDetails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ProcGetLastBookingDetails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnProcGetLastBookingDetailsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPromoCodesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/promocodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/promocodes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPromoCodesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/promocodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/promocodes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPromoCodesRead(ref IQueryable<Destination.Models.destinationTest.PromoCode> items);

        public async Task<List<Destination.Models.destinationTest.PromoCode>> GetPromoCodes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PromoCodes.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPromoCodesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPromoCodeGet(Destination.Models.destinationTest.PromoCode item);
        partial void OnGetPromoCodeById(ref IQueryable<Destination.Models.destinationTest.PromoCode> items);


        public async Task<Destination.Models.destinationTest.PromoCode> GetPromoCodeById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PromoCodes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPromoCodeById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPromoCodeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPromoCodeCreated(Destination.Models.destinationTest.PromoCode item);
        partial void OnAfterPromoCodeCreated(Destination.Models.destinationTest.PromoCode item);

        public async Task<Destination.Models.destinationTest.PromoCode> CreatePromoCode(Destination.Models.destinationTest.PromoCode promocode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPromoCodeCreated(promocode);

            var existingItem = context.PromoCodes
                              .Where(i => i.Id == promocode.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PromoCodes.Add(promocode);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(promocode).State = EntityState.Detached;
                throw;
            }

            OnAfterPromoCodeCreated(promocode);

            return promocode;
        }

        public async Task<Destination.Models.destinationTest.PromoCode> CancelPromoCodeChanges(Destination.Models.destinationTest.PromoCode item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPromoCodeUpdated(Destination.Models.destinationTest.PromoCode item);
        partial void OnAfterPromoCodeUpdated(Destination.Models.destinationTest.PromoCode item);

        public async Task<Destination.Models.destinationTest.PromoCode> UpdatePromoCode(int id, Destination.Models.destinationTest.PromoCode promocode)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPromoCodeUpdated(promocode);

            var itemToUpdate = context.PromoCodes
                              .Where(i => i.Id == promocode.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(promocode);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPromoCodeUpdated(promocode);

            return promocode;
        }

        partial void OnPromoCodeDeleted(Destination.Models.destinationTest.PromoCode item);
        partial void OnAfterPromoCodeDeleted(Destination.Models.destinationTest.PromoCode item);

        public async Task<Destination.Models.destinationTest.PromoCode> DeletePromoCode(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PromoCodes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPromoCodeDeleted(itemToDelete);


            context.PromoCodes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPromoCodeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPromotionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/promotions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/promotions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPromotionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/promotions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/promotions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPromotionsRead(ref IQueryable<Destination.Models.destinationTest.Promotion> items);

        public async Task<List<Destination.Models.destinationTest.Promotion>> GetPromotions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Promotions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPromotionsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/properties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/properties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/properties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/properties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertiesRead(ref IQueryable<Destination.Models.destinationTest.Property> items);

        public async Task<List<AllDropDownValues.PropertyDropDownData>> GetPropertiesForDropDown(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Properties
                .Where(x => x.Name != null)
                .Select(x => new AllDropDownValues.PropertyDropDownData
                {
                    Propid = x.Propid,
                    Name = x.Name
                })
                .Take(500)
                .OrderBy(x=>x.Name)
                .AsQueryable();

              return await items.ToListAsync();
        }

        public async Task<List<Destination.Models.destinationTest.Property>> GetProperties(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Properties.Where(x=>x.Name != null).AsQueryable();

            items = items.Include(i => i.Agent);
            items = items.Include(i => i.PropertyCleaner);
            items = items.Include(i => i.Status1);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertiesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyGet(Destination.Models.destinationTest.Property item);
        partial void OnGetPropertyByPropid(ref IQueryable<Destination.Models.destinationTest.Property> items);


        public async Task<Destination.Models.destinationTest.Property> GetPropertyByPropid(int propid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Properties
                              .AsNoTracking()
                              .Where(i => i.Propid == propid);

            items = items.Include(i => i.Agent);
            items = items.Include(i => i.PropertyCleaner);
            items = items.Include(i => i.Status1);
 
            OnGetPropertyByPropid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyCreated(Destination.Models.destinationTest.Property item);
        partial void OnAfterPropertyCreated(Destination.Models.destinationTest.Property item);

        public async Task<Destination.Models.destinationTest.Property> CreateProperty(Destination.Models.destinationTest.Property property)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyCreated(property);

            var existingItem = context.Properties
                              .Where(i => i.Propid == property.Propid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Properties.Add(property);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(property).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyCreated(property);

            return property;
        }

        public async Task<Destination.Models.destinationTest.Property> CancelPropertyChanges(Destination.Models.destinationTest.Property item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyUpdated(Destination.Models.destinationTest.Property item);
        partial void OnAfterPropertyUpdated(Destination.Models.destinationTest.Property item);

        public async Task<Destination.Models.destinationTest.Property> UpdateProperty(int propid, Destination.Models.destinationTest.Property property)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyUpdated(property);

            var itemToUpdate = context.Properties
                              .Where(i => i.Propid == property.Propid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(property);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyUpdated(property);

            return property;
        }

        partial void OnPropertyDeleted(Destination.Models.destinationTest.Property item);
        partial void OnAfterPropertyDeleted(Destination.Models.destinationTest.Property item);

        public async Task<Destination.Models.destinationTest.Property> DeleteProperty(int propid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Properties
                              .Where(i => i.Propid == propid)
                              .Include(i => i.AnnualSurveys)
                              .Include(i => i.Bookings)
                              .Include(i => i.BookingsLogics)
                              .Include(i => i.Channels)
                              .Include(i => i.Currentdiscounts)
                              .Include(i => i.DailyRatesBasedOnPropertyRates)
                              .Include(i => i.FilterDataForBulkSmsMails)
                              .Include(i => i.MarketingReviews)
                              .Include(i => i.Performas)
                              .Include(i => i.PromoCodes)
                              .Include(i => i.PropertyBeds)
                              .Include(i => i.PropertyExpenses)
                              .Include(i => i.PropertyImprovements)
                              .Include(i => i.PropertyMgts)
                              .Include(i => i.PropertyRates)
                              .Include(i => i.PropertyRatesVrbos)
                              .Include(i => i.PropertyWarnings)
                              .Include(i => i.PropertyBackToBackBookingsRestricts)
                              .Include(i => i.PropertyRatesDailies)
                              .Include(i => i.PropertyVisitCounts)
                              .Include(i => i.TblMultiDayDiscounts)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyDeleted(itemToDelete);


            context.Properties.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyActivationDatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyactivationdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyactivationdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyActivationDatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyactivationdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyactivationdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyActivationDatesRead(ref IQueryable<Destination.Models.destinationTest.PropertyActivationDate> items);

        public async Task<List<Destination.Models.destinationTest.PropertyActivationDate>> GetPropertyActivationDates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyActivationDates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyActivationDatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyActivationDateGet(Destination.Models.destinationTest.PropertyActivationDate item);
        partial void OnGetPropertyActivationDateById(ref IQueryable<Destination.Models.destinationTest.PropertyActivationDate> items);


        public async Task<Destination.Models.destinationTest.PropertyActivationDate> GetPropertyActivationDateById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyActivationDates
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyActivationDateById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyActivationDateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyActivationDateCreated(Destination.Models.destinationTest.PropertyActivationDate item);
        partial void OnAfterPropertyActivationDateCreated(Destination.Models.destinationTest.PropertyActivationDate item);

        public async Task<Destination.Models.destinationTest.PropertyActivationDate> CreatePropertyActivationDate(Destination.Models.destinationTest.PropertyActivationDate propertyactivationdate)
        {
            OnPropertyActivationDateCreated(propertyactivationdate);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var existingItem = context.PropertyActivationDates
                              .Where(i => i.Id == propertyactivationdate.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyActivationDates.Add(propertyactivationdate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyactivationdate).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyActivationDateCreated(propertyactivationdate);

            return propertyactivationdate;
        }

        public async Task<Destination.Models.destinationTest.PropertyActivationDate> CancelPropertyActivationDateChanges(Destination.Models.destinationTest.PropertyActivationDate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyActivationDateUpdated(Destination.Models.destinationTest.PropertyActivationDate item);
        partial void OnAfterPropertyActivationDateUpdated(Destination.Models.destinationTest.PropertyActivationDate item);

        public async Task<Destination.Models.destinationTest.PropertyActivationDate> UpdatePropertyActivationDate(int id, Destination.Models.destinationTest.PropertyActivationDate propertyactivationdate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyActivationDateUpdated(propertyactivationdate);

            var itemToUpdate = context.PropertyActivationDates
                              .Where(i => i.Id == propertyactivationdate.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyactivationdate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyActivationDateUpdated(propertyactivationdate);

            return propertyactivationdate;
        }

        partial void OnPropertyActivationDateDeleted(Destination.Models.destinationTest.PropertyActivationDate item);
        partial void OnAfterPropertyActivationDateDeleted(Destination.Models.destinationTest.PropertyActivationDate item);

        public async Task<Destination.Models.destinationTest.PropertyActivationDate> DeletePropertyActivationDate(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyActivationDates
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyActivationDateDeleted(itemToDelete);


            context.PropertyActivationDates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyActivationDateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyBedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertybeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertybeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyBedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertybeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertybeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyBedsRead(ref IQueryable<Destination.Models.destinationTest.PropertyBed> items);

        public async Task<List<Destination.Models.destinationTest.PropertyBed>> GetPropertyBeds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyBeds.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyBedsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyBedGet(Destination.Models.destinationTest.PropertyBed item);
        partial void OnGetPropertyBedById(ref IQueryable<Destination.Models.destinationTest.PropertyBed> items);


        public async Task<Destination.Models.destinationTest.PropertyBed> GetPropertyBedById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyBeds
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPropertyBedById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyBedGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyBedCreated(Destination.Models.destinationTest.PropertyBed item);
        partial void OnAfterPropertyBedCreated(Destination.Models.destinationTest.PropertyBed item);

        public async Task<Destination.Models.destinationTest.PropertyBed> CreatePropertyBed(Destination.Models.destinationTest.PropertyBed propertybed)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyBedCreated(propertybed);

            var existingItem = context.PropertyBeds
                              .Where(i => i.Id == propertybed.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyBeds.Add(propertybed);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertybed).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyBedCreated(propertybed);

            return propertybed;
        }

        public async Task<Destination.Models.destinationTest.PropertyBed> CancelPropertyBedChanges(Destination.Models.destinationTest.PropertyBed item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyBedUpdated(Destination.Models.destinationTest.PropertyBed item);
        partial void OnAfterPropertyBedUpdated(Destination.Models.destinationTest.PropertyBed item);

        public async Task<Destination.Models.destinationTest.PropertyBed> UpdatePropertyBed(int id, Destination.Models.destinationTest.PropertyBed propertybed)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyBedUpdated(propertybed);

            var itemToUpdate = context.PropertyBeds
                              .Where(i => i.Id == propertybed.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertybed);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyBedUpdated(propertybed);

            return propertybed;
        }

        partial void OnPropertyBedDeleted(Destination.Models.destinationTest.PropertyBed item);
        partial void OnAfterPropertyBedDeleted(Destination.Models.destinationTest.PropertyBed item);

        public async Task<Destination.Models.destinationTest.PropertyBed> DeletePropertyBed(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyBeds
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyBedDeleted(itemToDelete);


            context.PropertyBeds.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyBedDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyCleanersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertycleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertycleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyCleanersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertycleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertycleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyCleanersRead(ref IQueryable<Destination.Models.destinationTest.PropertyCleaner> items);

        public async Task<List<Destination.Models.destinationTest.PropertyCleaner>> GetPropertyCleaners(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyCleaners.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyCleanersRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyCleanerGet(Destination.Models.destinationTest.PropertyCleaner item);
        partial void OnGetPropertyCleanerByCleanerid(ref IQueryable<Destination.Models.destinationTest.PropertyCleaner> items);


        public async Task<Destination.Models.destinationTest.PropertyCleaner> GetPropertyCleanerByCleanerid(int cleanerid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyCleaners
                              .AsNoTracking()
                              .Where(i => i.Cleanerid == cleanerid);

 
            OnGetPropertyCleanerByCleanerid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyCleanerGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyCleanerCreated(Destination.Models.destinationTest.PropertyCleaner item);
        partial void OnAfterPropertyCleanerCreated(Destination.Models.destinationTest.PropertyCleaner item);

        public async Task<Destination.Models.destinationTest.PropertyCleaner> CreatePropertyCleaner(Destination.Models.destinationTest.PropertyCleaner propertycleaner)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyCleanerCreated(propertycleaner);

            var existingItem = context.PropertyCleaners
                              .Where(i => i.Cleanerid == propertycleaner.Cleanerid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyCleaners.Add(propertycleaner);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertycleaner).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyCleanerCreated(propertycleaner);

            return propertycleaner;
        }

        public async Task<Destination.Models.destinationTest.PropertyCleaner> CancelPropertyCleanerChanges(Destination.Models.destinationTest.PropertyCleaner item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyCleanerUpdated(Destination.Models.destinationTest.PropertyCleaner item);
        partial void OnAfterPropertyCleanerUpdated(Destination.Models.destinationTest.PropertyCleaner item);

        public async Task<Destination.Models.destinationTest.PropertyCleaner> UpdatePropertyCleaner(int cleanerid, Destination.Models.destinationTest.PropertyCleaner propertycleaner)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyCleanerUpdated(propertycleaner);

            var itemToUpdate = context.PropertyCleaners
                              .Where(i => i.Cleanerid == propertycleaner.Cleanerid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertycleaner);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyCleanerUpdated(propertycleaner);

            return propertycleaner;
        }

        partial void OnPropertyCleanerDeleted(Destination.Models.destinationTest.PropertyCleaner item);
        partial void OnAfterPropertyCleanerDeleted(Destination.Models.destinationTest.PropertyCleaner item);

        public async Task<Destination.Models.destinationTest.PropertyCleaner> DeletePropertyCleaner(int cleanerid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyCleaners
                              .Where(i => i.Cleanerid == cleanerid)
                              .Include(i => i.Properties)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyCleanerDeleted(itemToDelete);


            context.PropertyCleaners.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyCleanerDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyConductsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyconducts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyconducts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyConductsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyconducts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyconducts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyConductsRead(ref IQueryable<Destination.Models.destinationTest.PropertyConduct> items);

        public async Task<List<Destination.Models.destinationTest.PropertyConduct>> GetPropertyConducts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyConducts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyConductsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyConductGet(Destination.Models.destinationTest.PropertyConduct item);
        partial void OnGetPropertyConductById(ref IQueryable<Destination.Models.destinationTest.PropertyConduct> items);


        public async Task<Destination.Models.destinationTest.PropertyConduct> GetPropertyConductById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyConducts
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyConductById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyConductGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyConductCreated(Destination.Models.destinationTest.PropertyConduct item);
        partial void OnAfterPropertyConductCreated(Destination.Models.destinationTest.PropertyConduct item);

        public async Task<Destination.Models.destinationTest.PropertyConduct> CreatePropertyConduct(Destination.Models.destinationTest.PropertyConduct propertyconduct)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyConductCreated(propertyconduct);

            var existingItem = context.PropertyConducts
                              .Where(i => i.Id == propertyconduct.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyConducts.Add(propertyconduct);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyconduct).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyConductCreated(propertyconduct);

            return propertyconduct;
        }

        public async Task<Destination.Models.destinationTest.PropertyConduct> CancelPropertyConductChanges(Destination.Models.destinationTest.PropertyConduct item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyConductUpdated(Destination.Models.destinationTest.PropertyConduct item);
        partial void OnAfterPropertyConductUpdated(Destination.Models.destinationTest.PropertyConduct item);

        public async Task<Destination.Models.destinationTest.PropertyConduct> UpdatePropertyConduct(int id, Destination.Models.destinationTest.PropertyConduct propertyconduct)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyConductUpdated(propertyconduct);

            var itemToUpdate = context.PropertyConducts
                              .Where(i => i.Id == propertyconduct.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyconduct);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyConductUpdated(propertyconduct);

            return propertyconduct;
        }

        partial void OnPropertyConductDeleted(Destination.Models.destinationTest.PropertyConduct item);
        partial void OnAfterPropertyConductDeleted(Destination.Models.destinationTest.PropertyConduct item);

        public async Task<Destination.Models.destinationTest.PropertyConduct> DeletePropertyConduct(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyConducts
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyConductDeleted(itemToDelete);


            context.PropertyConducts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyConductDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyContentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertycontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertycontents/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyContentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertycontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertycontents/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyContentsRead(ref IQueryable<Destination.Models.destinationTest.PropertyContent> items);

        public async Task<List<Destination.Models.destinationTest.PropertyContent>> GetPropertyContents(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyContents.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyContentsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyContentGet(Destination.Models.destinationTest.PropertyContent item);
        partial void OnGetPropertyContentByContentId(ref IQueryable<Destination.Models.destinationTest.PropertyContent> items);


        public async Task<Destination.Models.destinationTest.PropertyContent> GetPropertyContentByContentId(int contentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyContents
                              .AsNoTracking()
                              .Where(i => i.ContentId == contentid);

 
            OnGetPropertyContentByContentId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyContentGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyContentCreated(Destination.Models.destinationTest.PropertyContent item);
        partial void OnAfterPropertyContentCreated(Destination.Models.destinationTest.PropertyContent item);

        public async Task<Destination.Models.destinationTest.PropertyContent> CreatePropertyContent(Destination.Models.destinationTest.PropertyContent propertycontent)
        {
            OnPropertyContentCreated(propertycontent);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var existingItem = context.PropertyContents
                              .Where(i => i.ContentId == propertycontent.ContentId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyContents.Add(propertycontent);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertycontent).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyContentCreated(propertycontent);

            return propertycontent;
        }

        public async Task<Destination.Models.destinationTest.PropertyContent> CancelPropertyContentChanges(Destination.Models.destinationTest.PropertyContent item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyContentUpdated(Destination.Models.destinationTest.PropertyContent item);
        partial void OnAfterPropertyContentUpdated(Destination.Models.destinationTest.PropertyContent item);

        public async Task<Destination.Models.destinationTest.PropertyContent> UpdatePropertyContent(int contentid, Destination.Models.destinationTest.PropertyContent propertycontent)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyContentUpdated(propertycontent);

            var itemToUpdate = context.PropertyContents
                              .Where(i => i.ContentId == propertycontent.ContentId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertycontent);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyContentUpdated(propertycontent);

            return propertycontent;
        }

        partial void OnPropertyContentDeleted(Destination.Models.destinationTest.PropertyContent item);
        partial void OnAfterPropertyContentDeleted(Destination.Models.destinationTest.PropertyContent item);

        public async Task<Destination.Models.destinationTest.PropertyContent> DeletePropertyContent(int contentid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyContents
                              .Where(i => i.ContentId == contentid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyContentDeleted(itemToDelete);


            context.PropertyContents.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyContentDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyExpenseBlankRecordsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyexpenseblankrecords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyexpenseblankrecords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyExpenseBlankRecordsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyexpenseblankrecords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyexpenseblankrecords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyExpenseBlankRecordsRead(ref IQueryable<Destination.Models.destinationTest.PropertyExpenseBlankRecord> items);

        public async Task<List<Destination.Models.destinationTest.PropertyExpenseBlankRecord>> GetPropertyExpenseBlankRecords(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyExpenseBlankRecords.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyExpenseBlankRecordsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyExpensesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyExpensesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyExpensesRead(ref IQueryable<Destination.Models.destinationTest.PropertyExpense> items);

        public async Task<List<Destination.Models.destinationTest.PropertyExpense>> GetPropertyExpenses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyExpenses.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyExpensesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyExpenseGet(Destination.Models.destinationTest.PropertyExpense item);
        partial void OnGetPropertyExpenseByPropexpid(ref IQueryable<Destination.Models.destinationTest.PropertyExpense> items);


        public async Task<Destination.Models.destinationTest.PropertyExpense> GetPropertyExpenseByPropexpid(int propexpid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyExpenses
                              .AsNoTracking()
                              .Where(i => i.Propexpid == propexpid);

            items = items.Include(i => i.Property);
 
            OnGetPropertyExpenseByPropexpid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyExpenseGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyExpenseCreated(Destination.Models.destinationTest.PropertyExpense item);
        partial void OnAfterPropertyExpenseCreated(Destination.Models.destinationTest.PropertyExpense item);

        public async Task<Destination.Models.destinationTest.PropertyExpense> CreatePropertyExpense(Destination.Models.destinationTest.PropertyExpense propertyexpense)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyExpenseCreated(propertyexpense);

            var existingItem = context.PropertyExpenses
                              .Where(i => i.Propexpid == propertyexpense.Propexpid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyExpenses.Add(propertyexpense);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyexpense).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyExpenseCreated(propertyexpense);

            return propertyexpense;
        }

        public async Task<Destination.Models.destinationTest.PropertyExpense> CancelPropertyExpenseChanges(Destination.Models.destinationTest.PropertyExpense item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyExpenseUpdated(Destination.Models.destinationTest.PropertyExpense item);
        partial void OnAfterPropertyExpenseUpdated(Destination.Models.destinationTest.PropertyExpense item);

        public async Task<Destination.Models.destinationTest.PropertyExpense> UpdatePropertyExpense(int propexpid, Destination.Models.destinationTest.PropertyExpense propertyexpense)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyExpenseUpdated(propertyexpense);

            var itemToUpdate = context.PropertyExpenses
                              .Where(i => i.Propexpid == propertyexpense.Propexpid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyexpense);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyExpenseUpdated(propertyexpense);

            return propertyexpense;
        }

        partial void OnPropertyExpenseDeleted(Destination.Models.destinationTest.PropertyExpense item);
        partial void OnAfterPropertyExpenseDeleted(Destination.Models.destinationTest.PropertyExpense item);

        public async Task<Destination.Models.destinationTest.PropertyExpense> DeletePropertyExpense(int propexpid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyExpenses
                              .Where(i => i.Propexpid == propexpid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyExpenseDeleted(itemToDelete);


            context.PropertyExpenses.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyExpenseDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyExpensesDeletedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyexpensesdeleteds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyexpensesdeleteds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyExpensesDeletedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyexpensesdeleteds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyexpensesdeleteds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyExpensesDeletedsRead(ref IQueryable<Destination.Models.destinationTest.PropertyExpensesDeleted> items);

        public async Task<List<Destination.Models.destinationTest.PropertyExpensesDeleted>> GetPropertyExpensesDeleteds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyExpensesDeleteds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyExpensesDeletedsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyImprovementsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyimprovements/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyimprovements/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyImprovementsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyimprovements/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyimprovements/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyImprovementsRead(ref IQueryable<Destination.Models.destinationTest.PropertyImprovement> items);

        public async Task<List<Destination.Models.destinationTest.PropertyImprovement>> GetPropertyImprovements(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyImprovements.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyImprovementsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyImprovementGet(Destination.Models.destinationTest.PropertyImprovement item);
        partial void OnGetPropertyImprovementByPropimproveid(ref IQueryable<Destination.Models.destinationTest.PropertyImprovement> items);


        public async Task<Destination.Models.destinationTest.PropertyImprovement> GetPropertyImprovementByPropimproveid(int propimproveid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyImprovements
                              .AsNoTracking()
                              .Where(i => i.Propimproveid == propimproveid);

            items = items.Include(i => i.Property);
 
            OnGetPropertyImprovementByPropimproveid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyImprovementGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyImprovementCreated(Destination.Models.destinationTest.PropertyImprovement item);
        partial void OnAfterPropertyImprovementCreated(Destination.Models.destinationTest.PropertyImprovement item);

        public async Task<Destination.Models.destinationTest.PropertyImprovement> CreatePropertyImprovement(Destination.Models.destinationTest.PropertyImprovement propertyimprovement)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyImprovementCreated(propertyimprovement);

            var existingItem = context.PropertyImprovements
                              .Where(i => i.Propimproveid == propertyimprovement.Propimproveid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyImprovements.Add(propertyimprovement);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyimprovement).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyImprovementCreated(propertyimprovement);

            return propertyimprovement;
        }

        public async Task<Destination.Models.destinationTest.PropertyImprovement> CancelPropertyImprovementChanges(Destination.Models.destinationTest.PropertyImprovement item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyImprovementUpdated(Destination.Models.destinationTest.PropertyImprovement item);
        partial void OnAfterPropertyImprovementUpdated(Destination.Models.destinationTest.PropertyImprovement item);

        public async Task<Destination.Models.destinationTest.PropertyImprovement> UpdatePropertyImprovement(int propimproveid, Destination.Models.destinationTest.PropertyImprovement propertyimprovement)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyImprovementUpdated(propertyimprovement);

            var itemToUpdate = context.PropertyImprovements
                              .Where(i => i.Propimproveid == propertyimprovement.Propimproveid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyimprovement);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyImprovementUpdated(propertyimprovement);

            return propertyimprovement;
        }

        partial void OnPropertyImprovementDeleted(Destination.Models.destinationTest.PropertyImprovement item);
        partial void OnAfterPropertyImprovementDeleted(Destination.Models.destinationTest.PropertyImprovement item);

        public async Task<Destination.Models.destinationTest.PropertyImprovement> DeletePropertyImprovement(int propimproveid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyImprovements
                              .Where(i => i.Propimproveid == propimproveid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyImprovementDeleted(itemToDelete);


            context.PropertyImprovements.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyImprovementDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyImprovementTypesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyimprovementtypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyimprovementtypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyImprovementTypesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyimprovementtypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyimprovementtypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyImprovementTypesRead(ref IQueryable<Destination.Models.destinationTest.PropertyImprovementType> items);

        public async Task<List<Destination.Models.destinationTest.PropertyImprovementType>> GetPropertyImprovementTypes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyImprovementTypes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyImprovementTypesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyImprovementTypeGet(Destination.Models.destinationTest.PropertyImprovementType item);
        partial void OnGetPropertyImprovementTypeById(ref IQueryable<Destination.Models.destinationTest.PropertyImprovementType> items);


        public async Task<Destination.Models.destinationTest.PropertyImprovementType> GetPropertyImprovementTypeById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyImprovementTypes
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyImprovementTypeById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyImprovementTypeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyImprovementTypeCreated(Destination.Models.destinationTest.PropertyImprovementType item);
        partial void OnAfterPropertyImprovementTypeCreated(Destination.Models.destinationTest.PropertyImprovementType item);

        public async Task<Destination.Models.destinationTest.PropertyImprovementType> CreatePropertyImprovementType(Destination.Models.destinationTest.PropertyImprovementType propertyimprovementtype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyImprovementTypeCreated(propertyimprovementtype);

            var existingItem = context.PropertyImprovementTypes
                              .Where(i => i.Id == propertyimprovementtype.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyImprovementTypes.Add(propertyimprovementtype);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyimprovementtype).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyImprovementTypeCreated(propertyimprovementtype);

            return propertyimprovementtype;
        }

        public async Task<Destination.Models.destinationTest.PropertyImprovementType> CancelPropertyImprovementTypeChanges(Destination.Models.destinationTest.PropertyImprovementType item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyImprovementTypeUpdated(Destination.Models.destinationTest.PropertyImprovementType item);
        partial void OnAfterPropertyImprovementTypeUpdated(Destination.Models.destinationTest.PropertyImprovementType item);

        public async Task<Destination.Models.destinationTest.PropertyImprovementType> UpdatePropertyImprovementType(int id, Destination.Models.destinationTest.PropertyImprovementType propertyimprovementtype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyImprovementTypeUpdated(propertyimprovementtype);

            var itemToUpdate = context.PropertyImprovementTypes
                              .Where(i => i.Id == propertyimprovementtype.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyimprovementtype);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyImprovementTypeUpdated(propertyimprovementtype);

            return propertyimprovementtype;
        }

        partial void OnPropertyImprovementTypeDeleted(Destination.Models.destinationTest.PropertyImprovementType item);
        partial void OnAfterPropertyImprovementTypeDeleted(Destination.Models.destinationTest.PropertyImprovementType item);

        public async Task<Destination.Models.destinationTest.PropertyImprovementType> DeletePropertyImprovementType(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyImprovementTypes
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyImprovementTypeDeleted(itemToDelete);


            context.PropertyImprovementTypes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyImprovementTypeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyLastNextBookingDetailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertylastnextbookingdetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertylastnextbookingdetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyLastNextBookingDetailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertylastnextbookingdetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertylastnextbookingdetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyLastNextBookingDetailsRead(ref IQueryable<Destination.Models.destinationTest.PropertyLastNextBookingDetail> items);

        public async Task<List<Destination.Models.destinationTest.PropertyLastNextBookingDetail>> GetPropertyLastNextBookingDetails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyLastNextBookingDetails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyLastNextBookingDetailsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyMgtsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertymgts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertymgts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyMgtsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertymgts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertymgts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyMgtsRead(ref IQueryable<Destination.Models.destinationTest.PropertyMgt> items);

        public async Task<List<Destination.Models.destinationTest.PropertyMgt>> GetPropertyMgts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyMgts.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyMgtsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyMgtGet(Destination.Models.destinationTest.PropertyMgt item);
        partial void OnGetPropertyMgtById(ref IQueryable<Destination.Models.destinationTest.PropertyMgt> items);


        public async Task<Destination.Models.destinationTest.PropertyMgt> GetPropertyMgtById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyMgts
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPropertyMgtById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyMgtGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyMgtCreated(Destination.Models.destinationTest.PropertyMgt item);
        partial void OnAfterPropertyMgtCreated(Destination.Models.destinationTest.PropertyMgt item);

        public async Task<Destination.Models.destinationTest.PropertyMgt> CreatePropertyMgt(Destination.Models.destinationTest.PropertyMgt propertymgt)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyMgtCreated(propertymgt);

            var existingItem = context.PropertyMgts
                              .Where(i => i.Id == propertymgt.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyMgts.Add(propertymgt);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertymgt).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyMgtCreated(propertymgt);

            return propertymgt;
        }

        public async Task<Destination.Models.destinationTest.PropertyMgt> CancelPropertyMgtChanges(Destination.Models.destinationTest.PropertyMgt item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyMgtUpdated(Destination.Models.destinationTest.PropertyMgt item);
        partial void OnAfterPropertyMgtUpdated(Destination.Models.destinationTest.PropertyMgt item);

        public async Task<Destination.Models.destinationTest.PropertyMgt> UpdatePropertyMgt(int id, Destination.Models.destinationTest.PropertyMgt propertymgt)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyMgtUpdated(propertymgt);

            var itemToUpdate = context.PropertyMgts
                              .Where(i => i.Id == propertymgt.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertymgt);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyMgtUpdated(propertymgt);

            return propertymgt;
        }

        partial void OnPropertyMgtDeleted(Destination.Models.destinationTest.PropertyMgt item);
        partial void OnAfterPropertyMgtDeleted(Destination.Models.destinationTest.PropertyMgt item);

        public async Task<Destination.Models.destinationTest.PropertyMgt> DeletePropertyMgt(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyMgts
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyMgtDeleted(itemToDelete);


            context.PropertyMgts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyMgtDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyNeighborsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyneighbors/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyneighbors/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyNeighborsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyneighbors/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyneighbors/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyNeighborsRead(ref IQueryable<Destination.Models.destinationTest.PropertyNeighbor> items);

        public async Task<List<Destination.Models.destinationTest.PropertyNeighbor>> GetPropertyNeighbors(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyNeighbors.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyNeighborsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyNeighborGet(Destination.Models.destinationTest.PropertyNeighbor item);
        partial void OnGetPropertyNeighborById(ref IQueryable<Destination.Models.destinationTest.PropertyNeighbor> items);


        public async Task<Destination.Models.destinationTest.PropertyNeighbor> GetPropertyNeighborById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyNeighbors
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyNeighborById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyNeighborGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyNeighborCreated(Destination.Models.destinationTest.PropertyNeighbor item);
        partial void OnAfterPropertyNeighborCreated(Destination.Models.destinationTest.PropertyNeighbor item);

        public async Task<Destination.Models.destinationTest.PropertyNeighbor> CreatePropertyNeighbor(Destination.Models.destinationTest.PropertyNeighbor propertyneighbor)
        {
            OnPropertyNeighborCreated(propertyneighbor);

            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var existingItem = context.PropertyNeighbors
                              .Where(i => i.Id == propertyneighbor.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyNeighbors.Add(propertyneighbor);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyneighbor).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyNeighborCreated(propertyneighbor);

            return propertyneighbor;
        }

        public async Task<Destination.Models.destinationTest.PropertyNeighbor> CancelPropertyNeighborChanges(Destination.Models.destinationTest.PropertyNeighbor item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyNeighborUpdated(Destination.Models.destinationTest.PropertyNeighbor item);
        partial void OnAfterPropertyNeighborUpdated(Destination.Models.destinationTest.PropertyNeighbor item);

        public async Task<Destination.Models.destinationTest.PropertyNeighbor> UpdatePropertyNeighbor(int id, Destination.Models.destinationTest.PropertyNeighbor propertyneighbor)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyNeighborUpdated(propertyneighbor);

            var itemToUpdate = context.PropertyNeighbors
                              .Where(i => i.Id == propertyneighbor.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyneighbor);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyNeighborUpdated(propertyneighbor);

            return propertyneighbor;
        }

        partial void OnPropertyNeighborDeleted(Destination.Models.destinationTest.PropertyNeighbor item);
        partial void OnAfterPropertyNeighborDeleted(Destination.Models.destinationTest.PropertyNeighbor item);

        public async Task<Destination.Models.destinationTest.PropertyNeighbor> DeletePropertyNeighbor(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyNeighbors
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyNeighborDeleted(itemToDelete);


            context.PropertyNeighbors.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyNeighborDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyOwnerInstructionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyownerinstructions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyownerinstructions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyOwnerInstructionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyownerinstructions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyownerinstructions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyOwnerInstructionsRead(ref IQueryable<Destination.Models.destinationTest.PropertyOwnerInstruction> items);

        public async Task<List<Destination.Models.destinationTest.PropertyOwnerInstruction>> GetPropertyOwnerInstructions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyOwnerInstructions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyOwnerInstructionsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyOwnerInstructionGet(Destination.Models.destinationTest.PropertyOwnerInstruction item);
        partial void OnGetPropertyOwnerInstructionById(ref IQueryable<Destination.Models.destinationTest.PropertyOwnerInstruction> items);


        public async Task<Destination.Models.destinationTest.PropertyOwnerInstruction> GetPropertyOwnerInstructionById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyOwnerInstructions
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyOwnerInstructionById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyOwnerInstructionGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyOwnerInstructionCreated(Destination.Models.destinationTest.PropertyOwnerInstruction item);
        partial void OnAfterPropertyOwnerInstructionCreated(Destination.Models.destinationTest.PropertyOwnerInstruction item);

        public async Task<Destination.Models.destinationTest.PropertyOwnerInstruction> CreatePropertyOwnerInstruction(Destination.Models.destinationTest.PropertyOwnerInstruction propertyownerinstruction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyOwnerInstructionCreated(propertyownerinstruction);

            var existingItem = context.PropertyOwnerInstructions
                              .Where(i => i.Id == propertyownerinstruction.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyOwnerInstructions.Add(propertyownerinstruction);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyownerinstruction).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyOwnerInstructionCreated(propertyownerinstruction);

            return propertyownerinstruction;
        }

        public async Task<Destination.Models.destinationTest.PropertyOwnerInstruction> CancelPropertyOwnerInstructionChanges(Destination.Models.destinationTest.PropertyOwnerInstruction item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyOwnerInstructionUpdated(Destination.Models.destinationTest.PropertyOwnerInstruction item);
        partial void OnAfterPropertyOwnerInstructionUpdated(Destination.Models.destinationTest.PropertyOwnerInstruction item);

        public async Task<Destination.Models.destinationTest.PropertyOwnerInstruction> UpdatePropertyOwnerInstruction(int id, Destination.Models.destinationTest.PropertyOwnerInstruction propertyownerinstruction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyOwnerInstructionUpdated(propertyownerinstruction);

            var itemToUpdate = context.PropertyOwnerInstructions
                              .Where(i => i.Id == propertyownerinstruction.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyownerinstruction);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyOwnerInstructionUpdated(propertyownerinstruction);

            return propertyownerinstruction;
        }

        partial void OnPropertyOwnerInstructionDeleted(Destination.Models.destinationTest.PropertyOwnerInstruction item);
        partial void OnAfterPropertyOwnerInstructionDeleted(Destination.Models.destinationTest.PropertyOwnerInstruction item);

        public async Task<Destination.Models.destinationTest.PropertyOwnerInstruction> DeletePropertyOwnerInstruction(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyOwnerInstructions
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyOwnerInstructionDeleted(itemToDelete);


            context.PropertyOwnerInstructions.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyOwnerInstructionDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesRead(ref IQueryable<Destination.Models.destinationTest.PropertyRate> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRate>> GetPropertyRates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRates.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRateGet(Destination.Models.destinationTest.PropertyRate item);
        partial void OnGetPropertyRateById(ref IQueryable<Destination.Models.destinationTest.PropertyRate> items);


        public async Task<Destination.Models.destinationTest.PropertyRate> GetPropertyRateById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var item = await context.PropertyRates
                              .AsNoTracking()
                              .Where(i => i.Propid == id).FirstOrDefaultAsync();

          //  items = items.Include(i => i.Property);
 
           // OnGetPropertyRateById(ref items);

         //   var itemToReturn = items.FirstOrDefault();

         //   OnPropertyRateGet(itemToReturn);

            return item;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesVrbo> GetPropertyRateVRBOById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var item = await context.PropertyRatesVrbos
                              .AsNoTracking()
                              .Where(i => i.Propid == id).FirstOrDefaultAsync();

            //  items = items.Include(i => i.Property);

            // OnGetPropertyRateById(ref items);

            //   var itemToReturn = items.FirstOrDefault();

            //   OnPropertyRateGet(itemToReturn);

            return item;
        }

        partial void OnPropertyRateCreated(Destination.Models.destinationTest.PropertyRate item);
        partial void OnAfterPropertyRateCreated(Destination.Models.destinationTest.PropertyRate item);

        public async Task<Destination.Models.destinationTest.PropertyRate> CreatePropertyRate(Destination.Models.destinationTest.PropertyRate propertyrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRateCreated(propertyrate);

            var existingItem = context.PropertyRates
                              .Where(i => i.Id == propertyrate.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRates.Add(propertyrate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyrate).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRateCreated(propertyrate);

            return propertyrate;
        }

        public async Task<Destination.Models.destinationTest.PropertyRate> CancelPropertyRateChanges(Destination.Models.destinationTest.PropertyRate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRateUpdated(Destination.Models.destinationTest.PropertyRate item);
        partial void OnAfterPropertyRateUpdated(Destination.Models.destinationTest.PropertyRate item);

        public async Task<Destination.Models.destinationTest.PropertyRate> UpdatePropertyRate(int id, Destination.Models.destinationTest.PropertyRate propertyrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRateUpdated(propertyrate);

            var itemToUpdate = context.PropertyRates
                              .Where(i => i.Id == propertyrate.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyrate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRateUpdated(propertyrate);

            return propertyrate;
        }

        partial void OnPropertyRateDeleted(Destination.Models.destinationTest.PropertyRate item);
        partial void OnAfterPropertyRateDeleted(Destination.Models.destinationTest.PropertyRate item);

        public async Task<Destination.Models.destinationTest.PropertyRate> DeletePropertyRate(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRates
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRateDeleted(itemToDelete);


            context.PropertyRates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesAirbnbsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesairbnbs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesairbnbs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesAirbnbsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesairbnbs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesairbnbs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesAirbnbsRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesAirbnb> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesAirbnb>> GetPropertyRatesAirbnbs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesAirbnbs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesAirbnbsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesAirbnbGet(Destination.Models.destinationTest.PropertyRatesAirbnb item);
        partial void OnGetPropertyRatesAirbnbById(ref IQueryable<Destination.Models.destinationTest.PropertyRatesAirbnb> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesAirbnb> GetPropertyRatesAirbnbById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesAirbnbs
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyRatesAirbnbById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesAirbnbGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesAirbnbCreated(Destination.Models.destinationTest.PropertyRatesAirbnb item);
        partial void OnAfterPropertyRatesAirbnbCreated(Destination.Models.destinationTest.PropertyRatesAirbnb item);

        public async Task<Destination.Models.destinationTest.PropertyRatesAirbnb> CreatePropertyRatesAirbnb(Destination.Models.destinationTest.PropertyRatesAirbnb propertyratesairbnb)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesAirbnbCreated(propertyratesairbnb);

            var existingItem = context.PropertyRatesAirbnbs
                              .Where(i => i.Id == propertyratesairbnb.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesAirbnbs.Add(propertyratesairbnb);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratesairbnb).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesAirbnbCreated(propertyratesairbnb);

            return propertyratesairbnb;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesAirbnb> CancelPropertyRatesAirbnbChanges(Destination.Models.destinationTest.PropertyRatesAirbnb item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesAirbnbUpdated(Destination.Models.destinationTest.PropertyRatesAirbnb item);
        partial void OnAfterPropertyRatesAirbnbUpdated(Destination.Models.destinationTest.PropertyRatesAirbnb item);

        public async Task<Destination.Models.destinationTest.PropertyRatesAirbnb> UpdatePropertyRatesAirbnb(int id, Destination.Models.destinationTest.PropertyRatesAirbnb propertyratesairbnb)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesAirbnbUpdated(propertyratesairbnb);

            var itemToUpdate = context.PropertyRatesAirbnbs
                              .Where(i => i.Id == propertyratesairbnb.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratesairbnb);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesAirbnbUpdated(propertyratesairbnb);

            return propertyratesairbnb;
        }

        partial void OnPropertyRatesAirbnbDeleted(Destination.Models.destinationTest.PropertyRatesAirbnb item);
        partial void OnAfterPropertyRatesAirbnbDeleted(Destination.Models.destinationTest.PropertyRatesAirbnb item);

        public async Task<Destination.Models.destinationTest.PropertyRatesAirbnb> DeletePropertyRatesAirbnb(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesAirbnbs
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesAirbnbDeleted(itemToDelete);


            context.PropertyRatesAirbnbs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesAirbnbDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesBasesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesbases/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesbases/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesBasesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesbases/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesbases/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesBasesRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesBase> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesBase>> GetPropertyRatesBases(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesBases.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesBasesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesBaseGet(Destination.Models.destinationTest.PropertyRatesBase item);
        partial void OnGetPropertyRatesBaseById(ref IQueryable<Destination.Models.destinationTest.PropertyRatesBase> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesBase> GetPropertyRatesBaseById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesBases
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyRatesBaseById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesBaseGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesBaseCreated(Destination.Models.destinationTest.PropertyRatesBase item);
        partial void OnAfterPropertyRatesBaseCreated(Destination.Models.destinationTest.PropertyRatesBase item);

        public async Task<Destination.Models.destinationTest.PropertyRatesBase> CreatePropertyRatesBase(Destination.Models.destinationTest.PropertyRatesBase propertyratesbase)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesBaseCreated(propertyratesbase);

            var existingItem = context.PropertyRatesBases
                              .Where(i => i.Id == propertyratesbase.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesBases.Add(propertyratesbase);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratesbase).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesBaseCreated(propertyratesbase);

            return propertyratesbase;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesBase> CancelPropertyRatesBaseChanges(Destination.Models.destinationTest.PropertyRatesBase item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesBaseUpdated(Destination.Models.destinationTest.PropertyRatesBase item);
        partial void OnAfterPropertyRatesBaseUpdated(Destination.Models.destinationTest.PropertyRatesBase item);

        public async Task<Destination.Models.destinationTest.PropertyRatesBase> UpdatePropertyRatesBase(int id, Destination.Models.destinationTest.PropertyRatesBase propertyratesbase)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesBaseUpdated(propertyratesbase);

            var itemToUpdate = context.PropertyRatesBases
                              .Where(i => i.Id == propertyratesbase.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratesbase);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesBaseUpdated(propertyratesbase);

            return propertyratesbase;
        }

        partial void OnPropertyRatesBaseDeleted(Destination.Models.destinationTest.PropertyRatesBase item);
        partial void OnAfterPropertyRatesBaseDeleted(Destination.Models.destinationTest.PropertyRatesBase item);

        public async Task<Destination.Models.destinationTest.PropertyRatesBase> DeletePropertyRatesBase(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesBases
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesBaseDeleted(itemToDelete);


            context.PropertyRatesBases.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesBaseDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesBbsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesbbs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesbbs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesBbsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesbbs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesbbs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesBbsRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesBb> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesBb>> GetPropertyRatesBbs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesBbs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesBbsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesBbGet(Destination.Models.destinationTest.PropertyRatesBb item);
        partial void OnGetPropertyRatesBbById(ref IQueryable<Destination.Models.destinationTest.PropertyRatesBb> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesBb> GetPropertyRatesBbById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesBbs
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyRatesBbById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesBbGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesBbCreated(Destination.Models.destinationTest.PropertyRatesBb item);
        partial void OnAfterPropertyRatesBbCreated(Destination.Models.destinationTest.PropertyRatesBb item);

        public async Task<Destination.Models.destinationTest.PropertyRatesBb> CreatePropertyRatesBb(Destination.Models.destinationTest.PropertyRatesBb propertyratesbb)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesBbCreated(propertyratesbb);

            var existingItem = context.PropertyRatesBbs
                              .Where(i => i.Id == propertyratesbb.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesBbs.Add(propertyratesbb);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratesbb).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesBbCreated(propertyratesbb);

            return propertyratesbb;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesBb> CancelPropertyRatesBbChanges(Destination.Models.destinationTest.PropertyRatesBb item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesBbUpdated(Destination.Models.destinationTest.PropertyRatesBb item);
        partial void OnAfterPropertyRatesBbUpdated(Destination.Models.destinationTest.PropertyRatesBb item);

        public async Task<Destination.Models.destinationTest.PropertyRatesBb> UpdatePropertyRatesBb(int id, Destination.Models.destinationTest.PropertyRatesBb propertyratesbb)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesBbUpdated(propertyratesbb);

            var itemToUpdate = context.PropertyRatesBbs
                              .Where(i => i.Id == propertyratesbb.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratesbb);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesBbUpdated(propertyratesbb);

            return propertyratesbb;
        }

        partial void OnPropertyRatesBbDeleted(Destination.Models.destinationTest.PropertyRatesBb item);
        partial void OnAfterPropertyRatesBbDeleted(Destination.Models.destinationTest.PropertyRatesBb item);

        public async Task<Destination.Models.destinationTest.PropertyRatesBb> DeletePropertyRatesBb(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesBbs
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesBbDeleted(itemToDelete);


            context.PropertyRatesBbs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesBbDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesTrackingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratestrackings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratestrackings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesTrackingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratestrackings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratestrackings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesTrackingsRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesTracking> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesTracking>> GetPropertyRatesTrackings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesTrackings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesTrackingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesTrackingGet(Destination.Models.destinationTest.PropertyRatesTracking item);
        partial void OnGetPropertyRatesTrackingByPropertyRatesTrackingId(ref IQueryable<Destination.Models.destinationTest.PropertyRatesTracking> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesTracking> GetPropertyRatesTrackingByPropertyRatesTrackingId(long propertyratestrackingid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesTrackings
                              .AsNoTracking()
                              .Where(i => i.PropertyRatesTrackingId == propertyratestrackingid);

 
            OnGetPropertyRatesTrackingByPropertyRatesTrackingId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesTrackingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesTrackingCreated(Destination.Models.destinationTest.PropertyRatesTracking item);
        partial void OnAfterPropertyRatesTrackingCreated(Destination.Models.destinationTest.PropertyRatesTracking item);

        public async Task<Destination.Models.destinationTest.PropertyRatesTracking> CreatePropertyRatesTracking(Destination.Models.destinationTest.PropertyRatesTracking propertyratestracking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesTrackingCreated(propertyratestracking);

            var existingItem = context.PropertyRatesTrackings
                              .Where(i => i.PropertyRatesTrackingId == propertyratestracking.PropertyRatesTrackingId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesTrackings.Add(propertyratestracking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratestracking).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesTrackingCreated(propertyratestracking);

            return propertyratestracking;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesTracking> CancelPropertyRatesTrackingChanges(Destination.Models.destinationTest.PropertyRatesTracking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesTrackingUpdated(Destination.Models.destinationTest.PropertyRatesTracking item);
        partial void OnAfterPropertyRatesTrackingUpdated(Destination.Models.destinationTest.PropertyRatesTracking item);

        public async Task<Destination.Models.destinationTest.PropertyRatesTracking> UpdatePropertyRatesTracking(long propertyratestrackingid, Destination.Models.destinationTest.PropertyRatesTracking propertyratestracking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesTrackingUpdated(propertyratestracking);

            var itemToUpdate = context.PropertyRatesTrackings
                              .Where(i => i.PropertyRatesTrackingId == propertyratestracking.PropertyRatesTrackingId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratestracking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesTrackingUpdated(propertyratestracking);

            return propertyratestracking;
        }

        partial void OnPropertyRatesTrackingDeleted(Destination.Models.destinationTest.PropertyRatesTracking item);
        partial void OnAfterPropertyRatesTrackingDeleted(Destination.Models.destinationTest.PropertyRatesTracking item);

        public async Task<Destination.Models.destinationTest.PropertyRatesTracking> DeletePropertyRatesTracking(long propertyratestrackingid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesTrackings
                              .Where(i => i.PropertyRatesTrackingId == propertyratestrackingid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesTrackingDeleted(itemToDelete);


            context.PropertyRatesTrackings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesTrackingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesVrbosToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesvrbos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesvrbos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesVrbosToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesvrbos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesvrbos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesVrbosRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesVrbo> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesVrbo>> GetPropertyRatesVrbos(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesVrbos.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesVrbosRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesVrboGet(Destination.Models.destinationTest.PropertyRatesVrbo item);
        partial void OnGetPropertyRatesVrboById(ref IQueryable<Destination.Models.destinationTest.PropertyRatesVrbo> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesVrbo> GetPropertyRatesVrboById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesVrbos
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPropertyRatesVrboById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesVrboGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesVrboCreated(Destination.Models.destinationTest.PropertyRatesVrbo item);
        partial void OnAfterPropertyRatesVrboCreated(Destination.Models.destinationTest.PropertyRatesVrbo item);

        public async Task<Destination.Models.destinationTest.PropertyRatesVrbo> CreatePropertyRatesVrbo(Destination.Models.destinationTest.PropertyRatesVrbo propertyratesvrbo)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesVrboCreated(propertyratesvrbo);

            var existingItem = context.PropertyRatesVrbos
                              .Where(i => i.Id == propertyratesvrbo.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesVrbos.Add(propertyratesvrbo);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratesvrbo).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesVrboCreated(propertyratesvrbo);

            return propertyratesvrbo;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesVrbo> CancelPropertyRatesVrboChanges(Destination.Models.destinationTest.PropertyRatesVrbo item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesVrboUpdated(Destination.Models.destinationTest.PropertyRatesVrbo item);
        partial void OnAfterPropertyRatesVrboUpdated(Destination.Models.destinationTest.PropertyRatesVrbo item);

        public async Task<Destination.Models.destinationTest.PropertyRatesVrbo> UpdatePropertyRatesVrbo(int id, Destination.Models.destinationTest.PropertyRatesVrbo propertyratesvrbo)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesVrboUpdated(propertyratesvrbo);

            var itemToUpdate = context.PropertyRatesVrbos
                              .Where(i => i.Id == propertyratesvrbo.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratesvrbo);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesVrboUpdated(propertyratesvrbo);

            return propertyratesvrbo;
        }

        partial void OnPropertyRatesVrboDeleted(Destination.Models.destinationTest.PropertyRatesVrbo item);
        partial void OnAfterPropertyRatesVrboDeleted(Destination.Models.destinationTest.PropertyRatesVrbo item);

        public async Task<Destination.Models.destinationTest.PropertyRatesVrbo> DeletePropertyRatesVrbo(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesVrbos
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesVrboDeleted(itemToDelete);


            context.PropertyRatesVrbos.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesVrboDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertySourcesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertysources/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertysources/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertySourcesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertysources/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertysources/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertySourcesRead(ref IQueryable<Destination.Models.destinationTest.PropertySource> items);

        public async Task<List<Destination.Models.destinationTest.PropertySource>> GetPropertySources(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertySources.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertySourcesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertySourceGet(Destination.Models.destinationTest.PropertySource item);
        partial void OnGetPropertySourceById(ref IQueryable<Destination.Models.destinationTest.PropertySource> items);


        public async Task<Destination.Models.destinationTest.PropertySource> GetPropertySourceById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertySources
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertySourceById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertySourceGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertySourceCreated(Destination.Models.destinationTest.PropertySource item);
        partial void OnAfterPropertySourceCreated(Destination.Models.destinationTest.PropertySource item);

        public async Task<Destination.Models.destinationTest.PropertySource> CreatePropertySource(Destination.Models.destinationTest.PropertySource propertysource)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertySourceCreated(propertysource);

            var existingItem = context.PropertySources
                              .Where(i => i.Id == propertysource.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertySources.Add(propertysource);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertysource).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertySourceCreated(propertysource);

            return propertysource;
        }

        public async Task<Destination.Models.destinationTest.PropertySource> CancelPropertySourceChanges(Destination.Models.destinationTest.PropertySource item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertySourceUpdated(Destination.Models.destinationTest.PropertySource item);
        partial void OnAfterPropertySourceUpdated(Destination.Models.destinationTest.PropertySource item);

        public async Task<Destination.Models.destinationTest.PropertySource> UpdatePropertySource(int id, Destination.Models.destinationTest.PropertySource propertysource)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertySourceUpdated(propertysource);

            var itemToUpdate = context.PropertySources
                              .Where(i => i.Id == propertysource.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertysource);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertySourceUpdated(propertysource);

            return propertysource;
        }

        partial void OnPropertySourceDeleted(Destination.Models.destinationTest.PropertySource item);
        partial void OnAfterPropertySourceDeleted(Destination.Models.destinationTest.PropertySource item);

        public async Task<Destination.Models.destinationTest.PropertySource> DeletePropertySource(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertySources
                              .Where(i => i.Id == id)
                              .Include(i => i.Bookings)
                              .Include(i => i.FilterDataForBulkSmsMails)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertySourceDeleted(itemToDelete);


            context.PropertySources.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertySourceDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyTypesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertytypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertytypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyTypesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertytypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertytypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyTypesRead(ref IQueryable<Destination.Models.destinationTest.PropertyType> items);

        public async Task<List<Destination.Models.destinationTest.PropertyType>> GetPropertyTypes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyTypes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyTypesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyTypeGet(Destination.Models.destinationTest.PropertyType item);
        partial void OnGetPropertyTypeByTypeid(ref IQueryable<Destination.Models.destinationTest.PropertyType> items);


        public async Task<Destination.Models.destinationTest.PropertyType> GetPropertyTypeByTypeid(int typeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyTypes
                              .AsNoTracking()
                              .Where(i => i.Typeid == typeid);

 
            OnGetPropertyTypeByTypeid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyTypeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyTypeCreated(Destination.Models.destinationTest.PropertyType item);
        partial void OnAfterPropertyTypeCreated(Destination.Models.destinationTest.PropertyType item);

        public async Task<Destination.Models.destinationTest.PropertyType> CreatePropertyType(Destination.Models.destinationTest.PropertyType propertytype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyTypeCreated(propertytype);

            var existingItem = context.PropertyTypes
                              .Where(i => i.Typeid == propertytype.Typeid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyTypes.Add(propertytype);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertytype).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyTypeCreated(propertytype);

            return propertytype;
        }

        public async Task<Destination.Models.destinationTest.PropertyType> CancelPropertyTypeChanges(Destination.Models.destinationTest.PropertyType item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyTypeUpdated(Destination.Models.destinationTest.PropertyType item);
        partial void OnAfterPropertyTypeUpdated(Destination.Models.destinationTest.PropertyType item);

        public async Task<Destination.Models.destinationTest.PropertyType> UpdatePropertyType(int typeid, Destination.Models.destinationTest.PropertyType propertytype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyTypeUpdated(propertytype);

            var itemToUpdate = context.PropertyTypes
                              .Where(i => i.Typeid == propertytype.Typeid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertytype);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyTypeUpdated(propertytype);

            return propertytype;
        }

        partial void OnPropertyTypeDeleted(Destination.Models.destinationTest.PropertyType item);
        partial void OnAfterPropertyTypeDeleted(Destination.Models.destinationTest.PropertyType item);

        public async Task<Destination.Models.destinationTest.PropertyType> DeletePropertyType(int typeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyTypes
                              .Where(i => i.Typeid == typeid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyTypeDeleted(itemToDelete);


            context.PropertyTypes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyTypeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyWarningsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertywarnings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertywarnings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyWarningsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertywarnings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertywarnings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyWarningsRead(ref IQueryable<Destination.Models.destinationTest.PropertyWarning> items);

        public async Task<List<Destination.Models.destinationTest.PropertyWarning>> GetPropertyWarnings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyWarnings.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyWarningsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyWarningGet(Destination.Models.destinationTest.PropertyWarning item);
        partial void OnGetPropertyWarningById(ref IQueryable<Destination.Models.destinationTest.PropertyWarning> items);


        public async Task<Destination.Models.destinationTest.PropertyWarning> GetPropertyWarningById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyWarnings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPropertyWarningById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyWarningGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyWarningCreated(Destination.Models.destinationTest.PropertyWarning item);
        partial void OnAfterPropertyWarningCreated(Destination.Models.destinationTest.PropertyWarning item);

        public async Task<Destination.Models.destinationTest.PropertyWarning> CreatePropertyWarning(Destination.Models.destinationTest.PropertyWarning propertywarning)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyWarningCreated(propertywarning);

            var existingItem = context.PropertyWarnings
                              .Where(i => i.Id == propertywarning.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyWarnings.Add(propertywarning);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertywarning).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyWarningCreated(propertywarning);

            return propertywarning;
        }

        public async Task<Destination.Models.destinationTest.PropertyWarning> CancelPropertyWarningChanges(Destination.Models.destinationTest.PropertyWarning item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyWarningUpdated(Destination.Models.destinationTest.PropertyWarning item);
        partial void OnAfterPropertyWarningUpdated(Destination.Models.destinationTest.PropertyWarning item);

        public async Task<Destination.Models.destinationTest.PropertyWarning> UpdatePropertyWarning(int id, Destination.Models.destinationTest.PropertyWarning propertywarning)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyWarningUpdated(propertywarning);

            var itemToUpdate = context.PropertyWarnings
                              .Where(i => i.Id == propertywarning.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertywarning);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyWarningUpdated(propertywarning);

            return propertywarning;
        }

        partial void OnPropertyWarningDeleted(Destination.Models.destinationTest.PropertyWarning item);
        partial void OnAfterPropertyWarningDeleted(Destination.Models.destinationTest.PropertyWarning item);

        public async Task<Destination.Models.destinationTest.PropertyWarning> DeletePropertyWarning(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyWarnings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyWarningDeleted(itemToDelete);


            context.PropertyWarnings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyWarningDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyAnnualLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyannuallogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyannuallogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyAnnualLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyannuallogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyannuallogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyAnnualLogsRead(ref IQueryable<Destination.Models.destinationTest.PropertyAnnualLog> items);

        public async Task<List<Destination.Models.destinationTest.PropertyAnnualLog>> GetPropertyAnnualLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyAnnualLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyAnnualLogsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyBackToBackBookingsRestrictsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertybacktobackbookingsrestricts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertybacktobackbookingsrestricts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyBackToBackBookingsRestrictsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertybacktobackbookingsrestricts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertybacktobackbookingsrestricts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyBackToBackBookingsRestrictsRead(ref IQueryable<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict> items);

        public async Task<List<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict>> GetPropertyBackToBackBookingsRestricts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyBackToBackBookingsRestricts.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyBackToBackBookingsRestrictsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyBackToBackBookingsRestrictGet(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item);
        partial void OnGetPropertyBackToBackBookingsRestrictById(ref IQueryable<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict> items);


        public async Task<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict> GetPropertyBackToBackBookingsRestrictById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyBackToBackBookingsRestricts
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPropertyBackToBackBookingsRestrictById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyBackToBackBookingsRestrictGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyBackToBackBookingsRestrictCreated(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item);
        partial void OnAfterPropertyBackToBackBookingsRestrictCreated(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item);

        public async Task<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict> CreatePropertyBackToBackBookingsRestrict(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict propertybacktobackbookingsrestrict)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyBackToBackBookingsRestrictCreated(propertybacktobackbookingsrestrict);

            var existingItem = context.PropertyBackToBackBookingsRestricts
                              .Where(i => i.Id == propertybacktobackbookingsrestrict.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyBackToBackBookingsRestricts.Add(propertybacktobackbookingsrestrict);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertybacktobackbookingsrestrict).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyBackToBackBookingsRestrictCreated(propertybacktobackbookingsrestrict);

            return propertybacktobackbookingsrestrict;
        }

        public async Task<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict> CancelPropertyBackToBackBookingsRestrictChanges(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyBackToBackBookingsRestrictUpdated(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item);
        partial void OnAfterPropertyBackToBackBookingsRestrictUpdated(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item);

        public async Task<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict> UpdatePropertyBackToBackBookingsRestrict(int id, Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict propertybacktobackbookingsrestrict)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyBackToBackBookingsRestrictUpdated(propertybacktobackbookingsrestrict);

            var itemToUpdate = context.PropertyBackToBackBookingsRestricts
                              .Where(i => i.Id == propertybacktobackbookingsrestrict.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertybacktobackbookingsrestrict);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyBackToBackBookingsRestrictUpdated(propertybacktobackbookingsrestrict);

            return propertybacktobackbookingsrestrict;
        }

        partial void OnPropertyBackToBackBookingsRestrictDeleted(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item);
        partial void OnAfterPropertyBackToBackBookingsRestrictDeleted(Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict item);

        public async Task<Destination.Models.destinationTest.PropertyBackToBackBookingsRestrict> DeletePropertyBackToBackBookingsRestrict(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyBackToBackBookingsRestricts
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyBackToBackBookingsRestrictDeleted(itemToDelete);


            context.PropertyBackToBackBookingsRestricts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyBackToBackBookingsRestrictDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertycontenttypesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertycontenttypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertycontenttypes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertycontenttypesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertycontenttypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertycontenttypes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertycontenttypesRead(ref IQueryable<Destination.Models.destinationTest.Propertycontenttype> items);

        public async Task<List<Destination.Models.destinationTest.Propertycontenttype>> GetPropertycontenttypes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Propertycontenttypes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertycontenttypesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertycontenttypeGet(Destination.Models.destinationTest.Propertycontenttype item);
        partial void OnGetPropertycontenttypeByPropconttypeid(ref IQueryable<Destination.Models.destinationTest.Propertycontenttype> items);


        public async Task<Destination.Models.destinationTest.Propertycontenttype> GetPropertycontenttypeByPropconttypeid(int propconttypeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Propertycontenttypes
                              .AsNoTracking()
                              .Where(i => i.Propconttypeid == propconttypeid);

 
            OnGetPropertycontenttypeByPropconttypeid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertycontenttypeGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertycontenttypeCreated(Destination.Models.destinationTest.Propertycontenttype item);
        partial void OnAfterPropertycontenttypeCreated(Destination.Models.destinationTest.Propertycontenttype item);

        public async Task<Destination.Models.destinationTest.Propertycontenttype> CreatePropertycontenttype(Destination.Models.destinationTest.Propertycontenttype propertycontenttype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertycontenttypeCreated(propertycontenttype);

            var existingItem = context.Propertycontenttypes
                              .Where(i => i.Propconttypeid == propertycontenttype.Propconttypeid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Propertycontenttypes.Add(propertycontenttype);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertycontenttype).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertycontenttypeCreated(propertycontenttype);

            return propertycontenttype;
        }

        public async Task<Destination.Models.destinationTest.Propertycontenttype> CancelPropertycontenttypeChanges(Destination.Models.destinationTest.Propertycontenttype item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertycontenttypeUpdated(Destination.Models.destinationTest.Propertycontenttype item);
        partial void OnAfterPropertycontenttypeUpdated(Destination.Models.destinationTest.Propertycontenttype item);

        public async Task<Destination.Models.destinationTest.Propertycontenttype> UpdatePropertycontenttype(int propconttypeid, Destination.Models.destinationTest.Propertycontenttype propertycontenttype)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertycontenttypeUpdated(propertycontenttype);

            var itemToUpdate = context.Propertycontenttypes
                              .Where(i => i.Propconttypeid == propertycontenttype.Propconttypeid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertycontenttype);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertycontenttypeUpdated(propertycontenttype);

            return propertycontenttype;
        }

        partial void OnPropertycontenttypeDeleted(Destination.Models.destinationTest.Propertycontenttype item);
        partial void OnAfterPropertycontenttypeDeleted(Destination.Models.destinationTest.Propertycontenttype item);

        public async Task<Destination.Models.destinationTest.Propertycontenttype> DeletePropertycontenttype(int propconttypeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Propertycontenttypes
                              .Where(i => i.Propconttypeid == propconttypeid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertycontenttypeDeleted(itemToDelete);


            context.Propertycontenttypes.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertycontenttypeDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyDepositsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertydeposits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertydeposits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyDepositsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertydeposits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertydeposits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyDepositsRead(ref IQueryable<Destination.Models.destinationTest.PropertyDeposit> items);

        public async Task<List<Destination.Models.destinationTest.PropertyDeposit>> GetPropertyDeposits(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyDeposits.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyDepositsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyDepositGet(Destination.Models.destinationTest.PropertyDeposit item);
        partial void OnGetPropertyDepositById(ref IQueryable<Destination.Models.destinationTest.PropertyDeposit> items);


        public async Task<Destination.Models.destinationTest.PropertyDeposit> GetPropertyDepositById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyDeposits
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyDepositById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyDepositGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyDepositCreated(Destination.Models.destinationTest.PropertyDeposit item);
        partial void OnAfterPropertyDepositCreated(Destination.Models.destinationTest.PropertyDeposit item);

        public async Task<Destination.Models.destinationTest.PropertyDeposit> CreatePropertyDeposit(Destination.Models.destinationTest.PropertyDeposit propertydeposit)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyDepositCreated(propertydeposit);

            var existingItem = context.PropertyDeposits
                              .Where(i => i.Id == propertydeposit.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyDeposits.Add(propertydeposit);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertydeposit).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyDepositCreated(propertydeposit);

            return propertydeposit;
        }

        public async Task<Destination.Models.destinationTest.PropertyDeposit> CancelPropertyDepositChanges(Destination.Models.destinationTest.PropertyDeposit item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyDepositUpdated(Destination.Models.destinationTest.PropertyDeposit item);
        partial void OnAfterPropertyDepositUpdated(Destination.Models.destinationTest.PropertyDeposit item);

        public async Task<Destination.Models.destinationTest.PropertyDeposit> UpdatePropertyDeposit(int id, Destination.Models.destinationTest.PropertyDeposit propertydeposit)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyDepositUpdated(propertydeposit);

            var itemToUpdate = context.PropertyDeposits
                              .Where(i => i.Id == propertydeposit.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertydeposit);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyDepositUpdated(propertydeposit);

            return propertydeposit;
        }

        partial void OnPropertyDepositDeleted(Destination.Models.destinationTest.PropertyDeposit item);
        partial void OnAfterPropertyDepositDeleted(Destination.Models.destinationTest.PropertyDeposit item);

        public async Task<Destination.Models.destinationTest.PropertyDeposit> DeletePropertyDeposit(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyDeposits
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyDepositDeleted(itemToDelete);


            context.PropertyDeposits.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyDepositDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyFulltimesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyfulltimes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyfulltimes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyFulltimesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyfulltimes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyfulltimes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyFulltimesRead(ref IQueryable<Destination.Models.destinationTest.PropertyFulltime> items);

        public async Task<List<Destination.Models.destinationTest.PropertyFulltime>> GetPropertyFulltimes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyFulltimes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyFulltimesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyInsurancesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyinsurances/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyinsurances/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyInsurancesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyinsurances/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyinsurances/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyInsurancesRead(ref IQueryable<Destination.Models.destinationTest.PropertyInsurance> items);

        public async Task<List<Destination.Models.destinationTest.PropertyInsurance>> GetPropertyInsurances(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyInsurances.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyInsurancesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyInsuranceCitiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyinsurancecities/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyinsurancecities/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyInsuranceCitiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyinsurancecities/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyinsurancecities/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyInsuranceCitiesRead(ref IQueryable<Destination.Models.destinationTest.PropertyInsuranceCity> items);

        public async Task<List<Destination.Models.destinationTest.PropertyInsuranceCity>> GetPropertyInsuranceCities(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyInsuranceCities.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyInsuranceCitiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyInsuranceCountiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyinsurancecounties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyinsurancecounties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyInsuranceCountiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyinsurancecounties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyinsurancecounties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyInsuranceCountiesRead(ref IQueryable<Destination.Models.destinationTest.PropertyInsuranceCounty> items);

        public async Task<List<Destination.Models.destinationTest.PropertyInsuranceCounty>> GetPropertyInsuranceCounties(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyInsuranceCounties.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyInsuranceCountiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyRatesDailiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesDailiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesDailiesRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesDaily> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesDaily>> GetPropertyRatesDailies(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesDailies.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesDailiesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesDailyGet(Destination.Models.destinationTest.PropertyRatesDaily item);
        partial void OnGetPropertyRatesDailyById(ref IQueryable<Destination.Models.destinationTest.PropertyRatesDaily> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesDaily> GetPropertyRatesDailyById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesDailies
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPropertyRatesDailyById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesDailyGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesDailyCreated(Destination.Models.destinationTest.PropertyRatesDaily item);
        partial void OnAfterPropertyRatesDailyCreated(Destination.Models.destinationTest.PropertyRatesDaily item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDaily> CreatePropertyRatesDaily(Destination.Models.destinationTest.PropertyRatesDaily propertyratesdaily)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesDailyCreated(propertyratesdaily);

            var existingItem = context.PropertyRatesDailies
                              .Where(i => i.Id == propertyratesdaily.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesDailies.Add(propertyratesdaily);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratesdaily).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesDailyCreated(propertyratesdaily);

            return propertyratesdaily;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesDaily> CancelPropertyRatesDailyChanges(Destination.Models.destinationTest.PropertyRatesDaily item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesDailyUpdated(Destination.Models.destinationTest.PropertyRatesDaily item);
        partial void OnAfterPropertyRatesDailyUpdated(Destination.Models.destinationTest.PropertyRatesDaily item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDaily> UpdatePropertyRatesDaily(int id, Destination.Models.destinationTest.PropertyRatesDaily propertyratesdaily)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesDailyUpdated(propertyratesdaily);

            var itemToUpdate = context.PropertyRatesDailies
                              .Where(i => i.Id == propertyratesdaily.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratesdaily);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesDailyUpdated(propertyratesdaily);

            return propertyratesdaily;
        }

        partial void OnPropertyRatesDailyDeleted(Destination.Models.destinationTest.PropertyRatesDaily item);
        partial void OnAfterPropertyRatesDailyDeleted(Destination.Models.destinationTest.PropertyRatesDaily item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDaily> DeletePropertyRatesDaily(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesDailies
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesDailyDeleted(itemToDelete);


            context.PropertyRatesDailies.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesDailyDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesDailySinglePropsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailysingleprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailysingleprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesDailySinglePropsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailysingleprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailysingleprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesDailySinglePropsRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesDailySingleProp> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesDailySingleProp>> GetPropertyRatesDailySingleProps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesDailySingleProps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesDailySinglePropsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportPropertyRatesDailyTempsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailytemps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailytemps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesDailyTempsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailytemps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailytemps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesDailyTempsRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesDailyTemp> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesDailyTemp>> GetPropertyRatesDailyTemps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesDailyTemps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesDailyTempsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesDailyTempGet(Destination.Models.destinationTest.PropertyRatesDailyTemp item);
        partial void OnGetPropertyRatesDailyTempById(ref IQueryable<Destination.Models.destinationTest.PropertyRatesDailyTemp> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesDailyTemp> GetPropertyRatesDailyTempById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesDailyTemps
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyRatesDailyTempById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesDailyTempGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesDailyTempCreated(Destination.Models.destinationTest.PropertyRatesDailyTemp item);
        partial void OnAfterPropertyRatesDailyTempCreated(Destination.Models.destinationTest.PropertyRatesDailyTemp item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyTemp> CreatePropertyRatesDailyTemp(Destination.Models.destinationTest.PropertyRatesDailyTemp propertyratesdailytemp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesDailyTempCreated(propertyratesdailytemp);

            var existingItem = context.PropertyRatesDailyTemps
                              .Where(i => i.Id == propertyratesdailytemp.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesDailyTemps.Add(propertyratesdailytemp);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratesdailytemp).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesDailyTempCreated(propertyratesdailytemp);

            return propertyratesdailytemp;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyTemp> CancelPropertyRatesDailyTempChanges(Destination.Models.destinationTest.PropertyRatesDailyTemp item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesDailyTempUpdated(Destination.Models.destinationTest.PropertyRatesDailyTemp item);
        partial void OnAfterPropertyRatesDailyTempUpdated(Destination.Models.destinationTest.PropertyRatesDailyTemp item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyTemp> UpdatePropertyRatesDailyTemp(int id, Destination.Models.destinationTest.PropertyRatesDailyTemp propertyratesdailytemp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesDailyTempUpdated(propertyratesdailytemp);

            var itemToUpdate = context.PropertyRatesDailyTemps
                              .Where(i => i.Id == propertyratesdailytemp.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratesdailytemp);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesDailyTempUpdated(propertyratesdailytemp);

            return propertyratesdailytemp;
        }

        partial void OnPropertyRatesDailyTempDeleted(Destination.Models.destinationTest.PropertyRatesDailyTemp item);
        partial void OnAfterPropertyRatesDailyTempDeleted(Destination.Models.destinationTest.PropertyRatesDailyTemp item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyTemp> DeletePropertyRatesDailyTemp(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesDailyTemps
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesDailyTempDeleted(itemToDelete);


            context.PropertyRatesDailyTemps.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesDailyTempDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyRatesDailyMinRatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailyminrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailyminrates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyRatesDailyMinRatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyratesdailyminrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyratesdailyminrates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyRatesDailyMinRatesRead(ref IQueryable<Destination.Models.destinationTest.PropertyRatesDailyMinRate> items);

        public async Task<List<Destination.Models.destinationTest.PropertyRatesDailyMinRate>> GetPropertyRatesDailyMinRates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesDailyMinRates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyRatesDailyMinRatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyRatesDailyMinRateGet(Destination.Models.destinationTest.PropertyRatesDailyMinRate item);
        partial void OnGetPropertyRatesDailyMinRateById(ref IQueryable<Destination.Models.destinationTest.PropertyRatesDailyMinRate> items);


        public async Task<Destination.Models.destinationTest.PropertyRatesDailyMinRate> GetPropertyRatesDailyMinRateById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyRatesDailyMinRates
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyRatesDailyMinRateById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyRatesDailyMinRateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyRatesDailyMinRateCreated(Destination.Models.destinationTest.PropertyRatesDailyMinRate item);
        partial void OnAfterPropertyRatesDailyMinRateCreated(Destination.Models.destinationTest.PropertyRatesDailyMinRate item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyMinRate> CreatePropertyRatesDailyMinRate(Destination.Models.destinationTest.PropertyRatesDailyMinRate propertyratesdailyminrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesDailyMinRateCreated(propertyratesdailyminrate);

            var existingItem = context.PropertyRatesDailyMinRates
                              .Where(i => i.Id == propertyratesdailyminrate.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyRatesDailyMinRates.Add(propertyratesdailyminrate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyratesdailyminrate).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyRatesDailyMinRateCreated(propertyratesdailyminrate);

            return propertyratesdailyminrate;
        }

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyMinRate> CancelPropertyRatesDailyMinRateChanges(Destination.Models.destinationTest.PropertyRatesDailyMinRate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyRatesDailyMinRateUpdated(Destination.Models.destinationTest.PropertyRatesDailyMinRate item);
        partial void OnAfterPropertyRatesDailyMinRateUpdated(Destination.Models.destinationTest.PropertyRatesDailyMinRate item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyMinRate> UpdatePropertyRatesDailyMinRate(int id, Destination.Models.destinationTest.PropertyRatesDailyMinRate propertyratesdailyminrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyRatesDailyMinRateUpdated(propertyratesdailyminrate);

            var itemToUpdate = context.PropertyRatesDailyMinRates
                              .Where(i => i.Id == propertyratesdailyminrate.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyratesdailyminrate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyRatesDailyMinRateUpdated(propertyratesdailyminrate);

            return propertyratesdailyminrate;
        }

        partial void OnPropertyRatesDailyMinRateDeleted(Destination.Models.destinationTest.PropertyRatesDailyMinRate item);
        partial void OnAfterPropertyRatesDailyMinRateDeleted(Destination.Models.destinationTest.PropertyRatesDailyMinRate item);

        public async Task<Destination.Models.destinationTest.PropertyRatesDailyMinRate> DeletePropertyRatesDailyMinRate(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyRatesDailyMinRates
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyRatesDailyMinRateDeleted(itemToDelete);


            context.PropertyRatesDailyMinRates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyRatesDailyMinRateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyVisitCountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyvisitcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyvisitcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyVisitCountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertyvisitcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertyvisitcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyVisitCountsRead(ref IQueryable<Destination.Models.destinationTest.PropertyVisitCount> items);

        public async Task<List<Destination.Models.destinationTest.PropertyVisitCount>> GetPropertyVisitCounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyVisitCounts.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyVisitCountsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyVisitCountGet(Destination.Models.destinationTest.PropertyVisitCount item);
        partial void OnGetPropertyVisitCountById(ref IQueryable<Destination.Models.destinationTest.PropertyVisitCount> items);


        public async Task<Destination.Models.destinationTest.PropertyVisitCount> GetPropertyVisitCountById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyVisitCounts
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetPropertyVisitCountById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyVisitCountGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyVisitCountCreated(Destination.Models.destinationTest.PropertyVisitCount item);
        partial void OnAfterPropertyVisitCountCreated(Destination.Models.destinationTest.PropertyVisitCount item);

        public async Task<Destination.Models.destinationTest.PropertyVisitCount> CreatePropertyVisitCount(Destination.Models.destinationTest.PropertyVisitCount propertyvisitcount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyVisitCountCreated(propertyvisitcount);

            var existingItem = context.PropertyVisitCounts
                              .Where(i => i.Id == propertyvisitcount.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyVisitCounts.Add(propertyvisitcount);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertyvisitcount).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyVisitCountCreated(propertyvisitcount);

            return propertyvisitcount;
        }

        public async Task<Destination.Models.destinationTest.PropertyVisitCount> CancelPropertyVisitCountChanges(Destination.Models.destinationTest.PropertyVisitCount item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyVisitCountUpdated(Destination.Models.destinationTest.PropertyVisitCount item);
        partial void OnAfterPropertyVisitCountUpdated(Destination.Models.destinationTest.PropertyVisitCount item);

        public async Task<Destination.Models.destinationTest.PropertyVisitCount> UpdatePropertyVisitCount(int id, Destination.Models.destinationTest.PropertyVisitCount propertyvisitcount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyVisitCountUpdated(propertyvisitcount);

            var itemToUpdate = context.PropertyVisitCounts
                              .Where(i => i.Id == propertyvisitcount.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertyvisitcount);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyVisitCountUpdated(propertyvisitcount);

            return propertyvisitcount;
        }

        partial void OnPropertyVisitCountDeleted(Destination.Models.destinationTest.PropertyVisitCount item);
        partial void OnAfterPropertyVisitCountDeleted(Destination.Models.destinationTest.PropertyVisitCount item);

        public async Task<Destination.Models.destinationTest.PropertyVisitCount> DeletePropertyVisitCount(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyVisitCounts
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyVisitCountDeleted(itemToDelete);


            context.PropertyVisitCounts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyVisitCountDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropertyWatchListsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertywatchlists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertywatchlists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropertyWatchListsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propertywatchlists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propertywatchlists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropertyWatchListsRead(ref IQueryable<Destination.Models.destinationTest.PropertyWatchList> items);

        public async Task<List<Destination.Models.destinationTest.PropertyWatchList>> GetPropertyWatchLists(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyWatchLists.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropertyWatchListsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropertyWatchListGet(Destination.Models.destinationTest.PropertyWatchList item);
        partial void OnGetPropertyWatchListById(ref IQueryable<Destination.Models.destinationTest.PropertyWatchList> items);


        public async Task<Destination.Models.destinationTest.PropertyWatchList> GetPropertyWatchListById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropertyWatchLists
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetPropertyWatchListById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropertyWatchListGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropertyWatchListCreated(Destination.Models.destinationTest.PropertyWatchList item);
        partial void OnAfterPropertyWatchListCreated(Destination.Models.destinationTest.PropertyWatchList item);

        public async Task<Destination.Models.destinationTest.PropertyWatchList> CreatePropertyWatchList(Destination.Models.destinationTest.PropertyWatchList propertywatchlist)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyWatchListCreated(propertywatchlist);

            var existingItem = context.PropertyWatchLists
                              .Where(i => i.Id == propertywatchlist.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropertyWatchLists.Add(propertywatchlist);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propertywatchlist).State = EntityState.Detached;
                throw;
            }

            OnAfterPropertyWatchListCreated(propertywatchlist);

            return propertywatchlist;
        }

        public async Task<Destination.Models.destinationTest.PropertyWatchList> CancelPropertyWatchListChanges(Destination.Models.destinationTest.PropertyWatchList item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropertyWatchListUpdated(Destination.Models.destinationTest.PropertyWatchList item);
        partial void OnAfterPropertyWatchListUpdated(Destination.Models.destinationTest.PropertyWatchList item);

        public async Task<Destination.Models.destinationTest.PropertyWatchList> UpdatePropertyWatchList(int id, Destination.Models.destinationTest.PropertyWatchList propertywatchlist)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropertyWatchListUpdated(propertywatchlist);

            var itemToUpdate = context.PropertyWatchLists
                              .Where(i => i.Id == propertywatchlist.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propertywatchlist);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropertyWatchListUpdated(propertywatchlist);

            return propertywatchlist;
        }

        partial void OnPropertyWatchListDeleted(Destination.Models.destinationTest.PropertyWatchList item);
        partial void OnAfterPropertyWatchListDeleted(Destination.Models.destinationTest.PropertyWatchList item);

        public async Task<Destination.Models.destinationTest.PropertyWatchList> DeletePropertyWatchList(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropertyWatchLists
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropertyWatchListDeleted(itemToDelete);


            context.PropertyWatchLists.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropertyWatchListDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportPropExpMgrsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propexpmgrs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propexpmgrs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportPropExpMgrsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/propexpmgrs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/propexpmgrs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnPropExpMgrsRead(ref IQueryable<Destination.Models.destinationTest.PropExpMgr> items);

        public async Task<List<Destination.Models.destinationTest.PropExpMgr>> GetPropExpMgrs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropExpMgrs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnPropExpMgrsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnPropExpMgrGet(Destination.Models.destinationTest.PropExpMgr item);
        partial void OnGetPropExpMgrByMgrid(ref IQueryable<Destination.Models.destinationTest.PropExpMgr> items);


        public async Task<Destination.Models.destinationTest.PropExpMgr> GetPropExpMgrByMgrid(int mgrid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.PropExpMgrs
                              .AsNoTracking()
                              .Where(i => i.Mgrid == mgrid);

 
            OnGetPropExpMgrByMgrid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnPropExpMgrGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnPropExpMgrCreated(Destination.Models.destinationTest.PropExpMgr item);
        partial void OnAfterPropExpMgrCreated(Destination.Models.destinationTest.PropExpMgr item);

        public async Task<Destination.Models.destinationTest.PropExpMgr> CreatePropExpMgr(Destination.Models.destinationTest.PropExpMgr propexpmgr)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropExpMgrCreated(propexpmgr);

            var existingItem = context.PropExpMgrs
                              .Where(i => i.Mgrid == propexpmgr.Mgrid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.PropExpMgrs.Add(propexpmgr);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(propexpmgr).State = EntityState.Detached;
                throw;
            }

            OnAfterPropExpMgrCreated(propexpmgr);

            return propexpmgr;
        }

        public async Task<Destination.Models.destinationTest.PropExpMgr> CancelPropExpMgrChanges(Destination.Models.destinationTest.PropExpMgr item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnPropExpMgrUpdated(Destination.Models.destinationTest.PropExpMgr item);
        partial void OnAfterPropExpMgrUpdated(Destination.Models.destinationTest.PropExpMgr item);

        public async Task<Destination.Models.destinationTest.PropExpMgr> UpdatePropExpMgr(int mgrid, Destination.Models.destinationTest.PropExpMgr propexpmgr)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnPropExpMgrUpdated(propexpmgr);

            var itemToUpdate = context.PropExpMgrs
                              .Where(i => i.Mgrid == propexpmgr.Mgrid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(propexpmgr);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterPropExpMgrUpdated(propexpmgr);

            return propexpmgr;
        }

        partial void OnPropExpMgrDeleted(Destination.Models.destinationTest.PropExpMgr item);
        partial void OnAfterPropExpMgrDeleted(Destination.Models.destinationTest.PropExpMgr item);

        public async Task<Destination.Models.destinationTest.PropExpMgr> DeletePropExpMgr(int mgrid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.PropExpMgrs
                              .Where(i => i.Mgrid == mgrid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnPropExpMgrDeleted(itemToDelete);


            context.PropExpMgrs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterPropExpMgrDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRamQuestionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramquestions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramquestions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRamQuestionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramquestions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramquestions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRamQuestionsRead(ref IQueryable<Destination.Models.destinationTest.RamQuestion> items);

        public async Task<List<Destination.Models.destinationTest.RamQuestion>> GetRamQuestions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamQuestions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRamQuestionsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRamQuestionGet(Destination.Models.destinationTest.RamQuestion item);
        partial void OnGetRamQuestionById(ref IQueryable<Destination.Models.destinationTest.RamQuestion> items);


        public async Task<Destination.Models.destinationTest.RamQuestion> GetRamQuestionById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamQuestions
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetRamQuestionById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRamQuestionGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRamQuestionCreated(Destination.Models.destinationTest.RamQuestion item);
        partial void OnAfterRamQuestionCreated(Destination.Models.destinationTest.RamQuestion item);

        public async Task<Destination.Models.destinationTest.RamQuestion> CreateRamQuestion(Destination.Models.destinationTest.RamQuestion ramquestion)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamQuestionCreated(ramquestion);

            var existingItem = context.RamQuestions
                              .Where(i => i.Id == ramquestion.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RamQuestions.Add(ramquestion);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ramquestion).State = EntityState.Detached;
                throw;
            }

            OnAfterRamQuestionCreated(ramquestion);

            return ramquestion;
        }

        public async Task<Destination.Models.destinationTest.RamQuestion> CancelRamQuestionChanges(Destination.Models.destinationTest.RamQuestion item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRamQuestionUpdated(Destination.Models.destinationTest.RamQuestion item);
        partial void OnAfterRamQuestionUpdated(Destination.Models.destinationTest.RamQuestion item);

        public async Task<Destination.Models.destinationTest.RamQuestion> UpdateRamQuestion(int id, Destination.Models.destinationTest.RamQuestion ramquestion)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamQuestionUpdated(ramquestion);

            var itemToUpdate = context.RamQuestions
                              .Where(i => i.Id == ramquestion.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ramquestion);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRamQuestionUpdated(ramquestion);

            return ramquestion;
        }

        partial void OnRamQuestionDeleted(Destination.Models.destinationTest.RamQuestion item);
        partial void OnAfterRamQuestionDeleted(Destination.Models.destinationTest.RamQuestion item);

        public async Task<Destination.Models.destinationTest.RamQuestion> DeleteRamQuestion(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RamQuestions
                              .Where(i => i.Id == id)
                              .Include(i => i.RamTestUserResults)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRamQuestionDeleted(itemToDelete);


            context.RamQuestions.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRamQuestionDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRamTestsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRamTestsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRamTestsRead(ref IQueryable<Destination.Models.destinationTest.RamTest> items);

        public async Task<List<Destination.Models.destinationTest.RamTest>> GetRamTests(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTests.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRamTestsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRamTestGet(Destination.Models.destinationTest.RamTest item);
        partial void OnGetRamTestByTestId(ref IQueryable<Destination.Models.destinationTest.RamTest> items);


        public async Task<Destination.Models.destinationTest.RamTest> GetRamTestByTestId(int testid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTests
                              .AsNoTracking()
                              .Where(i => i.TestId == testid);

 
            OnGetRamTestByTestId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRamTestGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRamTestCreated(Destination.Models.destinationTest.RamTest item);
        partial void OnAfterRamTestCreated(Destination.Models.destinationTest.RamTest item);

        public async Task<Destination.Models.destinationTest.RamTest> CreateRamTest(Destination.Models.destinationTest.RamTest ramtest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestCreated(ramtest);

            var existingItem = context.RamTests
                              .Where(i => i.TestId == ramtest.TestId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RamTests.Add(ramtest);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ramtest).State = EntityState.Detached;
                throw;
            }

            OnAfterRamTestCreated(ramtest);

            return ramtest;
        }

        public async Task<Destination.Models.destinationTest.RamTest> CancelRamTestChanges(Destination.Models.destinationTest.RamTest item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRamTestUpdated(Destination.Models.destinationTest.RamTest item);
        partial void OnAfterRamTestUpdated(Destination.Models.destinationTest.RamTest item);

        public async Task<Destination.Models.destinationTest.RamTest> UpdateRamTest(int testid, Destination.Models.destinationTest.RamTest ramtest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestUpdated(ramtest);

            var itemToUpdate = context.RamTests
                              .Where(i => i.TestId == ramtest.TestId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ramtest);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRamTestUpdated(ramtest);

            return ramtest;
        }

        partial void OnRamTestDeleted(Destination.Models.destinationTest.RamTest item);
        partial void OnAfterRamTestDeleted(Destination.Models.destinationTest.RamTest item);

        public async Task<Destination.Models.destinationTest.RamTest> DeleteRamTest(int testid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RamTests
                              .Where(i => i.TestId == testid)
                              .Include(i => i.RamTestUsers)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRamTestDeleted(itemToDelete);


            context.RamTests.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRamTestDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRamTestResultsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtestresults/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtestresults/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRamTestResultsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtestresults/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtestresults/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRamTestResultsRead(ref IQueryable<Destination.Models.destinationTest.RamTestResult> items);

        public async Task<List<Destination.Models.destinationTest.RamTestResult>> GetRamTestResults(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTestResults.AsQueryable();

            items = items.Include(i => i.RamTestUser);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRamTestResultsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRamTestResultGet(Destination.Models.destinationTest.RamTestResult item);
        partial void OnGetRamTestResultById(ref IQueryable<Destination.Models.destinationTest.RamTestResult> items);


        public async Task<Destination.Models.destinationTest.RamTestResult> GetRamTestResultById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTestResults
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.RamTestUser);
 
            OnGetRamTestResultById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRamTestResultGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRamTestResultCreated(Destination.Models.destinationTest.RamTestResult item);
        partial void OnAfterRamTestResultCreated(Destination.Models.destinationTest.RamTestResult item);

        public async Task<Destination.Models.destinationTest.RamTestResult> CreateRamTestResult(Destination.Models.destinationTest.RamTestResult ramtestresult)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestResultCreated(ramtestresult);

            var existingItem = context.RamTestResults
                              .Where(i => i.Id == ramtestresult.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RamTestResults.Add(ramtestresult);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ramtestresult).State = EntityState.Detached;
                throw;
            }

            OnAfterRamTestResultCreated(ramtestresult);

            return ramtestresult;
        }

        public async Task<Destination.Models.destinationTest.RamTestResult> CancelRamTestResultChanges(Destination.Models.destinationTest.RamTestResult item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRamTestResultUpdated(Destination.Models.destinationTest.RamTestResult item);
        partial void OnAfterRamTestResultUpdated(Destination.Models.destinationTest.RamTestResult item);

        public async Task<Destination.Models.destinationTest.RamTestResult> UpdateRamTestResult(int id, Destination.Models.destinationTest.RamTestResult ramtestresult)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestResultUpdated(ramtestresult);

            var itemToUpdate = context.RamTestResults
                              .Where(i => i.Id == ramtestresult.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ramtestresult);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRamTestResultUpdated(ramtestresult);

            return ramtestresult;
        }

        partial void OnRamTestResultDeleted(Destination.Models.destinationTest.RamTestResult item);
        partial void OnAfterRamTestResultDeleted(Destination.Models.destinationTest.RamTestResult item);

        public async Task<Destination.Models.destinationTest.RamTestResult> DeleteRamTestResult(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RamTestResults
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRamTestResultDeleted(itemToDelete);


            context.RamTestResults.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRamTestResultDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRamTestUserResultsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtestuserresults/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtestuserresults/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRamTestUserResultsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtestuserresults/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtestuserresults/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRamTestUserResultsRead(ref IQueryable<Destination.Models.destinationTest.RamTestUserResult> items);

        public async Task<List<Destination.Models.destinationTest.RamTestUserResult>> GetRamTestUserResults(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTestUserResults.AsQueryable();

            items = items.Include(i => i.RamQuestion);
            items = items.Include(i => i.RamTestUser);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRamTestUserResultsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRamTestUserResultGet(Destination.Models.destinationTest.RamTestUserResult item);
        partial void OnGetRamTestUserResultById(ref IQueryable<Destination.Models.destinationTest.RamTestUserResult> items);


        public async Task<Destination.Models.destinationTest.RamTestUserResult> GetRamTestUserResultById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTestUserResults
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.RamQuestion);
            items = items.Include(i => i.RamTestUser);
 
            OnGetRamTestUserResultById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRamTestUserResultGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRamTestUserResultCreated(Destination.Models.destinationTest.RamTestUserResult item);
        partial void OnAfterRamTestUserResultCreated(Destination.Models.destinationTest.RamTestUserResult item);

        public async Task<Destination.Models.destinationTest.RamTestUserResult> CreateRamTestUserResult(Destination.Models.destinationTest.RamTestUserResult ramtestuserresult)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestUserResultCreated(ramtestuserresult);

            var existingItem = context.RamTestUserResults
                              .Where(i => i.Id == ramtestuserresult.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RamTestUserResults.Add(ramtestuserresult);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ramtestuserresult).State = EntityState.Detached;
                throw;
            }

            OnAfterRamTestUserResultCreated(ramtestuserresult);

            return ramtestuserresult;
        }

        public async Task<Destination.Models.destinationTest.RamTestUserResult> CancelRamTestUserResultChanges(Destination.Models.destinationTest.RamTestUserResult item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRamTestUserResultUpdated(Destination.Models.destinationTest.RamTestUserResult item);
        partial void OnAfterRamTestUserResultUpdated(Destination.Models.destinationTest.RamTestUserResult item);

        public async Task<Destination.Models.destinationTest.RamTestUserResult> UpdateRamTestUserResult(int id, Destination.Models.destinationTest.RamTestUserResult ramtestuserresult)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestUserResultUpdated(ramtestuserresult);

            var itemToUpdate = context.RamTestUserResults
                              .Where(i => i.Id == ramtestuserresult.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ramtestuserresult);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRamTestUserResultUpdated(ramtestuserresult);

            return ramtestuserresult;
        }

        partial void OnRamTestUserResultDeleted(Destination.Models.destinationTest.RamTestUserResult item);
        partial void OnAfterRamTestUserResultDeleted(Destination.Models.destinationTest.RamTestUserResult item);

        public async Task<Destination.Models.destinationTest.RamTestUserResult> DeleteRamTestUserResult(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RamTestUserResults
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRamTestUserResultDeleted(itemToDelete);


            context.RamTestUserResults.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRamTestUserResultDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRamTestUsersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtestusers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtestusers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRamTestUsersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ramtestusers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ramtestusers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRamTestUsersRead(ref IQueryable<Destination.Models.destinationTest.RamTestUser> items);

        public async Task<List<Destination.Models.destinationTest.RamTestUser>> GetRamTestUsers(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTestUsers.AsQueryable();

            items = items.Include(i => i.RamTest);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRamTestUsersRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRamTestUserGet(Destination.Models.destinationTest.RamTestUser item);
        partial void OnGetRamTestUserById(ref IQueryable<Destination.Models.destinationTest.RamTestUser> items);


        public async Task<Destination.Models.destinationTest.RamTestUser> GetRamTestUserById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RamTestUsers
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.RamTest);
 
            OnGetRamTestUserById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRamTestUserGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRamTestUserCreated(Destination.Models.destinationTest.RamTestUser item);
        partial void OnAfterRamTestUserCreated(Destination.Models.destinationTest.RamTestUser item);

        public async Task<Destination.Models.destinationTest.RamTestUser> CreateRamTestUser(Destination.Models.destinationTest.RamTestUser ramtestuser)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestUserCreated(ramtestuser);

            var existingItem = context.RamTestUsers
                              .Where(i => i.Id == ramtestuser.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RamTestUsers.Add(ramtestuser);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ramtestuser).State = EntityState.Detached;
                throw;
            }

            OnAfterRamTestUserCreated(ramtestuser);

            return ramtestuser;
        }

        public async Task<Destination.Models.destinationTest.RamTestUser> CancelRamTestUserChanges(Destination.Models.destinationTest.RamTestUser item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRamTestUserUpdated(Destination.Models.destinationTest.RamTestUser item);
        partial void OnAfterRamTestUserUpdated(Destination.Models.destinationTest.RamTestUser item);

        public async Task<Destination.Models.destinationTest.RamTestUser> UpdateRamTestUser(int id, Destination.Models.destinationTest.RamTestUser ramtestuser)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRamTestUserUpdated(ramtestuser);

            var itemToUpdate = context.RamTestUsers
                              .Where(i => i.Id == ramtestuser.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ramtestuser);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRamTestUserUpdated(ramtestuser);

            return ramtestuser;
        }

        partial void OnRamTestUserDeleted(Destination.Models.destinationTest.RamTestUser item);
        partial void OnAfterRamTestUserDeleted(Destination.Models.destinationTest.RamTestUser item);

        public async Task<Destination.Models.destinationTest.RamTestUser> DeleteRamTestUser(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RamTestUsers
                              .Where(i => i.Id == id)
                              .Include(i => i.RamTestResults)
                              .Include(i => i.RamTestUserResults)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRamTestUserDeleted(itemToDelete);


            context.RamTestUsers.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRamTestUserDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRateReviewsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ratereviews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ratereviews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRateReviewsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ratereviews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ratereviews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRateReviewsRead(ref IQueryable<Destination.Models.destinationTest.RateReview> items);

        public async Task<List<Destination.Models.destinationTest.RateReview>> GetRateReviews(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RateReviews.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRateReviewsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRateReviewGet(Destination.Models.destinationTest.RateReview item);
        partial void OnGetRateReviewById(ref IQueryable<Destination.Models.destinationTest.RateReview> items);


        public async Task<Destination.Models.destinationTest.RateReview> GetRateReviewById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RateReviews
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetRateReviewById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRateReviewGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRateReviewCreated(Destination.Models.destinationTest.RateReview item);
        partial void OnAfterRateReviewCreated(Destination.Models.destinationTest.RateReview item);

        public async Task<Destination.Models.destinationTest.RateReview> CreateRateReview(Destination.Models.destinationTest.RateReview ratereview)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRateReviewCreated(ratereview);

            var existingItem = context.RateReviews
                              .Where(i => i.Id == ratereview.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RateReviews.Add(ratereview);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ratereview).State = EntityState.Detached;
                throw;
            }

            OnAfterRateReviewCreated(ratereview);

            return ratereview;
        }

        public async Task<Destination.Models.destinationTest.RateReview> CancelRateReviewChanges(Destination.Models.destinationTest.RateReview item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRateReviewUpdated(Destination.Models.destinationTest.RateReview item);
        partial void OnAfterRateReviewUpdated(Destination.Models.destinationTest.RateReview item);

        public async Task<Destination.Models.destinationTest.RateReview> UpdateRateReview(int id, Destination.Models.destinationTest.RateReview ratereview)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRateReviewUpdated(ratereview);

            var itemToUpdate = context.RateReviews
                              .Where(i => i.Id == ratereview.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ratereview);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRateReviewUpdated(ratereview);

            return ratereview;
        }

        partial void OnRateReviewDeleted(Destination.Models.destinationTest.RateReview item);
        partial void OnAfterRateReviewDeleted(Destination.Models.destinationTest.RateReview item);

        public async Task<Destination.Models.destinationTest.RateReview> DeleteRateReview(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RateReviews
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRateReviewDeleted(itemToDelete);


            context.RateReviews.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRateReviewDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRateSettingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ratesettings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ratesettings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRateSettingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ratesettings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ratesettings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRateSettingsRead(ref IQueryable<Destination.Models.destinationTest.RateSetting> items);

        public async Task<List<Destination.Models.destinationTest.RateSetting>> GetRateSettings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RateSettings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRateSettingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRateSettingGet(Destination.Models.destinationTest.RateSetting item);
        partial void OnGetRateSettingByTaxRate(ref IQueryable<Destination.Models.destinationTest.RateSetting> items);


        public async Task<Destination.Models.destinationTest.RateSetting> GetRateSettingByTaxRate(double taxrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RateSettings
                              .AsNoTracking()
                              .Where(i => i.TaxRate == taxrate);

 
            OnGetRateSettingByTaxRate(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRateSettingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRateSettingCreated(Destination.Models.destinationTest.RateSetting item);
        partial void OnAfterRateSettingCreated(Destination.Models.destinationTest.RateSetting item);

        public async Task<Destination.Models.destinationTest.RateSetting> CreateRateSetting(Destination.Models.destinationTest.RateSetting ratesetting)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRateSettingCreated(ratesetting);

            var existingItem = context.RateSettings
                              .Where(i => i.TaxRate == ratesetting.TaxRate)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RateSettings.Add(ratesetting);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ratesetting).State = EntityState.Detached;
                throw;
            }

            OnAfterRateSettingCreated(ratesetting);

            return ratesetting;
        }

        public async Task<Destination.Models.destinationTest.RateSetting> CancelRateSettingChanges(Destination.Models.destinationTest.RateSetting item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRateSettingUpdated(Destination.Models.destinationTest.RateSetting item);
        partial void OnAfterRateSettingUpdated(Destination.Models.destinationTest.RateSetting item);

        public async Task<Destination.Models.destinationTest.RateSetting> UpdateRateSetting(double taxrate, Destination.Models.destinationTest.RateSetting ratesetting)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRateSettingUpdated(ratesetting);

            var itemToUpdate = context.RateSettings
                              .Where(i => i.TaxRate == ratesetting.TaxRate)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ratesetting);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRateSettingUpdated(ratesetting);

            return ratesetting;
        }

        partial void OnRateSettingDeleted(Destination.Models.destinationTest.RateSetting item);
        partial void OnAfterRateSettingDeleted(Destination.Models.destinationTest.RateSetting item);

        public async Task<Destination.Models.destinationTest.RateSetting> DeleteRateSetting(double taxrate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RateSettings
                              .Where(i => i.TaxRate == taxrate)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRateSettingDeleted(itemToDelete);


            context.RateSettings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRateSettingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRatesMinsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ratesmins/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ratesmins/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRatesMinsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/ratesmins/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/ratesmins/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRatesMinsRead(ref IQueryable<Destination.Models.destinationTest.RatesMin> items);

        public async Task<List<Destination.Models.destinationTest.RatesMin>> GetRatesMins(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RatesMins.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRatesMinsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnRatesMinGet(Destination.Models.destinationTest.RatesMin item);
        partial void OnGetRatesMinById(ref IQueryable<Destination.Models.destinationTest.RatesMin> items);


        public async Task<Destination.Models.destinationTest.RatesMin> GetRatesMinById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RatesMins
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetRatesMinById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnRatesMinGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnRatesMinCreated(Destination.Models.destinationTest.RatesMin item);
        partial void OnAfterRatesMinCreated(Destination.Models.destinationTest.RatesMin item);

        public async Task<Destination.Models.destinationTest.RatesMin> CreateRatesMin(Destination.Models.destinationTest.RatesMin ratesmin)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRatesMinCreated(ratesmin);

            var existingItem = context.RatesMins
                              .Where(i => i.Id == ratesmin.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.RatesMins.Add(ratesmin);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(ratesmin).State = EntityState.Detached;
                throw;
            }

            OnAfterRatesMinCreated(ratesmin);

            return ratesmin;
        }

        public async Task<Destination.Models.destinationTest.RatesMin> CancelRatesMinChanges(Destination.Models.destinationTest.RatesMin item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnRatesMinUpdated(Destination.Models.destinationTest.RatesMin item);
        partial void OnAfterRatesMinUpdated(Destination.Models.destinationTest.RatesMin item);

        public async Task<Destination.Models.destinationTest.RatesMin> UpdateRatesMin(int id, Destination.Models.destinationTest.RatesMin ratesmin)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnRatesMinUpdated(ratesmin);

            var itemToUpdate = context.RatesMins
                              .Where(i => i.Id == ratesmin.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(ratesmin);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterRatesMinUpdated(ratesmin);

            return ratesmin;
        }

        partial void OnRatesMinDeleted(Destination.Models.destinationTest.RatesMin item);
        partial void OnAfterRatesMinDeleted(Destination.Models.destinationTest.RatesMin item);

        public async Task<Destination.Models.destinationTest.RatesMin> DeleteRatesMin(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.RatesMins
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnRatesMinDeleted(itemToDelete);


            context.RatesMins.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterRatesMinDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportRestrictionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/restrictions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/restrictions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRestrictionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/restrictions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/restrictions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRestrictionsRead(ref IQueryable<Destination.Models.destinationTest.Restriction> items);

        public async Task<List<Destination.Models.destinationTest.Restriction>> GetRestrictions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Restrictions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRestrictionsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportReviewMappingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/reviewmappings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/reviewmappings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportReviewMappingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/reviewmappings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/reviewmappings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnReviewMappingsRead(ref IQueryable<Destination.Models.destinationTest.ReviewMapping> items);

        public async Task<List<Destination.Models.destinationTest.ReviewMapping>> GetReviewMappings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ReviewMappings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnReviewMappingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnReviewMappingGet(Destination.Models.destinationTest.ReviewMapping item);
        partial void OnGetReviewMappingById(ref IQueryable<Destination.Models.destinationTest.ReviewMapping> items);


        public async Task<Destination.Models.destinationTest.ReviewMapping> GetReviewMappingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ReviewMappings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetReviewMappingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnReviewMappingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnReviewMappingCreated(Destination.Models.destinationTest.ReviewMapping item);
        partial void OnAfterReviewMappingCreated(Destination.Models.destinationTest.ReviewMapping item);

        public async Task<Destination.Models.destinationTest.ReviewMapping> CreateReviewMapping(Destination.Models.destinationTest.ReviewMapping reviewmapping)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnReviewMappingCreated(reviewmapping);

            var existingItem = context.ReviewMappings
                              .Where(i => i.Id == reviewmapping.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.ReviewMappings.Add(reviewmapping);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(reviewmapping).State = EntityState.Detached;
                throw;
            }

            OnAfterReviewMappingCreated(reviewmapping);

            return reviewmapping;
        }

        public async Task<Destination.Models.destinationTest.ReviewMapping> CancelReviewMappingChanges(Destination.Models.destinationTest.ReviewMapping item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnReviewMappingUpdated(Destination.Models.destinationTest.ReviewMapping item);
        partial void OnAfterReviewMappingUpdated(Destination.Models.destinationTest.ReviewMapping item);

        public async Task<Destination.Models.destinationTest.ReviewMapping> UpdateReviewMapping(int id, Destination.Models.destinationTest.ReviewMapping reviewmapping)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnReviewMappingUpdated(reviewmapping);

            var itemToUpdate = context.ReviewMappings
                              .Where(i => i.Id == reviewmapping.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(reviewmapping);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterReviewMappingUpdated(reviewmapping);

            return reviewmapping;
        }

        partial void OnReviewMappingDeleted(Destination.Models.destinationTest.ReviewMapping item);
        partial void OnAfterReviewMappingDeleted(Destination.Models.destinationTest.ReviewMapping item);

        public async Task<Destination.Models.destinationTest.ReviewMapping> DeleteReviewMapping(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.ReviewMappings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnReviewMappingDeleted(itemToDelete);


            context.ReviewMappings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterReviewMappingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportReviewsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/reviews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/reviews/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportReviewsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/reviews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/reviews/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnReviewsRead(ref IQueryable<Destination.Models.destinationTest.Review> items);

        public async Task<List<Destination.Models.destinationTest.Review>> GetReviews(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Reviews.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnReviewsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnReviewGet(Destination.Models.destinationTest.Review item);
        partial void OnGetReviewById(ref IQueryable<Destination.Models.destinationTest.Review> items);


        public async Task<Destination.Models.destinationTest.Review> GetReviewById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Reviews
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetReviewById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnReviewGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnReviewCreated(Destination.Models.destinationTest.Review item);
        partial void OnAfterReviewCreated(Destination.Models.destinationTest.Review item);

        public async Task<Destination.Models.destinationTest.Review> CreateReview(Destination.Models.destinationTest.Review review)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnReviewCreated(review);

            var existingItem = context.Reviews
                              .Where(i => i.Id == review.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Reviews.Add(review);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(review).State = EntityState.Detached;
                throw;
            }

            OnAfterReviewCreated(review);

            return review;
        }

        public async Task<Destination.Models.destinationTest.Review> CancelReviewChanges(Destination.Models.destinationTest.Review item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnReviewUpdated(Destination.Models.destinationTest.Review item);
        partial void OnAfterReviewUpdated(Destination.Models.destinationTest.Review item);

        public async Task<Destination.Models.destinationTest.Review> UpdateReview(int id, Destination.Models.destinationTest.Review review)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnReviewUpdated(review);

            var itemToUpdate = context.Reviews
                              .Where(i => i.Id == review.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(review);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterReviewUpdated(review);

            return review;
        }

        partial void OnReviewDeleted(Destination.Models.destinationTest.Review item);
        partial void OnAfterReviewDeleted(Destination.Models.destinationTest.Review item);

        public async Task<Destination.Models.destinationTest.Review> DeleteReview(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Reviews
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnReviewDeleted(itemToDelete);


            context.Reviews.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterReviewDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSample23SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sample23s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sample23s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSample23SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sample23s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sample23s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSample23SRead(ref IQueryable<Destination.Models.destinationTest.Sample23> items);

        public async Task<List<Destination.Models.destinationTest.Sample23>> GetSample23S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Sample23S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSample23SRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSearchesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/searches/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/searches/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSearchesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/searches/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/searches/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSearchesRead(ref IQueryable<Destination.Models.destinationTest.Search> items);

        public async Task<List<Destination.Models.destinationTest.Search>> GetSearches(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Searches.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSearchesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSearchGet(Destination.Models.destinationTest.Search item);
        partial void OnGetSearchByIntSearchId(ref IQueryable<Destination.Models.destinationTest.Search> items);


        public async Task<Destination.Models.destinationTest.Search> GetSearchByIntSearchId(int intsearchid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Searches
                              .AsNoTracking()
                              .Where(i => i.IntSearchId == intsearchid);

 
            OnGetSearchByIntSearchId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSearchGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSearchCreated(Destination.Models.destinationTest.Search item);
        partial void OnAfterSearchCreated(Destination.Models.destinationTest.Search item);

        public async Task<Destination.Models.destinationTest.Search> CreateSearch(Destination.Models.destinationTest.Search search)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSearchCreated(search);

            var existingItem = context.Searches
                              .Where(i => i.IntSearchId == search.IntSearchId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Searches.Add(search);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(search).State = EntityState.Detached;
                throw;
            }

            OnAfterSearchCreated(search);

            return search;
        }

        public async Task<Destination.Models.destinationTest.Search> CancelSearchChanges(Destination.Models.destinationTest.Search item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSearchUpdated(Destination.Models.destinationTest.Search item);
        partial void OnAfterSearchUpdated(Destination.Models.destinationTest.Search item);

        public async Task<Destination.Models.destinationTest.Search> UpdateSearch(int intsearchid, Destination.Models.destinationTest.Search search)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSearchUpdated(search);

            var itemToUpdate = context.Searches
                              .Where(i => i.IntSearchId == search.IntSearchId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(search);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSearchUpdated(search);

            return search;
        }

        partial void OnSearchDeleted(Destination.Models.destinationTest.Search item);
        partial void OnAfterSearchDeleted(Destination.Models.destinationTest.Search item);

        public async Task<Destination.Models.destinationTest.Search> DeleteSearch(int intsearchid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Searches
                              .Where(i => i.IntSearchId == intsearchid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSearchDeleted(itemToDelete);


            context.Searches.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSearchDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSendAirbnbCheckOutRepliesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendairbnbcheckoutreplies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendairbnbcheckoutreplies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSendAirbnbCheckOutRepliesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendairbnbcheckoutreplies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendairbnbcheckoutreplies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSendAirbnbCheckOutRepliesRead(ref IQueryable<Destination.Models.destinationTest.SendAirbnbCheckOutReply> items);

        public async Task<List<Destination.Models.destinationTest.SendAirbnbCheckOutReply>> GetSendAirbnbCheckOutReplies(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SendAirbnbCheckOutReplies.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSendAirbnbCheckOutRepliesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSendToEmailForNotificationPagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendtoemailfornotificationpages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendtoemailfornotificationpages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSendToEmailForNotificationPagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendtoemailfornotificationpages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendtoemailfornotificationpages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSendToEmailForNotificationPagesRead(ref IQueryable<Destination.Models.destinationTest.SendToEmailForNotificationPage> items);

        public async Task<List<Destination.Models.destinationTest.SendToEmailForNotificationPage>> GetSendToEmailForNotificationPages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SendToEmailForNotificationPages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSendToEmailForNotificationPagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSendToEmailForNotificationPageGet(Destination.Models.destinationTest.SendToEmailForNotificationPage item);
        partial void OnGetSendToEmailForNotificationPageById(ref IQueryable<Destination.Models.destinationTest.SendToEmailForNotificationPage> items);


        public async Task<Destination.Models.destinationTest.SendToEmailForNotificationPage> GetSendToEmailForNotificationPageById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SendToEmailForNotificationPages
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetSendToEmailForNotificationPageById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSendToEmailForNotificationPageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSendToEmailForNotificationPageCreated(Destination.Models.destinationTest.SendToEmailForNotificationPage item);
        partial void OnAfterSendToEmailForNotificationPageCreated(Destination.Models.destinationTest.SendToEmailForNotificationPage item);

        public async Task<Destination.Models.destinationTest.SendToEmailForNotificationPage> CreateSendToEmailForNotificationPage(Destination.Models.destinationTest.SendToEmailForNotificationPage sendtoemailfornotificationpage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSendToEmailForNotificationPageCreated(sendtoemailfornotificationpage);

            var existingItem = context.SendToEmailForNotificationPages
                              .Where(i => i.Id == sendtoemailfornotificationpage.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.SendToEmailForNotificationPages.Add(sendtoemailfornotificationpage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(sendtoemailfornotificationpage).State = EntityState.Detached;
                throw;
            }

            OnAfterSendToEmailForNotificationPageCreated(sendtoemailfornotificationpage);

            return sendtoemailfornotificationpage;
        }

        public async Task<Destination.Models.destinationTest.SendToEmailForNotificationPage> CancelSendToEmailForNotificationPageChanges(Destination.Models.destinationTest.SendToEmailForNotificationPage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSendToEmailForNotificationPageUpdated(Destination.Models.destinationTest.SendToEmailForNotificationPage item);
        partial void OnAfterSendToEmailForNotificationPageUpdated(Destination.Models.destinationTest.SendToEmailForNotificationPage item);

        public async Task<Destination.Models.destinationTest.SendToEmailForNotificationPage> UpdateSendToEmailForNotificationPage(int id, Destination.Models.destinationTest.SendToEmailForNotificationPage sendtoemailfornotificationpage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSendToEmailForNotificationPageUpdated(sendtoemailfornotificationpage);

            var itemToUpdate = context.SendToEmailForNotificationPages
                              .Where(i => i.Id == sendtoemailfornotificationpage.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(sendtoemailfornotificationpage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSendToEmailForNotificationPageUpdated(sendtoemailfornotificationpage);

            return sendtoemailfornotificationpage;
        }

        partial void OnSendToEmailForNotificationPageDeleted(Destination.Models.destinationTest.SendToEmailForNotificationPage item);
        partial void OnAfterSendToEmailForNotificationPageDeleted(Destination.Models.destinationTest.SendToEmailForNotificationPage item);

        public async Task<Destination.Models.destinationTest.SendToEmailForNotificationPage> DeleteSendToEmailForNotificationPage(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.SendToEmailForNotificationPages
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSendToEmailForNotificationPageDeleted(itemToDelete);


            context.SendToEmailForNotificationPages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSendToEmailForNotificationPageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSendTwilioSmsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendtwiliosms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendtwiliosms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSendTwilioSmsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendtwiliosms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendtwiliosms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSendTwilioSmsRead(ref IQueryable<Destination.Models.destinationTest.SendTwilioSm> items);

        public async Task<List<Destination.Models.destinationTest.SendTwilioSm>> GetSendTwilioSms(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SendTwilioSms.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSendTwilioSmsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSendTwilioSmGet(Destination.Models.destinationTest.SendTwilioSm item);
        partial void OnGetSendTwilioSmBySmsid(ref IQueryable<Destination.Models.destinationTest.SendTwilioSm> items);


        public async Task<Destination.Models.destinationTest.SendTwilioSm> GetSendTwilioSmBySmsid(long smsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SendTwilioSms
                              .AsNoTracking()
                              .Where(i => i.Smsid == smsid);

 
            OnGetSendTwilioSmBySmsid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSendTwilioSmGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSendTwilioSmCreated(Destination.Models.destinationTest.SendTwilioSm item);
        partial void OnAfterSendTwilioSmCreated(Destination.Models.destinationTest.SendTwilioSm item);

        public async Task<Destination.Models.destinationTest.SendTwilioSm> CreateSendTwilioSm(Destination.Models.destinationTest.SendTwilioSm sendtwiliosm)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSendTwilioSmCreated(sendtwiliosm);

            var existingItem = context.SendTwilioSms
                              .Where(i => i.Smsid == sendtwiliosm.Smsid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.SendTwilioSms.Add(sendtwiliosm);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(sendtwiliosm).State = EntityState.Detached;
                throw;
            }

            OnAfterSendTwilioSmCreated(sendtwiliosm);

            return sendtwiliosm;
        }

        public async Task<Destination.Models.destinationTest.SendTwilioSm> CancelSendTwilioSmChanges(Destination.Models.destinationTest.SendTwilioSm item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSendTwilioSmUpdated(Destination.Models.destinationTest.SendTwilioSm item);
        partial void OnAfterSendTwilioSmUpdated(Destination.Models.destinationTest.SendTwilioSm item);

        public async Task<Destination.Models.destinationTest.SendTwilioSm> UpdateSendTwilioSm(long smsid, Destination.Models.destinationTest.SendTwilioSm sendtwiliosm)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSendTwilioSmUpdated(sendtwiliosm);

            var itemToUpdate = context.SendTwilioSms
                              .Where(i => i.Smsid == sendtwiliosm.Smsid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(sendtwiliosm);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSendTwilioSmUpdated(sendtwiliosm);

            return sendtwiliosm;
        }

        partial void OnSendTwilioSmDeleted(Destination.Models.destinationTest.SendTwilioSm item);
        partial void OnAfterSendTwilioSmDeleted(Destination.Models.destinationTest.SendTwilioSm item);

        public async Task<Destination.Models.destinationTest.SendTwilioSm> DeleteSendTwilioSm(long smsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.SendTwilioSms
                              .Where(i => i.Smsid == smsid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSendTwilioSmDeleted(itemToDelete);


            context.SendTwilioSms.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSendTwilioSmDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSendTwilioSmsQueuesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendtwiliosmsqueues/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendtwiliosmsqueues/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSendTwilioSmsQueuesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sendtwiliosmsqueues/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sendtwiliosmsqueues/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSendTwilioSmsQueuesRead(ref IQueryable<Destination.Models.destinationTest.SendTwilioSmsQueue> items);

        public async Task<List<Destination.Models.destinationTest.SendTwilioSmsQueue>> GetSendTwilioSmsQueues(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SendTwilioSmsQueues.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSendTwilioSmsQueuesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSettingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/settings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/settings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSettingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/settings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/settings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSettingsRead(ref IQueryable<Destination.Models.destinationTest.Setting> items);

        public async Task<List<Destination.Models.destinationTest.Setting>> GetSettings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Settings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSettingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSettingGet(Destination.Models.destinationTest.Setting item);
        partial void OnGetSettingById(ref IQueryable<Destination.Models.destinationTest.Setting> items);


        public async Task<Destination.Models.destinationTest.Setting> GetSettingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Settings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetSettingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSettingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSettingCreated(Destination.Models.destinationTest.Setting item);
        partial void OnAfterSettingCreated(Destination.Models.destinationTest.Setting item);

        public async Task<Destination.Models.destinationTest.Setting> CreateSetting(Destination.Models.destinationTest.Setting setting)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSettingCreated(setting);

            var existingItem = context.Settings
                              .Where(i => i.Id == setting.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Settings.Add(setting);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(setting).State = EntityState.Detached;
                throw;
            }

            OnAfterSettingCreated(setting);

            return setting;
        }

        public async Task<Destination.Models.destinationTest.Setting> CancelSettingChanges(Destination.Models.destinationTest.Setting item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSettingUpdated(Destination.Models.destinationTest.Setting item);
        partial void OnAfterSettingUpdated(Destination.Models.destinationTest.Setting item);

        public async Task<Destination.Models.destinationTest.Setting> UpdateSetting(int id, Destination.Models.destinationTest.Setting setting)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSettingUpdated(setting);

            var itemToUpdate = context.Settings
                              .Where(i => i.Id == setting.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(setting);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSettingUpdated(setting);

            return setting;
        }

        partial void OnSettingDeleted(Destination.Models.destinationTest.Setting item);
        partial void OnAfterSettingDeleted(Destination.Models.destinationTest.Setting item);

        public async Task<Destination.Models.destinationTest.Setting> DeleteSetting(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Settings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSettingDeleted(itemToDelete);


            context.Settings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSettingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSheet1SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sheet1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sheet1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSheet1SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sheet1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sheet1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSheet1SRead(ref IQueryable<Destination.Models.destinationTest.Sheet1> items);

        public async Task<List<Destination.Models.destinationTest.Sheet1>> GetSheet1S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Sheet1S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSheet1SRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSheet2SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sheet2s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sheet2s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSheet2SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/sheet2s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/sheet2s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSheet2SRead(ref IQueryable<Destination.Models.destinationTest.Sheet2> items);

        public async Task<List<Destination.Models.destinationTest.Sheet2>> GetSheet2S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Sheet2S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSheet2SRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSmsgroupsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smsgroups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smsgroups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSmsgroupsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smsgroups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smsgroups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSmsgroupsRead(ref IQueryable<Destination.Models.destinationTest.Smsgroup> items);

        public async Task<List<Destination.Models.destinationTest.Smsgroup>> GetSmsgroups(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Smsgroups.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSmsgroupsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSmsgroupGet(Destination.Models.destinationTest.Smsgroup item);
        partial void OnGetSmsgroupByGroupId(ref IQueryable<Destination.Models.destinationTest.Smsgroup> items);


        public async Task<Destination.Models.destinationTest.Smsgroup> GetSmsgroupByGroupId(int groupid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Smsgroups
                              .AsNoTracking()
                              .Where(i => i.GroupId == groupid);

 
            OnGetSmsgroupByGroupId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSmsgroupGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSmsgroupCreated(Destination.Models.destinationTest.Smsgroup item);
        partial void OnAfterSmsgroupCreated(Destination.Models.destinationTest.Smsgroup item);

        public async Task<Destination.Models.destinationTest.Smsgroup> CreateSmsgroup(Destination.Models.destinationTest.Smsgroup smsgroup)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSmsgroupCreated(smsgroup);

            var existingItem = context.Smsgroups
                              .Where(i => i.GroupId == smsgroup.GroupId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Smsgroups.Add(smsgroup);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(smsgroup).State = EntityState.Detached;
                throw;
            }

            OnAfterSmsgroupCreated(smsgroup);

            return smsgroup;
        }

        public async Task<Destination.Models.destinationTest.Smsgroup> CancelSmsgroupChanges(Destination.Models.destinationTest.Smsgroup item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSmsgroupUpdated(Destination.Models.destinationTest.Smsgroup item);
        partial void OnAfterSmsgroupUpdated(Destination.Models.destinationTest.Smsgroup item);

        public async Task<Destination.Models.destinationTest.Smsgroup> UpdateSmsgroup(int groupid, Destination.Models.destinationTest.Smsgroup smsgroup)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSmsgroupUpdated(smsgroup);

            var itemToUpdate = context.Smsgroups
                              .Where(i => i.GroupId == smsgroup.GroupId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(smsgroup);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSmsgroupUpdated(smsgroup);

            return smsgroup;
        }

        partial void OnSmsgroupDeleted(Destination.Models.destinationTest.Smsgroup item);
        partial void OnAfterSmsgroupDeleted(Destination.Models.destinationTest.Smsgroup item);

        public async Task<Destination.Models.destinationTest.Smsgroup> DeleteSmsgroup(int groupid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Smsgroups
                              .Where(i => i.GroupId == groupid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSmsgroupDeleted(itemToDelete);


            context.Smsgroups.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSmsgroupDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSmsmessagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smsmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smsmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSmsmessagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smsmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smsmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSmsmessagesRead(ref IQueryable<Destination.Models.destinationTest.Smsmessage> items);

        public async Task<List<Destination.Models.destinationTest.Smsmessage>> GetSmsmessages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Smsmessages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSmsmessagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSmsmessageGet(Destination.Models.destinationTest.Smsmessage item);
        partial void OnGetSmsmessageBySmsid(ref IQueryable<Destination.Models.destinationTest.Smsmessage> items);


        public async Task<Destination.Models.destinationTest.Smsmessage> GetSmsmessageBySmsid(int smsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Smsmessages
                              .AsNoTracking()
                              .Where(i => i.Smsid == smsid);

 
            OnGetSmsmessageBySmsid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSmsmessageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSmsmessageCreated(Destination.Models.destinationTest.Smsmessage item);
        partial void OnAfterSmsmessageCreated(Destination.Models.destinationTest.Smsmessage item);

        public async Task<Destination.Models.destinationTest.Smsmessage> CreateSmsmessage(Destination.Models.destinationTest.Smsmessage smsmessage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSmsmessageCreated(smsmessage);

            var existingItem = context.Smsmessages
                              .Where(i => i.Smsid == smsmessage.Smsid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Smsmessages.Add(smsmessage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(smsmessage).State = EntityState.Detached;
                throw;
            }

            OnAfterSmsmessageCreated(smsmessage);

            return smsmessage;
        }

        public async Task<Destination.Models.destinationTest.Smsmessage> CancelSmsmessageChanges(Destination.Models.destinationTest.Smsmessage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSmsmessageUpdated(Destination.Models.destinationTest.Smsmessage item);
        partial void OnAfterSmsmessageUpdated(Destination.Models.destinationTest.Smsmessage item);

        public async Task<Destination.Models.destinationTest.Smsmessage> UpdateSmsmessage(int smsid, Destination.Models.destinationTest.Smsmessage smsmessage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSmsmessageUpdated(smsmessage);

            var itemToUpdate = context.Smsmessages
                              .Where(i => i.Smsid == smsmessage.Smsid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(smsmessage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSmsmessageUpdated(smsmessage);

            return smsmessage;
        }

        partial void OnSmsmessageDeleted(Destination.Models.destinationTest.Smsmessage item);
        partial void OnAfterSmsmessageDeleted(Destination.Models.destinationTest.Smsmessage item);

        public async Task<Destination.Models.destinationTest.Smsmessage> DeleteSmsmessage(int smsid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Smsmessages
                              .Where(i => i.Smsid == smsid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSmsmessageDeleted(itemToDelete);


            context.Smsmessages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSmsmessageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSmsRemoveListsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smsremovelists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smsremovelists/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSmsRemoveListsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smsremovelists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smsremovelists/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSmsRemoveListsRead(ref IQueryable<Destination.Models.destinationTest.SmsRemoveList> items);

        public async Task<List<Destination.Models.destinationTest.SmsRemoveList>> GetSmsRemoveLists(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SmsRemoveLists.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSmsRemoveListsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSmstemplateAreasToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smstemplateareas/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smstemplateareas/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSmstemplateAreasToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smstemplateareas/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smstemplateareas/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSmstemplateAreasRead(ref IQueryable<Destination.Models.destinationTest.SmstemplateArea> items);

        public async Task<List<Destination.Models.destinationTest.SmstemplateArea>> GetSmstemplateAreas(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SmstemplateAreas.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSmstemplateAreasRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSmstemplatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smstemplates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smstemplates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSmstemplatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/smstemplates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/smstemplates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSmstemplatesRead(ref IQueryable<Destination.Models.destinationTest.Smstemplate> items);

        public async Task<List<Destination.Models.destinationTest.Smstemplate>> GetSmstemplates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Smstemplates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSmstemplatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSmstemplateGet(Destination.Models.destinationTest.Smstemplate item);
        partial void OnGetSmstemplateByTemplateId(ref IQueryable<Destination.Models.destinationTest.Smstemplate> items);


        public async Task<Destination.Models.destinationTest.Smstemplate> GetSmstemplateByTemplateId(int templateid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Smstemplates
                              .AsNoTracking()
                              .Where(i => i.TemplateId == templateid);

 
            OnGetSmstemplateByTemplateId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSmstemplateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSmstemplateCreated(Destination.Models.destinationTest.Smstemplate item);
        partial void OnAfterSmstemplateCreated(Destination.Models.destinationTest.Smstemplate item);

        public async Task<Destination.Models.destinationTest.Smstemplate> CreateSmstemplate(Destination.Models.destinationTest.Smstemplate smstemplate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSmstemplateCreated(smstemplate);

            var existingItem = context.Smstemplates
                              .Where(i => i.TemplateId == smstemplate.TemplateId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Smstemplates.Add(smstemplate);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(smstemplate).State = EntityState.Detached;
                throw;
            }

            OnAfterSmstemplateCreated(smstemplate);

            return smstemplate;
        }

        public async Task<Destination.Models.destinationTest.Smstemplate> CancelSmstemplateChanges(Destination.Models.destinationTest.Smstemplate item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSmstemplateUpdated(Destination.Models.destinationTest.Smstemplate item);
        partial void OnAfterSmstemplateUpdated(Destination.Models.destinationTest.Smstemplate item);

        public async Task<Destination.Models.destinationTest.Smstemplate> UpdateSmstemplate(int templateid, Destination.Models.destinationTest.Smstemplate smstemplate)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSmstemplateUpdated(smstemplate);

            var itemToUpdate = context.Smstemplates
                              .Where(i => i.TemplateId == smstemplate.TemplateId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(smstemplate);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSmstemplateUpdated(smstemplate);

            return smstemplate;
        }

        partial void OnSmstemplateDeleted(Destination.Models.destinationTest.Smstemplate item);
        partial void OnAfterSmstemplateDeleted(Destination.Models.destinationTest.Smstemplate item);

        public async Task<Destination.Models.destinationTest.Smstemplate> DeleteSmstemplate(int templateid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Smstemplates
                              .Where(i => i.TemplateId == templateid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSmstemplateDeleted(itemToDelete);


            context.Smstemplates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSmstemplateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSnowRemovalsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/snowremovals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/snowremovals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSnowRemovalsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/snowremovals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/snowremovals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSnowRemovalsRead(ref IQueryable<Destination.Models.destinationTest.SnowRemoval> items);

        public async Task<List<Destination.Models.destinationTest.SnowRemoval>> GetSnowRemovals(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SnowRemovals.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSnowRemovalsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportSpaTransactionsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/spatransactions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/spatransactions/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSpaTransactionsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/spatransactions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/spatransactions/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSpaTransactionsRead(ref IQueryable<Destination.Models.destinationTest.SpaTransaction> items);

        public async Task<List<Destination.Models.destinationTest.SpaTransaction>> GetSpaTransactions(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SpaTransactions.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSpaTransactionsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSpaTransactionGet(Destination.Models.destinationTest.SpaTransaction item);
        partial void OnGetSpaTransactionById(ref IQueryable<Destination.Models.destinationTest.SpaTransaction> items);


        public async Task<Destination.Models.destinationTest.SpaTransaction> GetSpaTransactionById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SpaTransactions
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetSpaTransactionById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSpaTransactionGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSpaTransactionCreated(Destination.Models.destinationTest.SpaTransaction item);
        partial void OnAfterSpaTransactionCreated(Destination.Models.destinationTest.SpaTransaction item);

        public async Task<Destination.Models.destinationTest.SpaTransaction> CreateSpaTransaction(Destination.Models.destinationTest.SpaTransaction spatransaction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSpaTransactionCreated(spatransaction);

            var existingItem = context.SpaTransactions
                              .Where(i => i.Id == spatransaction.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.SpaTransactions.Add(spatransaction);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(spatransaction).State = EntityState.Detached;
                throw;
            }

            OnAfterSpaTransactionCreated(spatransaction);

            return spatransaction;
        }

        public async Task<Destination.Models.destinationTest.SpaTransaction> CancelSpaTransactionChanges(Destination.Models.destinationTest.SpaTransaction item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSpaTransactionUpdated(Destination.Models.destinationTest.SpaTransaction item);
        partial void OnAfterSpaTransactionUpdated(Destination.Models.destinationTest.SpaTransaction item);

        public async Task<Destination.Models.destinationTest.SpaTransaction> UpdateSpaTransaction(int id, Destination.Models.destinationTest.SpaTransaction spatransaction)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSpaTransactionUpdated(spatransaction);

            var itemToUpdate = context.SpaTransactions
                              .Where(i => i.Id == spatransaction.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(spatransaction);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSpaTransactionUpdated(spatransaction);

            return spatransaction;
        }

        partial void OnSpaTransactionDeleted(Destination.Models.destinationTest.SpaTransaction item);
        partial void OnAfterSpaTransactionDeleted(Destination.Models.destinationTest.SpaTransaction item);

        public async Task<Destination.Models.destinationTest.SpaTransaction> DeleteSpaTransaction(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.SpaTransactions
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSpaTransactionDeleted(itemToDelete);


            context.SpaTransactions.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSpaTransactionDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportStatusesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/statuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/statuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportStatusesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/statuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/statuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnStatusesRead(ref IQueryable<Destination.Models.destinationTest.Status> items);

        public async Task<List<Destination.Models.destinationTest.Status>> GetStatuses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Statuses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnStatusesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnStatusGet(Destination.Models.destinationTest.Status item);
        partial void OnGetStatusByStatusid(ref IQueryable<Destination.Models.destinationTest.Status> items);


        public async Task<Destination.Models.destinationTest.Status> GetStatusByStatusid(int statusid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Statuses
                              .AsNoTracking()
                              .Where(i => i.Statusid == statusid);

 
            OnGetStatusByStatusid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnStatusGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnStatusCreated(Destination.Models.destinationTest.Status item);
        partial void OnAfterStatusCreated(Destination.Models.destinationTest.Status item);

        public async Task<Destination.Models.destinationTest.Status> CreateStatus(Destination.Models.destinationTest.Status status)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnStatusCreated(status);

            var existingItem = context.Statuses
                              .Where(i => i.Statusid == status.Statusid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Statuses.Add(status);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(status).State = EntityState.Detached;
                throw;
            }

            OnAfterStatusCreated(status);

            return status;
        }

        public async Task<Destination.Models.destinationTest.Status> CancelStatusChanges(Destination.Models.destinationTest.Status item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnStatusUpdated(Destination.Models.destinationTest.Status item);
        partial void OnAfterStatusUpdated(Destination.Models.destinationTest.Status item);

        public async Task<Destination.Models.destinationTest.Status> UpdateStatus(int statusid, Destination.Models.destinationTest.Status status)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnStatusUpdated(status);

            var itemToUpdate = context.Statuses
                              .Where(i => i.Statusid == status.Statusid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(status);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterStatusUpdated(status);

            return status;
        }

        partial void OnStatusDeleted(Destination.Models.destinationTest.Status item);
        partial void OnAfterStatusDeleted(Destination.Models.destinationTest.Status item);

        public async Task<Destination.Models.destinationTest.Status> DeleteStatus(int statusid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Statuses
                              .Where(i => i.Statusid == statusid)
                              .Include(i => i.Properties)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnStatusDeleted(itemToDelete);


            context.Statuses.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterStatusDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportSystemPagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/systempages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/systempages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportSystemPagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/systempages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/systempages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnSystemPagesRead(ref IQueryable<Destination.Models.destinationTest.SystemPage> items);

        public async Task<List<Destination.Models.destinationTest.SystemPage>> GetSystemPages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SystemPages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnSystemPagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnSystemPageGet(Destination.Models.destinationTest.SystemPage item);
        partial void OnGetSystemPageByPageId(ref IQueryable<Destination.Models.destinationTest.SystemPage> items);


        public async Task<Destination.Models.destinationTest.SystemPage> GetSystemPageByPageId(int pageid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.SystemPages
                              .AsNoTracking()
                              .Where(i => i.PageId == pageid);

 
            OnGetSystemPageByPageId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnSystemPageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnSystemPageCreated(Destination.Models.destinationTest.SystemPage item);
        partial void OnAfterSystemPageCreated(Destination.Models.destinationTest.SystemPage item);

        public async Task<Destination.Models.destinationTest.SystemPage> CreateSystemPage(Destination.Models.destinationTest.SystemPage systempage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSystemPageCreated(systempage);

            var existingItem = context.SystemPages
                              .Where(i => i.PageId == systempage.PageId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.SystemPages.Add(systempage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(systempage).State = EntityState.Detached;
                throw;
            }

            OnAfterSystemPageCreated(systempage);

            return systempage;
        }

        public async Task<Destination.Models.destinationTest.SystemPage> CancelSystemPageChanges(Destination.Models.destinationTest.SystemPage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnSystemPageUpdated(Destination.Models.destinationTest.SystemPage item);
        partial void OnAfterSystemPageUpdated(Destination.Models.destinationTest.SystemPage item);

        public async Task<Destination.Models.destinationTest.SystemPage> UpdateSystemPage(int pageid, Destination.Models.destinationTest.SystemPage systempage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnSystemPageUpdated(systempage);

            var itemToUpdate = context.SystemPages
                              .Where(i => i.PageId == systempage.PageId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(systempage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterSystemPageUpdated(systempage);

            return systempage;
        }

        partial void OnSystemPageDeleted(Destination.Models.destinationTest.SystemPage item);
        partial void OnAfterSystemPageDeleted(Destination.Models.destinationTest.SystemPage item);

        public async Task<Destination.Models.destinationTest.SystemPage> DeleteSystemPage(int pageid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.SystemPages
                              .Where(i => i.PageId == pageid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnSystemPageDeleted(itemToDelete);


            context.SystemPages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterSystemPageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTaskDescsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/taskdescs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/taskdescs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTaskDescsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/taskdescs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/taskdescs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTaskDescsRead(ref IQueryable<Destination.Models.destinationTest.TaskDesc> items);

        public async Task<List<Destination.Models.destinationTest.TaskDesc>> GetTaskDescs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TaskDescs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTaskDescsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTaskDescGet(Destination.Models.destinationTest.TaskDesc item);
        partial void OnGetTaskDescByTaskdesc1(ref IQueryable<Destination.Models.destinationTest.TaskDesc> items);


        public async Task<Destination.Models.destinationTest.TaskDesc> GetTaskDescByTaskdesc1(int taskdesc1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TaskDescs
                              .AsNoTracking()
                              .Where(i => i.Taskdesc1 == taskdesc1);

 
            OnGetTaskDescByTaskdesc1(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTaskDescGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTaskDescCreated(Destination.Models.destinationTest.TaskDesc item);
        partial void OnAfterTaskDescCreated(Destination.Models.destinationTest.TaskDesc item);

        public async Task<Destination.Models.destinationTest.TaskDesc> CreateTaskDesc(Destination.Models.destinationTest.TaskDesc taskdesc)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTaskDescCreated(taskdesc);

            var existingItem = context.TaskDescs
                              .Where(i => i.Taskdesc1 == taskdesc.Taskdesc1)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TaskDescs.Add(taskdesc);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(taskdesc).State = EntityState.Detached;
                throw;
            }

            OnAfterTaskDescCreated(taskdesc);

            return taskdesc;
        }

        public async Task<Destination.Models.destinationTest.TaskDesc> CancelTaskDescChanges(Destination.Models.destinationTest.TaskDesc item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTaskDescUpdated(Destination.Models.destinationTest.TaskDesc item);
        partial void OnAfterTaskDescUpdated(Destination.Models.destinationTest.TaskDesc item);

        public async Task<Destination.Models.destinationTest.TaskDesc> UpdateTaskDesc(int taskdesc1, Destination.Models.destinationTest.TaskDesc taskdesc)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTaskDescUpdated(taskdesc);

            var itemToUpdate = context.TaskDescs
                              .Where(i => i.Taskdesc1 == taskdesc.Taskdesc1)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(taskdesc);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTaskDescUpdated(taskdesc);

            return taskdesc;
        }

        partial void OnTaskDescDeleted(Destination.Models.destinationTest.TaskDesc item);
        partial void OnAfterTaskDescDeleted(Destination.Models.destinationTest.TaskDesc item);

        public async Task<Destination.Models.destinationTest.TaskDesc> DeleteTaskDesc(int taskdesc1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TaskDescs
                              .Where(i => i.Taskdesc1 == taskdesc1)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTaskDescDeleted(itemToDelete);


            context.TaskDescs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTaskDescDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblAirbnbExportTempsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblairbnbexporttemps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblairbnbexporttemps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblAirbnbExportTempsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblairbnbexporttemps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblairbnbexporttemps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblAirbnbExportTempsRead(ref IQueryable<Destination.Models.destinationTest.TblAirbnbExportTemp> items);

        public async Task<List<Destination.Models.destinationTest.TblAirbnbExportTemp>> GetTblAirbnbExportTemps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblAirbnbExportTemps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblAirbnbExportTempsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblAirbnbExportTempGet(Destination.Models.destinationTest.TblAirbnbExportTemp item);
        partial void OnGetTblAirbnbExportTempById(ref IQueryable<Destination.Models.destinationTest.TblAirbnbExportTemp> items);


        public async Task<Destination.Models.destinationTest.TblAirbnbExportTemp> GetTblAirbnbExportTempById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblAirbnbExportTemps
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblAirbnbExportTempById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblAirbnbExportTempGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblAirbnbExportTempCreated(Destination.Models.destinationTest.TblAirbnbExportTemp item);
        partial void OnAfterTblAirbnbExportTempCreated(Destination.Models.destinationTest.TblAirbnbExportTemp item);

        public async Task<Destination.Models.destinationTest.TblAirbnbExportTemp> CreateTblAirbnbExportTemp(Destination.Models.destinationTest.TblAirbnbExportTemp tblairbnbexporttemp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblAirbnbExportTempCreated(tblairbnbexporttemp);

            var existingItem = context.TblAirbnbExportTemps
                              .Where(i => i.Id == tblairbnbexporttemp.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblAirbnbExportTemps.Add(tblairbnbexporttemp);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblairbnbexporttemp).State = EntityState.Detached;
                throw;
            }

            OnAfterTblAirbnbExportTempCreated(tblairbnbexporttemp);

            return tblairbnbexporttemp;
        }

        public async Task<Destination.Models.destinationTest.TblAirbnbExportTemp> CancelTblAirbnbExportTempChanges(Destination.Models.destinationTest.TblAirbnbExportTemp item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblAirbnbExportTempUpdated(Destination.Models.destinationTest.TblAirbnbExportTemp item);
        partial void OnAfterTblAirbnbExportTempUpdated(Destination.Models.destinationTest.TblAirbnbExportTemp item);

        public async Task<Destination.Models.destinationTest.TblAirbnbExportTemp> UpdateTblAirbnbExportTemp(int id, Destination.Models.destinationTest.TblAirbnbExportTemp tblairbnbexporttemp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblAirbnbExportTempUpdated(tblairbnbexporttemp);

            var itemToUpdate = context.TblAirbnbExportTemps
                              .Where(i => i.Id == tblairbnbexporttemp.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblairbnbexporttemp);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblAirbnbExportTempUpdated(tblairbnbexporttemp);

            return tblairbnbexporttemp;
        }

        partial void OnTblAirbnbExportTempDeleted(Destination.Models.destinationTest.TblAirbnbExportTemp item);
        partial void OnAfterTblAirbnbExportTempDeleted(Destination.Models.destinationTest.TblAirbnbExportTemp item);

        public async Task<Destination.Models.destinationTest.TblAirbnbExportTemp> DeleteTblAirbnbExportTemp(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblAirbnbExportTemps
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblAirbnbExportTempDeleted(itemToDelete);


            context.TblAirbnbExportTemps.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblAirbnbExportTempDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblBookingIdsForMailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblbookingidsformails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblbookingidsformails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblBookingIdsForMailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblbookingidsformails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblbookingidsformails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblBookingIdsForMailsRead(ref IQueryable<Destination.Models.destinationTest.TblBookingIdsForMail> items);

        public async Task<List<Destination.Models.destinationTest.TblBookingIdsForMail>> GetTblBookingIdsForMails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblBookingIdsForMails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblBookingIdsForMailsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTblBookingInterestsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblbookinginterests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblbookinginterests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblBookingInterestsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblbookinginterests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblbookinginterests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblBookingInterestsRead(ref IQueryable<Destination.Models.destinationTest.TblBookingInterest> items);

        public async Task<List<Destination.Models.destinationTest.TblBookingInterest>> GetTblBookingInterests(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblBookingInterests.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblBookingInterestsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblBookingInterestGet(Destination.Models.destinationTest.TblBookingInterest item);
        partial void OnGetTblBookingInterestById(ref IQueryable<Destination.Models.destinationTest.TblBookingInterest> items);


        public async Task<Destination.Models.destinationTest.TblBookingInterest> GetTblBookingInterestById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblBookingInterests
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblBookingInterestById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblBookingInterestGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblBookingInterestCreated(Destination.Models.destinationTest.TblBookingInterest item);
        partial void OnAfterTblBookingInterestCreated(Destination.Models.destinationTest.TblBookingInterest item);

        public async Task<Destination.Models.destinationTest.TblBookingInterest> CreateTblBookingInterest(Destination.Models.destinationTest.TblBookingInterest tblbookinginterest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblBookingInterestCreated(tblbookinginterest);

            var existingItem = context.TblBookingInterests
                              .Where(i => i.Id == tblbookinginterest.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblBookingInterests.Add(tblbookinginterest);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblbookinginterest).State = EntityState.Detached;
                throw;
            }

            OnAfterTblBookingInterestCreated(tblbookinginterest);

            return tblbookinginterest;
        }

        public async Task<Destination.Models.destinationTest.TblBookingInterest> CancelTblBookingInterestChanges(Destination.Models.destinationTest.TblBookingInterest item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblBookingInterestUpdated(Destination.Models.destinationTest.TblBookingInterest item);
        partial void OnAfterTblBookingInterestUpdated(Destination.Models.destinationTest.TblBookingInterest item);

        public async Task<Destination.Models.destinationTest.TblBookingInterest> UpdateTblBookingInterest(int id, Destination.Models.destinationTest.TblBookingInterest tblbookinginterest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblBookingInterestUpdated(tblbookinginterest);

            var itemToUpdate = context.TblBookingInterests
                              .Where(i => i.Id == tblbookinginterest.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblbookinginterest);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblBookingInterestUpdated(tblbookinginterest);

            return tblbookinginterest;
        }

        partial void OnTblBookingInterestDeleted(Destination.Models.destinationTest.TblBookingInterest item);
        partial void OnAfterTblBookingInterestDeleted(Destination.Models.destinationTest.TblBookingInterest item);

        public async Task<Destination.Models.destinationTest.TblBookingInterest> DeleteTblBookingInterest(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblBookingInterests
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblBookingInterestDeleted(itemToDelete);


            context.TblBookingInterests.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblBookingInterestDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblBulkEmailLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblbulkemaillogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblbulkemaillogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblBulkEmailLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblbulkemaillogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblbulkemaillogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblBulkEmailLogsRead(ref IQueryable<Destination.Models.destinationTest.TblBulkEmailLog> items);

        public async Task<List<Destination.Models.destinationTest.TblBulkEmailLog>> GetTblBulkEmailLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblBulkEmailLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblBulkEmailLogsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblBulkEmailLogGet(Destination.Models.destinationTest.TblBulkEmailLog item);
        partial void OnGetTblBulkEmailLogById(ref IQueryable<Destination.Models.destinationTest.TblBulkEmailLog> items);


        public async Task<Destination.Models.destinationTest.TblBulkEmailLog> GetTblBulkEmailLogById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblBulkEmailLogs
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblBulkEmailLogById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblBulkEmailLogGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblBulkEmailLogCreated(Destination.Models.destinationTest.TblBulkEmailLog item);
        partial void OnAfterTblBulkEmailLogCreated(Destination.Models.destinationTest.TblBulkEmailLog item);

        public async Task<Destination.Models.destinationTest.TblBulkEmailLog> CreateTblBulkEmailLog(Destination.Models.destinationTest.TblBulkEmailLog tblbulkemaillog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblBulkEmailLogCreated(tblbulkemaillog);

            var existingItem = context.TblBulkEmailLogs
                              .Where(i => i.Id == tblbulkemaillog.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblBulkEmailLogs.Add(tblbulkemaillog);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblbulkemaillog).State = EntityState.Detached;
                throw;
            }

            OnAfterTblBulkEmailLogCreated(tblbulkemaillog);

            return tblbulkemaillog;
        }

        public async Task<Destination.Models.destinationTest.TblBulkEmailLog> CancelTblBulkEmailLogChanges(Destination.Models.destinationTest.TblBulkEmailLog item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblBulkEmailLogUpdated(Destination.Models.destinationTest.TblBulkEmailLog item);
        partial void OnAfterTblBulkEmailLogUpdated(Destination.Models.destinationTest.TblBulkEmailLog item);

        public async Task<Destination.Models.destinationTest.TblBulkEmailLog> UpdateTblBulkEmailLog(int id, Destination.Models.destinationTest.TblBulkEmailLog tblbulkemaillog)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblBulkEmailLogUpdated(tblbulkemaillog);

            var itemToUpdate = context.TblBulkEmailLogs
                              .Where(i => i.Id == tblbulkemaillog.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblbulkemaillog);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblBulkEmailLogUpdated(tblbulkemaillog);

            return tblbulkemaillog;
        }

        partial void OnTblBulkEmailLogDeleted(Destination.Models.destinationTest.TblBulkEmailLog item);
        partial void OnAfterTblBulkEmailLogDeleted(Destination.Models.destinationTest.TblBulkEmailLog item);

        public async Task<Destination.Models.destinationTest.TblBulkEmailLog> DeleteTblBulkEmailLog(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblBulkEmailLogs
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblBulkEmailLogDeleted(itemToDelete);


            context.TblBulkEmailLogs.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblBulkEmailLogDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblChkSmsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblchksms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblchksms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblChkSmsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblchksms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblchksms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblChkSmsRead(ref IQueryable<Destination.Models.destinationTest.TblChkSm> items);

        public async Task<List<Destination.Models.destinationTest.TblChkSm>> GetTblChkSms(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblChkSms.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblChkSmsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTblDebugsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tbldebugs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tbldebugs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblDebugsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tbldebugs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tbldebugs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblDebugsRead(ref IQueryable<Destination.Models.destinationTest.TblDebug> items);

        public async Task<List<Destination.Models.destinationTest.TblDebug>> GetTblDebugs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblDebugs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblDebugsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTblHomePageImagesLinksToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblhomepageimageslinks/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblhomepageimageslinks/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblHomePageImagesLinksToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblhomepageimageslinks/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblhomepageimageslinks/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblHomePageImagesLinksRead(ref IQueryable<Destination.Models.destinationTest.TblHomePageImagesLink> items);

        public async Task<List<Destination.Models.destinationTest.TblHomePageImagesLink>> GetTblHomePageImagesLinks(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblHomePageImagesLinks.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblHomePageImagesLinksRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTblInterestsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblinterests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblinterests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblInterestsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblinterests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblinterests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblInterestsRead(ref IQueryable<Destination.Models.destinationTest.TblInterest> items);

        public async Task<List<Destination.Models.destinationTest.TblInterest>> GetTblInterests(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblInterests.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblInterestsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblInterestGet(Destination.Models.destinationTest.TblInterest item);
        partial void OnGetTblInterestById(ref IQueryable<Destination.Models.destinationTest.TblInterest> items);


        public async Task<Destination.Models.destinationTest.TblInterest> GetTblInterestById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblInterests
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblInterestById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblInterestGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblInterestCreated(Destination.Models.destinationTest.TblInterest item);
        partial void OnAfterTblInterestCreated(Destination.Models.destinationTest.TblInterest item);

        public async Task<Destination.Models.destinationTest.TblInterest> CreateTblInterest(Destination.Models.destinationTest.TblInterest tblinterest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblInterestCreated(tblinterest);

            var existingItem = context.TblInterests
                              .Where(i => i.Id == tblinterest.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblInterests.Add(tblinterest);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblinterest).State = EntityState.Detached;
                throw;
            }

            OnAfterTblInterestCreated(tblinterest);

            return tblinterest;
        }

        public async Task<Destination.Models.destinationTest.TblInterest> CancelTblInterestChanges(Destination.Models.destinationTest.TblInterest item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblInterestUpdated(Destination.Models.destinationTest.TblInterest item);
        partial void OnAfterTblInterestUpdated(Destination.Models.destinationTest.TblInterest item);

        public async Task<Destination.Models.destinationTest.TblInterest> UpdateTblInterest(int id, Destination.Models.destinationTest.TblInterest tblinterest)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblInterestUpdated(tblinterest);

            var itemToUpdate = context.TblInterests
                              .Where(i => i.Id == tblinterest.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblinterest);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblInterestUpdated(tblinterest);

            return tblinterest;
        }

        partial void OnTblInterestDeleted(Destination.Models.destinationTest.TblInterest item);
        partial void OnAfterTblInterestDeleted(Destination.Models.destinationTest.TblInterest item);

        public async Task<Destination.Models.destinationTest.TblInterest> DeleteTblInterest(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblInterests
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblInterestDeleted(itemToDelete);


            context.TblInterests.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblInterestDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblInterests1ToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblinterests1/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblinterests1/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblInterests1ToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblinterests1/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblinterests1/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblInterests1Read(ref IQueryable<Destination.Models.destinationTest.TblInterest1> items);

        public async Task<List<Destination.Models.destinationTest.TblInterest1>> GetTblInterests1(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblInterests1.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblInterests1Read(ref items);

return await items.ToListAsync();
        }

        partial void OnTblInterest1Get(Destination.Models.destinationTest.TblInterest1 item);
        partial void OnGetTblInterest1ByInterestId(ref IQueryable<Destination.Models.destinationTest.TblInterest1> items);


        public async Task<Destination.Models.destinationTest.TblInterest1> GetTblInterest1ByInterestId(int interestid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblInterests1
                              .AsNoTracking()
                              .Where(i => i.InterestId == interestid);

 
            OnGetTblInterest1ByInterestId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblInterest1Get(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblInterest1Created(Destination.Models.destinationTest.TblInterest1 item);
        partial void OnAfterTblInterest1Created(Destination.Models.destinationTest.TblInterest1 item);

        public async Task<Destination.Models.destinationTest.TblInterest1> CreateTblInterest1(Destination.Models.destinationTest.TblInterest1 tblinterest1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblInterest1Created(tblinterest1);

            var existingItem = context.TblInterests1
                              .Where(i => i.InterestId == tblinterest1.InterestId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblInterests1.Add(tblinterest1);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblinterest1).State = EntityState.Detached;
                throw;
            }

            OnAfterTblInterest1Created(tblinterest1);

            return tblinterest1;
        }

        public async Task<Destination.Models.destinationTest.TblInterest1> CancelTblInterest1Changes(Destination.Models.destinationTest.TblInterest1 item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblInterest1Updated(Destination.Models.destinationTest.TblInterest1 item);
        partial void OnAfterTblInterest1Updated(Destination.Models.destinationTest.TblInterest1 item);

        public async Task<Destination.Models.destinationTest.TblInterest1> UpdateTblInterest1(int interestid, Destination.Models.destinationTest.TblInterest1 tblinterest1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblInterest1Updated(tblinterest1);

            var itemToUpdate = context.TblInterests1
                              .Where(i => i.InterestId == tblinterest1.InterestId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblinterest1);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblInterest1Updated(tblinterest1);

            return tblinterest1;
        }

        partial void OnTblInterest1Deleted(Destination.Models.destinationTest.TblInterest1 item);
        partial void OnAfterTblInterest1Deleted(Destination.Models.destinationTest.TblInterest1 item);

        public async Task<Destination.Models.destinationTest.TblInterest1> DeleteTblInterest1(int interestid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblInterests1
                              .Where(i => i.InterestId == interestid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblInterest1Deleted(itemToDelete);


            context.TblInterests1.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblInterest1Deleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblMultiDayDiscountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblmultidaydiscounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblmultidaydiscounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblMultiDayDiscountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblmultidaydiscounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblmultidaydiscounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblMultiDayDiscountsRead(ref IQueryable<Destination.Models.destinationTest.TblMultiDayDiscount> items);

        public async Task<List<Destination.Models.destinationTest.TblMultiDayDiscount>> GetTblMultiDayDiscounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblMultiDayDiscounts.AsQueryable();

            items = items.Include(i => i.Property);

            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblMultiDayDiscountsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblMultiDayDiscountGet(Destination.Models.destinationTest.TblMultiDayDiscount item);
        partial void OnGetTblMultiDayDiscountById(ref IQueryable<Destination.Models.destinationTest.TblMultiDayDiscount> items);


        public async Task<Destination.Models.destinationTest.TblMultiDayDiscount> GetTblMultiDayDiscountById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblMultiDayDiscounts
                              .AsNoTracking()
                              .Where(i => i.Id == id);

            items = items.Include(i => i.Property);
 
            OnGetTblMultiDayDiscountById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblMultiDayDiscountGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblMultiDayDiscountCreated(Destination.Models.destinationTest.TblMultiDayDiscount item);
        partial void OnAfterTblMultiDayDiscountCreated(Destination.Models.destinationTest.TblMultiDayDiscount item);

        public async Task<Destination.Models.destinationTest.TblMultiDayDiscount> CreateTblMultiDayDiscount(Destination.Models.destinationTest.TblMultiDayDiscount tblmultidaydiscount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblMultiDayDiscountCreated(tblmultidaydiscount);

            var existingItem = context.TblMultiDayDiscounts
                              .Where(i => i.Id == tblmultidaydiscount.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblMultiDayDiscounts.Add(tblmultidaydiscount);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblmultidaydiscount).State = EntityState.Detached;
                throw;
            }

            OnAfterTblMultiDayDiscountCreated(tblmultidaydiscount);

            return tblmultidaydiscount;
        }

        public async Task<Destination.Models.destinationTest.TblMultiDayDiscount> CancelTblMultiDayDiscountChanges(Destination.Models.destinationTest.TblMultiDayDiscount item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblMultiDayDiscountUpdated(Destination.Models.destinationTest.TblMultiDayDiscount item);
        partial void OnAfterTblMultiDayDiscountUpdated(Destination.Models.destinationTest.TblMultiDayDiscount item);

        public async Task<Destination.Models.destinationTest.TblMultiDayDiscount> UpdateTblMultiDayDiscount(int id, Destination.Models.destinationTest.TblMultiDayDiscount tblmultidaydiscount)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblMultiDayDiscountUpdated(tblmultidaydiscount);

            var itemToUpdate = context.TblMultiDayDiscounts
                              .Where(i => i.Id == tblmultidaydiscount.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblmultidaydiscount);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblMultiDayDiscountUpdated(tblmultidaydiscount);

            return tblmultidaydiscount;
        }

        partial void OnTblMultiDayDiscountDeleted(Destination.Models.destinationTest.TblMultiDayDiscount item);
        partial void OnAfterTblMultiDayDiscountDeleted(Destination.Models.destinationTest.TblMultiDayDiscount item);

        public async Task<Destination.Models.destinationTest.TblMultiDayDiscount> DeleteTblMultiDayDiscount(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblMultiDayDiscounts
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblMultiDayDiscountDeleted(itemToDelete);


            context.TblMultiDayDiscounts.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblMultiDayDiscountDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblNotAvtivePropertyBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblnotavtivepropertybookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblnotavtivepropertybookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblNotAvtivePropertyBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblnotavtivepropertybookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblnotavtivepropertybookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblNotAvtivePropertyBookingsRead(ref IQueryable<Destination.Models.destinationTest.TblNotAvtivePropertyBooking> items);

        public async Task<List<Destination.Models.destinationTest.TblNotAvtivePropertyBooking>> GetTblNotAvtivePropertyBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblNotAvtivePropertyBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblNotAvtivePropertyBookingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblNotAvtivePropertyBookingGet(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item);
        partial void OnGetTblNotAvtivePropertyBookingById(ref IQueryable<Destination.Models.destinationTest.TblNotAvtivePropertyBooking> items);


        public async Task<Destination.Models.destinationTest.TblNotAvtivePropertyBooking> GetTblNotAvtivePropertyBookingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblNotAvtivePropertyBookings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblNotAvtivePropertyBookingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblNotAvtivePropertyBookingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblNotAvtivePropertyBookingCreated(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item);
        partial void OnAfterTblNotAvtivePropertyBookingCreated(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item);

        public async Task<Destination.Models.destinationTest.TblNotAvtivePropertyBooking> CreateTblNotAvtivePropertyBooking(Destination.Models.destinationTest.TblNotAvtivePropertyBooking tblnotavtivepropertybooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblNotAvtivePropertyBookingCreated(tblnotavtivepropertybooking);

            var existingItem = context.TblNotAvtivePropertyBookings
                              .Where(i => i.Id == tblnotavtivepropertybooking.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblNotAvtivePropertyBookings.Add(tblnotavtivepropertybooking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblnotavtivepropertybooking).State = EntityState.Detached;
                throw;
            }

            OnAfterTblNotAvtivePropertyBookingCreated(tblnotavtivepropertybooking);

            return tblnotavtivepropertybooking;
        }

        public async Task<Destination.Models.destinationTest.TblNotAvtivePropertyBooking> CancelTblNotAvtivePropertyBookingChanges(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblNotAvtivePropertyBookingUpdated(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item);
        partial void OnAfterTblNotAvtivePropertyBookingUpdated(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item);

        public async Task<Destination.Models.destinationTest.TblNotAvtivePropertyBooking> UpdateTblNotAvtivePropertyBooking(int id, Destination.Models.destinationTest.TblNotAvtivePropertyBooking tblnotavtivepropertybooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblNotAvtivePropertyBookingUpdated(tblnotavtivepropertybooking);

            var itemToUpdate = context.TblNotAvtivePropertyBookings
                              .Where(i => i.Id == tblnotavtivepropertybooking.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblnotavtivepropertybooking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblNotAvtivePropertyBookingUpdated(tblnotavtivepropertybooking);

            return tblnotavtivepropertybooking;
        }

        partial void OnTblNotAvtivePropertyBookingDeleted(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item);
        partial void OnAfterTblNotAvtivePropertyBookingDeleted(Destination.Models.destinationTest.TblNotAvtivePropertyBooking item);

        public async Task<Destination.Models.destinationTest.TblNotAvtivePropertyBooking> DeleteTblNotAvtivePropertyBooking(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblNotAvtivePropertyBookings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblNotAvtivePropertyBookingDeleted(itemToDelete);


            context.TblNotAvtivePropertyBookings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblNotAvtivePropertyBookingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblNotSendingEmailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblnotsendingemails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblnotsendingemails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblNotSendingEmailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblnotsendingemails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblnotsendingemails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblNotSendingEmailsRead(ref IQueryable<Destination.Models.destinationTest.TblNotSendingEmail> items);

        public async Task<List<Destination.Models.destinationTest.TblNotSendingEmail>> GetTblNotSendingEmails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblNotSendingEmails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblNotSendingEmailsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblNotSendingEmailGet(Destination.Models.destinationTest.TblNotSendingEmail item);
        partial void OnGetTblNotSendingEmailById(ref IQueryable<Destination.Models.destinationTest.TblNotSendingEmail> items);


        public async Task<Destination.Models.destinationTest.TblNotSendingEmail> GetTblNotSendingEmailById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblNotSendingEmails
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblNotSendingEmailById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblNotSendingEmailGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblNotSendingEmailCreated(Destination.Models.destinationTest.TblNotSendingEmail item);
        partial void OnAfterTblNotSendingEmailCreated(Destination.Models.destinationTest.TblNotSendingEmail item);

        public async Task<Destination.Models.destinationTest.TblNotSendingEmail> CreateTblNotSendingEmail(Destination.Models.destinationTest.TblNotSendingEmail tblnotsendingemail)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblNotSendingEmailCreated(tblnotsendingemail);

            var existingItem = context.TblNotSendingEmails
                              .Where(i => i.Id == tblnotsendingemail.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblNotSendingEmails.Add(tblnotsendingemail);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblnotsendingemail).State = EntityState.Detached;
                throw;
            }

            OnAfterTblNotSendingEmailCreated(tblnotsendingemail);

            return tblnotsendingemail;
        }

        public async Task<Destination.Models.destinationTest.TblNotSendingEmail> CancelTblNotSendingEmailChanges(Destination.Models.destinationTest.TblNotSendingEmail item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblNotSendingEmailUpdated(Destination.Models.destinationTest.TblNotSendingEmail item);
        partial void OnAfterTblNotSendingEmailUpdated(Destination.Models.destinationTest.TblNotSendingEmail item);

        public async Task<Destination.Models.destinationTest.TblNotSendingEmail> UpdateTblNotSendingEmail(int id, Destination.Models.destinationTest.TblNotSendingEmail tblnotsendingemail)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblNotSendingEmailUpdated(tblnotsendingemail);

            var itemToUpdate = context.TblNotSendingEmails
                              .Where(i => i.Id == tblnotsendingemail.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblnotsendingemail);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblNotSendingEmailUpdated(tblnotsendingemail);

            return tblnotsendingemail;
        }

        partial void OnTblNotSendingEmailDeleted(Destination.Models.destinationTest.TblNotSendingEmail item);
        partial void OnAfterTblNotSendingEmailDeleted(Destination.Models.destinationTest.TblNotSendingEmail item);

        public async Task<Destination.Models.destinationTest.TblNotSendingEmail> DeleteTblNotSendingEmail(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblNotSendingEmails
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblNotSendingEmailDeleted(itemToDelete);


            context.TblNotSendingEmails.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblNotSendingEmailDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblPartialCheckInsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpartialcheckins/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpartialcheckins/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblPartialCheckInsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpartialcheckins/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpartialcheckins/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblPartialCheckInsRead(ref IQueryable<Destination.Models.destinationTest.TblPartialCheckIn> items);

        public async Task<List<Destination.Models.destinationTest.TblPartialCheckIn>> GetTblPartialCheckIns(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblPartialCheckIns.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblPartialCheckInsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTblPropertyActiveInactiveTrackForFlipkeyFeedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpropertyactiveinactivetrackforflipkeyfeeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpropertyactiveinactivetrackforflipkeyfeeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblPropertyActiveInactiveTrackForFlipkeyFeedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpropertyactiveinactivetrackforflipkeyfeeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpropertyactiveinactivetrackforflipkeyfeeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblPropertyActiveInactiveTrackForFlipkeyFeedsRead(ref IQueryable<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed> items);

        public async Task<List<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed>> GetTblPropertyActiveInactiveTrackForFlipkeyFeeds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblPropertyActiveInactiveTrackForFlipkeyFeeds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblPropertyActiveInactiveTrackForFlipkeyFeedsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblPropertyActiveInactiveTrackForFlipkeyFeedGet(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item);
        partial void OnGetTblPropertyActiveInactiveTrackForFlipkeyFeedById(ref IQueryable<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed> items);


        public async Task<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed> GetTblPropertyActiveInactiveTrackForFlipkeyFeedById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblPropertyActiveInactiveTrackForFlipkeyFeeds
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblPropertyActiveInactiveTrackForFlipkeyFeedById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblPropertyActiveInactiveTrackForFlipkeyFeedGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblPropertyActiveInactiveTrackForFlipkeyFeedCreated(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item);
        partial void OnAfterTblPropertyActiveInactiveTrackForFlipkeyFeedCreated(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item);

        public async Task<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed> CreateTblPropertyActiveInactiveTrackForFlipkeyFeed(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed tblpropertyactiveinactivetrackforflipkeyfeed)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblPropertyActiveInactiveTrackForFlipkeyFeedCreated(tblpropertyactiveinactivetrackforflipkeyfeed);

            var existingItem = context.TblPropertyActiveInactiveTrackForFlipkeyFeeds
                              .Where(i => i.Id == tblpropertyactiveinactivetrackforflipkeyfeed.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblPropertyActiveInactiveTrackForFlipkeyFeeds.Add(tblpropertyactiveinactivetrackforflipkeyfeed);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblpropertyactiveinactivetrackforflipkeyfeed).State = EntityState.Detached;
                throw;
            }

            OnAfterTblPropertyActiveInactiveTrackForFlipkeyFeedCreated(tblpropertyactiveinactivetrackforflipkeyfeed);

            return tblpropertyactiveinactivetrackforflipkeyfeed;
        }

        public async Task<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed> CancelTblPropertyActiveInactiveTrackForFlipkeyFeedChanges(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblPropertyActiveInactiveTrackForFlipkeyFeedUpdated(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item);
        partial void OnAfterTblPropertyActiveInactiveTrackForFlipkeyFeedUpdated(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item);

        public async Task<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed> UpdateTblPropertyActiveInactiveTrackForFlipkeyFeed(int id, Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed tblpropertyactiveinactivetrackforflipkeyfeed)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblPropertyActiveInactiveTrackForFlipkeyFeedUpdated(tblpropertyactiveinactivetrackforflipkeyfeed);

            var itemToUpdate = context.TblPropertyActiveInactiveTrackForFlipkeyFeeds
                              .Where(i => i.Id == tblpropertyactiveinactivetrackforflipkeyfeed.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblpropertyactiveinactivetrackforflipkeyfeed);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblPropertyActiveInactiveTrackForFlipkeyFeedUpdated(tblpropertyactiveinactivetrackforflipkeyfeed);

            return tblpropertyactiveinactivetrackforflipkeyfeed;
        }

        partial void OnTblPropertyActiveInactiveTrackForFlipkeyFeedDeleted(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item);
        partial void OnAfterTblPropertyActiveInactiveTrackForFlipkeyFeedDeleted(Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed item);

        public async Task<Destination.Models.destinationTest.TblPropertyActiveInactiveTrackForFlipkeyFeed> DeleteTblPropertyActiveInactiveTrackForFlipkeyFeed(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblPropertyActiveInactiveTrackForFlipkeyFeeds
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblPropertyActiveInactiveTrackForFlipkeyFeedDeleted(itemToDelete);


            context.TblPropertyActiveInactiveTrackForFlipkeyFeeds.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblPropertyActiveInactiveTrackForFlipkeyFeedDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblPropertyImagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpropertyimages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpropertyimages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblPropertyImagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpropertyimages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpropertyimages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblPropertyImagesRead(ref IQueryable<Destination.Models.destinationTest.TblPropertyImage> items);

        public async Task<List<Destination.Models.destinationTest.TblPropertyImage>> GetTblPropertyImages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblPropertyImages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblPropertyImagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblPropertyImageGet(Destination.Models.destinationTest.TblPropertyImage item);
        partial void OnGetTblPropertyImageById(ref IQueryable<Destination.Models.destinationTest.TblPropertyImage> items);


        public async Task<Destination.Models.destinationTest.TblPropertyImage> GetTblPropertyImageById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblPropertyImages
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblPropertyImageById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblPropertyImageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblPropertyImageCreated(Destination.Models.destinationTest.TblPropertyImage item);
        partial void OnAfterTblPropertyImageCreated(Destination.Models.destinationTest.TblPropertyImage item);

        public async Task<Destination.Models.destinationTest.TblPropertyImage> CreateTblPropertyImage(Destination.Models.destinationTest.TblPropertyImage tblpropertyimage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblPropertyImageCreated(tblpropertyimage);

            var existingItem = context.TblPropertyImages
                              .Where(i => i.Id == tblpropertyimage.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblPropertyImages.Add(tblpropertyimage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblpropertyimage).State = EntityState.Detached;
                throw;
            }

            OnAfterTblPropertyImageCreated(tblpropertyimage);

            return tblpropertyimage;
        }

        public async Task<Destination.Models.destinationTest.TblPropertyImage> CancelTblPropertyImageChanges(Destination.Models.destinationTest.TblPropertyImage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblPropertyImageUpdated(Destination.Models.destinationTest.TblPropertyImage item);
        partial void OnAfterTblPropertyImageUpdated(Destination.Models.destinationTest.TblPropertyImage item);

        public async Task<Destination.Models.destinationTest.TblPropertyImage> UpdateTblPropertyImage(int id, Destination.Models.destinationTest.TblPropertyImage tblpropertyimage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblPropertyImageUpdated(tblpropertyimage);

            var itemToUpdate = context.TblPropertyImages
                              .Where(i => i.Id == tblpropertyimage.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblpropertyimage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblPropertyImageUpdated(tblpropertyimage);

            return tblpropertyimage;
        }

        partial void OnTblPropertyImageDeleted(Destination.Models.destinationTest.TblPropertyImage item);
        partial void OnAfterTblPropertyImageDeleted(Destination.Models.destinationTest.TblPropertyImage item);

        public async Task<Destination.Models.destinationTest.TblPropertyImage> DeleteTblPropertyImage(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblPropertyImages
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblPropertyImageDeleted(itemToDelete);


            context.TblPropertyImages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblPropertyImageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblPropertyRatesDailyMissedDatesPropsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpropertyratesdailymisseddatesprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpropertyratesdailymisseddatesprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblPropertyRatesDailyMissedDatesPropsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblpropertyratesdailymisseddatesprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblpropertyratesdailymisseddatesprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblPropertyRatesDailyMissedDatesPropsRead(ref IQueryable<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp> items);

        public async Task<List<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp>> GetTblPropertyRatesDailyMissedDatesProps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblPropertyRatesDailyMissedDatesProps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblPropertyRatesDailyMissedDatesPropsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblPropertyRatesDailyMissedDatesPropGet(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item);
        partial void OnGetTblPropertyRatesDailyMissedDatesPropById(ref IQueryable<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp> items);


        public async Task<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp> GetTblPropertyRatesDailyMissedDatesPropById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblPropertyRatesDailyMissedDatesProps
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblPropertyRatesDailyMissedDatesPropById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblPropertyRatesDailyMissedDatesPropGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblPropertyRatesDailyMissedDatesPropCreated(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item);
        partial void OnAfterTblPropertyRatesDailyMissedDatesPropCreated(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item);

        public async Task<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp> CreateTblPropertyRatesDailyMissedDatesProp(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp tblpropertyratesdailymisseddatesprop)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblPropertyRatesDailyMissedDatesPropCreated(tblpropertyratesdailymisseddatesprop);

            var existingItem = context.TblPropertyRatesDailyMissedDatesProps
                              .Where(i => i.Id == tblpropertyratesdailymisseddatesprop.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblPropertyRatesDailyMissedDatesProps.Add(tblpropertyratesdailymisseddatesprop);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblpropertyratesdailymisseddatesprop).State = EntityState.Detached;
                throw;
            }

            OnAfterTblPropertyRatesDailyMissedDatesPropCreated(tblpropertyratesdailymisseddatesprop);

            return tblpropertyratesdailymisseddatesprop;
        }

        public async Task<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp> CancelTblPropertyRatesDailyMissedDatesPropChanges(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblPropertyRatesDailyMissedDatesPropUpdated(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item);
        partial void OnAfterTblPropertyRatesDailyMissedDatesPropUpdated(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item);

        public async Task<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp> UpdateTblPropertyRatesDailyMissedDatesProp(int id, Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp tblpropertyratesdailymisseddatesprop)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblPropertyRatesDailyMissedDatesPropUpdated(tblpropertyratesdailymisseddatesprop);

            var itemToUpdate = context.TblPropertyRatesDailyMissedDatesProps
                              .Where(i => i.Id == tblpropertyratesdailymisseddatesprop.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblpropertyratesdailymisseddatesprop);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblPropertyRatesDailyMissedDatesPropUpdated(tblpropertyratesdailymisseddatesprop);

            return tblpropertyratesdailymisseddatesprop;
        }

        partial void OnTblPropertyRatesDailyMissedDatesPropDeleted(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item);
        partial void OnAfterTblPropertyRatesDailyMissedDatesPropDeleted(Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp item);

        public async Task<Destination.Models.destinationTest.TblPropertyRatesDailyMissedDatesProp> DeleteTblPropertyRatesDailyMissedDatesProp(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblPropertyRatesDailyMissedDatesProps
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblPropertyRatesDailyMissedDatesPropDeleted(itemToDelete);


            context.TblPropertyRatesDailyMissedDatesProps.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblPropertyRatesDailyMissedDatesPropDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblrateTempsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblratetemps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblratetemps/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblrateTempsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblratetemps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblratetemps/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblrateTempsRead(ref IQueryable<Destination.Models.destinationTest.TblrateTemp> items);

        public async Task<List<Destination.Models.destinationTest.TblrateTemp>> GetTblrateTemps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblrateTemps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblrateTempsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblrateTempGet(Destination.Models.destinationTest.TblrateTemp item);
        partial void OnGetTblrateTempById(ref IQueryable<Destination.Models.destinationTest.TblrateTemp> items);


        public async Task<Destination.Models.destinationTest.TblrateTemp> GetTblrateTempById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblrateTemps
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblrateTempById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblrateTempGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblrateTempCreated(Destination.Models.destinationTest.TblrateTemp item);
        partial void OnAfterTblrateTempCreated(Destination.Models.destinationTest.TblrateTemp item);

        public async Task<Destination.Models.destinationTest.TblrateTemp> CreateTblrateTemp(Destination.Models.destinationTest.TblrateTemp tblratetemp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblrateTempCreated(tblratetemp);

            var existingItem = context.TblrateTemps
                              .Where(i => i.Id == tblratetemp.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblrateTemps.Add(tblratetemp);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblratetemp).State = EntityState.Detached;
                throw;
            }

            OnAfterTblrateTempCreated(tblratetemp);

            return tblratetemp;
        }

        public async Task<Destination.Models.destinationTest.TblrateTemp> CancelTblrateTempChanges(Destination.Models.destinationTest.TblrateTemp item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblrateTempUpdated(Destination.Models.destinationTest.TblrateTemp item);
        partial void OnAfterTblrateTempUpdated(Destination.Models.destinationTest.TblrateTemp item);

        public async Task<Destination.Models.destinationTest.TblrateTemp> UpdateTblrateTemp(int id, Destination.Models.destinationTest.TblrateTemp tblratetemp)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblrateTempUpdated(tblratetemp);

            var itemToUpdate = context.TblrateTemps
                              .Where(i => i.Id == tblratetemp.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblratetemp);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblrateTempUpdated(tblratetemp);

            return tblratetemp;
        }

        partial void OnTblrateTempDeleted(Destination.Models.destinationTest.TblrateTemp item);
        partial void OnAfterTblrateTempDeleted(Destination.Models.destinationTest.TblrateTemp item);

        public async Task<Destination.Models.destinationTest.TblrateTemp> DeleteTblrateTemp(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblrateTemps
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblrateTempDeleted(itemToDelete);


            context.TblrateTemps.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblrateTempDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblServicesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblservices/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblservices/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblServicesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tblservices/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tblservices/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblServicesRead(ref IQueryable<Destination.Models.destinationTest.TblService> items);

        public async Task<List<Destination.Models.destinationTest.TblService>> GetTblServices(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblServices.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblServicesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblServiceGet(Destination.Models.destinationTest.TblService item);
        partial void OnGetTblServiceById(ref IQueryable<Destination.Models.destinationTest.TblService> items);


        public async Task<Destination.Models.destinationTest.TblService> GetTblServiceById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblServices
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTblServiceById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblServiceGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblServiceCreated(Destination.Models.destinationTest.TblService item);
        partial void OnAfterTblServiceCreated(Destination.Models.destinationTest.TblService item);

        public async Task<Destination.Models.destinationTest.TblService> CreateTblService(Destination.Models.destinationTest.TblService tblservice)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblServiceCreated(tblservice);

            var existingItem = context.TblServices
                              .Where(i => i.Id == tblservice.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblServices.Add(tblservice);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tblservice).State = EntityState.Detached;
                throw;
            }

            OnAfterTblServiceCreated(tblservice);

            return tblservice;
        }

        public async Task<Destination.Models.destinationTest.TblService> CancelTblServiceChanges(Destination.Models.destinationTest.TblService item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblServiceUpdated(Destination.Models.destinationTest.TblService item);
        partial void OnAfterTblServiceUpdated(Destination.Models.destinationTest.TblService item);

        public async Task<Destination.Models.destinationTest.TblService> UpdateTblService(int id, Destination.Models.destinationTest.TblService tblservice)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblServiceUpdated(tblservice);

            var itemToUpdate = context.TblServices
                              .Where(i => i.Id == tblservice.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tblservice);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblServiceUpdated(tblservice);

            return tblservice;
        }

        partial void OnTblServiceDeleted(Destination.Models.destinationTest.TblService item);
        partial void OnAfterTblServiceDeleted(Destination.Models.destinationTest.TblService item);

        public async Task<Destination.Models.destinationTest.TblService> DeleteTblService(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblServices
                              .Where(i => i.Id == id)
                              .Include(i => i.Bookings)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblServiceDeleted(itemToDelete);


            context.TblServices.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblServiceDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTblTrackDailyRatesExecutionForPropertiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tbltrackdailyratesexecutionforproperties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tbltrackdailyratesexecutionforproperties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblTrackDailyRatesExecutionForPropertiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tbltrackdailyratesexecutionforproperties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tbltrackdailyratesexecutionforproperties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblTrackDailyRatesExecutionForPropertiesRead(ref IQueryable<Destination.Models.destinationTest.TblTrackDailyRatesExecutionForProperty> items);

        public async Task<List<Destination.Models.destinationTest.TblTrackDailyRatesExecutionForProperty>> GetTblTrackDailyRatesExecutionForProperties(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblTrackDailyRatesExecutionForProperties.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblTrackDailyRatesExecutionForPropertiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTblTypeMastersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tbltypemasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tbltypemasters/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTblTypeMastersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tbltypemasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tbltypemasters/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTblTypeMastersRead(ref IQueryable<Destination.Models.destinationTest.TblTypeMaster> items);

        public async Task<List<Destination.Models.destinationTest.TblTypeMaster>> GetTblTypeMasters(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblTypeMasters.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTblTypeMastersRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTblTypeMasterGet(Destination.Models.destinationTest.TblTypeMaster item);
        partial void OnGetTblTypeMasterByTypeId(ref IQueryable<Destination.Models.destinationTest.TblTypeMaster> items);


        public async Task<Destination.Models.destinationTest.TblTypeMaster> GetTblTypeMasterByTypeId(int typeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TblTypeMasters
                              .AsNoTracking()
                              .Where(i => i.TypeId == typeid);

 
            OnGetTblTypeMasterByTypeId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTblTypeMasterGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTblTypeMasterCreated(Destination.Models.destinationTest.TblTypeMaster item);
        partial void OnAfterTblTypeMasterCreated(Destination.Models.destinationTest.TblTypeMaster item);

        public async Task<Destination.Models.destinationTest.TblTypeMaster> CreateTblTypeMaster(Destination.Models.destinationTest.TblTypeMaster tbltypemaster)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblTypeMasterCreated(tbltypemaster);

            var existingItem = context.TblTypeMasters
                              .Where(i => i.TypeId == tbltypemaster.TypeId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TblTypeMasters.Add(tbltypemaster);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tbltypemaster).State = EntityState.Detached;
                throw;
            }

            OnAfterTblTypeMasterCreated(tbltypemaster);

            return tbltypemaster;
        }

        public async Task<Destination.Models.destinationTest.TblTypeMaster> CancelTblTypeMasterChanges(Destination.Models.destinationTest.TblTypeMaster item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTblTypeMasterUpdated(Destination.Models.destinationTest.TblTypeMaster item);
        partial void OnAfterTblTypeMasterUpdated(Destination.Models.destinationTest.TblTypeMaster item);

        public async Task<Destination.Models.destinationTest.TblTypeMaster> UpdateTblTypeMaster(int typeid, Destination.Models.destinationTest.TblTypeMaster tbltypemaster)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTblTypeMasterUpdated(tbltypemaster);

            var itemToUpdate = context.TblTypeMasters
                              .Where(i => i.TypeId == tbltypemaster.TypeId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tbltypemaster);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTblTypeMasterUpdated(tbltypemaster);

            return tbltypemaster;
        }

        partial void OnTblTypeMasterDeleted(Destination.Models.destinationTest.TblTypeMaster item);
        partial void OnAfterTblTypeMasterDeleted(Destination.Models.destinationTest.TblTypeMaster item);

        public async Task<Destination.Models.destinationTest.TblTypeMaster> DeleteTblTypeMaster(int typeid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TblTypeMasters
                              .Where(i => i.TypeId == typeid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTblTypeMasterDeleted(itemToDelete);


            context.TblTypeMasters.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTblTypeMasterDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTemp12SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/temp12s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/temp12s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTemp12SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/temp12s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/temp12s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTemp12SRead(ref IQueryable<Destination.Models.destinationTest.Temp12> items);

        public async Task<List<Destination.Models.destinationTest.Temp12>> GetTemp12S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Temp12S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTemp12SRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTempComsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tempcoms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tempcoms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTempComsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tempcoms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tempcoms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTempComsRead(ref IQueryable<Destination.Models.destinationTest.TempCom> items);

        public async Task<List<Destination.Models.destinationTest.TempCom>> GetTempComs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TempComs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTempComsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTemplateCatsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/templatecats/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/templatecats/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTemplateCatsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/templatecats/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/templatecats/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTemplateCatsRead(ref IQueryable<Destination.Models.destinationTest.TemplateCat> items);

        public async Task<List<Destination.Models.destinationTest.TemplateCat>> GetTemplateCats(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TemplateCats.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTemplateCatsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTemplateCatGet(Destination.Models.destinationTest.TemplateCat item);
        partial void OnGetTemplateCatById(ref IQueryable<Destination.Models.destinationTest.TemplateCat> items);


        public async Task<Destination.Models.destinationTest.TemplateCat> GetTemplateCatById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TemplateCats
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTemplateCatById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTemplateCatGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTemplateCatCreated(Destination.Models.destinationTest.TemplateCat item);
        partial void OnAfterTemplateCatCreated(Destination.Models.destinationTest.TemplateCat item);

        public async Task<Destination.Models.destinationTest.TemplateCat> CreateTemplateCat(Destination.Models.destinationTest.TemplateCat templatecat)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTemplateCatCreated(templatecat);

            var existingItem = context.TemplateCats
                              .Where(i => i.Id == templatecat.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TemplateCats.Add(templatecat);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(templatecat).State = EntityState.Detached;
                throw;
            }

            OnAfterTemplateCatCreated(templatecat);

            return templatecat;
        }

        public async Task<Destination.Models.destinationTest.TemplateCat> CancelTemplateCatChanges(Destination.Models.destinationTest.TemplateCat item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTemplateCatUpdated(Destination.Models.destinationTest.TemplateCat item);
        partial void OnAfterTemplateCatUpdated(Destination.Models.destinationTest.TemplateCat item);

        public async Task<Destination.Models.destinationTest.TemplateCat> UpdateTemplateCat(int id, Destination.Models.destinationTest.TemplateCat templatecat)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTemplateCatUpdated(templatecat);

            var itemToUpdate = context.TemplateCats
                              .Where(i => i.Id == templatecat.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(templatecat);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTemplateCatUpdated(templatecat);

            return templatecat;
        }

        partial void OnTemplateCatDeleted(Destination.Models.destinationTest.TemplateCat item);
        partial void OnAfterTemplateCatDeleted(Destination.Models.destinationTest.TemplateCat item);

        public async Task<Destination.Models.destinationTest.TemplateCat> DeleteTemplateCat(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TemplateCats
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTemplateCatDeleted(itemToDelete);


            context.TemplateCats.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTemplateCatDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTemplatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/templates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/templates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTemplatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/templates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/templates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTemplatesRead(ref IQueryable<Destination.Models.destinationTest.Template> items);

        public async Task<List<Destination.Models.destinationTest.Template>> GetTemplates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Templates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTemplatesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTemplateGet(Destination.Models.destinationTest.Template item);
        partial void OnGetTemplateByIntTemplateId(ref IQueryable<Destination.Models.destinationTest.Template> items);


        public async Task<Destination.Models.destinationTest.Template> GetTemplateByIntTemplateId(int inttemplateid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Templates
                              .AsNoTracking()
                              .Where(i => i.IntTemplateId == inttemplateid);

 
            OnGetTemplateByIntTemplateId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTemplateGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTemplateCreated(Destination.Models.destinationTest.Template item);
        partial void OnAfterTemplateCreated(Destination.Models.destinationTest.Template item);

        public async Task<Destination.Models.destinationTest.Template> CreateTemplate(Destination.Models.destinationTest.Template template)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTemplateCreated(template);

            var existingItem = context.Templates
                              .Where(i => i.IntTemplateId == template.IntTemplateId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Templates.Add(template);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(template).State = EntityState.Detached;
                throw;
            }

            OnAfterTemplateCreated(template);

            return template;
        }

        public async Task<Destination.Models.destinationTest.Template> CancelTemplateChanges(Destination.Models.destinationTest.Template item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTemplateUpdated(Destination.Models.destinationTest.Template item);
        partial void OnAfterTemplateUpdated(Destination.Models.destinationTest.Template item);

        public async Task<Destination.Models.destinationTest.Template> UpdateTemplate(int inttemplateid, Destination.Models.destinationTest.Template template)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTemplateUpdated(template);

            var itemToUpdate = context.Templates
                              .Where(i => i.IntTemplateId == template.IntTemplateId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(template);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTemplateUpdated(template);

            return template;
        }

        partial void OnTemplateDeleted(Destination.Models.destinationTest.Template item);
        partial void OnAfterTemplateDeleted(Destination.Models.destinationTest.Template item);

        public async Task<Destination.Models.destinationTest.Template> DeleteTemplate(int inttemplateid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Templates
                              .Where(i => i.IntTemplateId == inttemplateid)
                              .Include(i => i.FilterDataForBulkSmsMails)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTemplateDeleted(itemToDelete);


            context.Templates.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTemplateDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTenantsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenants/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenants/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTenantsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenants/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenants/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTenantsRead(ref IQueryable<Destination.Models.destinationTest.Tenant> items);

        public async Task<List<Destination.Models.destinationTest.Tenant>> GetTenants(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Tenants.Where(x=>x.Role >= 25).AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTenantsRead(ref items);

return await items.ToListAsync();
        }

        public async Task<int> ValidateUserAndGetRole(string user, string pass)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var item = await context.Tenants.Where(x => x.Email == user && x.Password == pass).FirstOrDefaultAsync();
           
            if(item != null)
            {
                return (int)(item.Role);
            }

            return 0;
        }

        public async Task<List<TenantDropDownData>> GetTenantsForDropDown()
        {            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Tenants.Where(x => x.Role >= 25).Select
                (x => new TenantDropDownData
                {
                    Tenantid = x.Tenantid,
                    FirstName = x.Firstname
                }).AsQueryable();

return await items.ToListAsync();
        }

        partial void OnTenantGet(Destination.Models.destinationTest.Tenant item);
        partial void OnGetTenantByTenantid(ref IQueryable<Destination.Models.destinationTest.Tenant> items);


        public async Task<Destination.Models.destinationTest.Tenant> GetTenantByTenantid(int tenantid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Tenants
                              .AsNoTracking()
                              .Where(i => i.Tenantid == tenantid);

 
            OnGetTenantByTenantid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTenantGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTenantCreated(Destination.Models.destinationTest.Tenant item);
        partial void OnAfterTenantCreated(Destination.Models.destinationTest.Tenant item);

        public async Task<Destination.Models.destinationTest.Tenant> CreateTenant(Destination.Models.destinationTest.Tenant tenant)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTenantCreated(tenant);

            var existingItem = context.Tenants
                              .Where(i => i.Tenantid == tenant.Tenantid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Tenants.Add(tenant);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tenant).State = EntityState.Detached;
                throw;
            }

            OnAfterTenantCreated(tenant);

            return tenant;
        }

        public async Task<Destination.Models.destinationTest.Tenant> CancelTenantChanges(Destination.Models.destinationTest.Tenant item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTenantUpdated(Destination.Models.destinationTest.Tenant item);
        partial void OnAfterTenantUpdated(Destination.Models.destinationTest.Tenant item);

        public async Task<Destination.Models.destinationTest.Tenant> UpdateTenant(int tenantid, Destination.Models.destinationTest.Tenant tenant)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTenantUpdated(tenant);

            var itemToUpdate = context.Tenants
                              .Where(i => i.Tenantid == tenant.Tenantid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tenant);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTenantUpdated(tenant);

            return tenant;
        }

        partial void OnTenantDeleted(Destination.Models.destinationTest.Tenant item);
        partial void OnAfterTenantDeleted(Destination.Models.destinationTest.Tenant item);

        public async Task<Destination.Models.destinationTest.Tenant> DeleteTenant(int tenantid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Tenants
                              .Where(i => i.Tenantid == tenantid)
                              .Include(i => i.Bookings)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTenantDeleted(itemToDelete);


            context.Tenants.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTenantDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTenantCheckInPhotosToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantcheckinphotos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantcheckinphotos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTenantCheckInPhotosToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantcheckinphotos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantcheckinphotos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTenantCheckInPhotosRead(ref IQueryable<Destination.Models.destinationTest.TenantCheckInPhoto> items);

        public async Task<List<Destination.Models.destinationTest.TenantCheckInPhoto>> GetTenantCheckInPhotos(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TenantCheckInPhotos.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTenantCheckInPhotosRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTenantInterestDataToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantinterestdata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantinterestdata/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTenantInterestDataToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantinterestdata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantinterestdata/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTenantInterestDataRead(ref IQueryable<Destination.Models.destinationTest.TenantInterestDatum> items);

        public async Task<List<Destination.Models.destinationTest.TenantInterestDatum>> GetTenantInterestData(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TenantInterestData.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTenantInterestDataRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTenantOrderAlertEmailMessagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantorderalertemailmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantorderalertemailmessages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTenantOrderAlertEmailMessagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantorderalertemailmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantorderalertemailmessages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTenantOrderAlertEmailMessagesRead(ref IQueryable<Destination.Models.destinationTest.TenantOrderAlertEmailMessage> items);

        public async Task<List<Destination.Models.destinationTest.TenantOrderAlertEmailMessage>> GetTenantOrderAlertEmailMessages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TenantOrderAlertEmailMessages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTenantOrderAlertEmailMessagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTenantOrderAlertEmailMessageGet(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item);
        partial void OnGetTenantOrderAlertEmailMessageById(ref IQueryable<Destination.Models.destinationTest.TenantOrderAlertEmailMessage> items);


        public async Task<Destination.Models.destinationTest.TenantOrderAlertEmailMessage> GetTenantOrderAlertEmailMessageById(long id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TenantOrderAlertEmailMessages
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTenantOrderAlertEmailMessageById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTenantOrderAlertEmailMessageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTenantOrderAlertEmailMessageCreated(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item);
        partial void OnAfterTenantOrderAlertEmailMessageCreated(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item);

        public async Task<Destination.Models.destinationTest.TenantOrderAlertEmailMessage> CreateTenantOrderAlertEmailMessage(Destination.Models.destinationTest.TenantOrderAlertEmailMessage tenantorderalertemailmessage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTenantOrderAlertEmailMessageCreated(tenantorderalertemailmessage);

            var existingItem = context.TenantOrderAlertEmailMessages
                              .Where(i => i.Id == tenantorderalertemailmessage.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TenantOrderAlertEmailMessages.Add(tenantorderalertemailmessage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(tenantorderalertemailmessage).State = EntityState.Detached;
                throw;
            }

            OnAfterTenantOrderAlertEmailMessageCreated(tenantorderalertemailmessage);

            return tenantorderalertemailmessage;
        }

        public async Task<Destination.Models.destinationTest.TenantOrderAlertEmailMessage> CancelTenantOrderAlertEmailMessageChanges(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTenantOrderAlertEmailMessageUpdated(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item);
        partial void OnAfterTenantOrderAlertEmailMessageUpdated(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item);

        public async Task<Destination.Models.destinationTest.TenantOrderAlertEmailMessage> UpdateTenantOrderAlertEmailMessage(long id, Destination.Models.destinationTest.TenantOrderAlertEmailMessage tenantorderalertemailmessage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTenantOrderAlertEmailMessageUpdated(tenantorderalertemailmessage);

            var itemToUpdate = context.TenantOrderAlertEmailMessages
                              .Where(i => i.Id == tenantorderalertemailmessage.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(tenantorderalertemailmessage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTenantOrderAlertEmailMessageUpdated(tenantorderalertemailmessage);

            return tenantorderalertemailmessage;
        }

        partial void OnTenantOrderAlertEmailMessageDeleted(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item);
        partial void OnAfterTenantOrderAlertEmailMessageDeleted(Destination.Models.destinationTest.TenantOrderAlertEmailMessage item);

        public async Task<Destination.Models.destinationTest.TenantOrderAlertEmailMessage> DeleteTenantOrderAlertEmailMessage(long id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TenantOrderAlertEmailMessages
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTenantOrderAlertEmailMessageDeleted(itemToDelete);


            context.TenantOrderAlertEmailMessages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTenantOrderAlertEmailMessageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTenantSheetsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantsheets/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantsheets/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTenantSheetsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantsheets/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantsheets/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTenantSheetsRead(ref IQueryable<Destination.Models.destinationTest.TenantSheet> items);

        public async Task<List<Destination.Models.destinationTest.TenantSheet>> GetTenantSheets(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TenantSheets.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTenantSheetsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTenantWithPlusOneInCellsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantwithplusoneincells/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantwithplusoneincells/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTenantWithPlusOneInCellsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/tenantwithplusoneincells/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/tenantwithplusoneincells/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTenantWithPlusOneInCellsRead(ref IQueryable<Destination.Models.destinationTest.TenantWithPlusOneInCell> items);

        public async Task<List<Destination.Models.destinationTest.TenantWithPlusOneInCell>> GetTenantWithPlusOneInCells(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TenantWithPlusOneInCells.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTenantWithPlusOneInCellsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTestTablesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/testtables/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/testtables/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTestTablesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/testtables/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/testtables/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTestTablesRead(ref IQueryable<Destination.Models.destinationTest.TestTable> items);

        public async Task<List<Destination.Models.destinationTest.TestTable>> GetTestTables(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TestTables.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTestTablesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportTestTableForDailyRoutinesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/testtablefordailyroutines/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/testtablefordailyroutines/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTestTableForDailyRoutinesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/testtablefordailyroutines/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/testtablefordailyroutines/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTestTableForDailyRoutinesRead(ref IQueryable<Destination.Models.destinationTest.TestTableForDailyRoutine> items);

        public async Task<List<Destination.Models.destinationTest.TestTableForDailyRoutine>> GetTestTableForDailyRoutines(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TestTableForDailyRoutines.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTestTableForDailyRoutinesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTestTableForDailyRoutineGet(Destination.Models.destinationTest.TestTableForDailyRoutine item);
        partial void OnGetTestTableForDailyRoutineById(ref IQueryable<Destination.Models.destinationTest.TestTableForDailyRoutine> items);


        public async Task<Destination.Models.destinationTest.TestTableForDailyRoutine> GetTestTableForDailyRoutineById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TestTableForDailyRoutines
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTestTableForDailyRoutineById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTestTableForDailyRoutineGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTestTableForDailyRoutineCreated(Destination.Models.destinationTest.TestTableForDailyRoutine item);
        partial void OnAfterTestTableForDailyRoutineCreated(Destination.Models.destinationTest.TestTableForDailyRoutine item);

        public async Task<Destination.Models.destinationTest.TestTableForDailyRoutine> CreateTestTableForDailyRoutine(Destination.Models.destinationTest.TestTableForDailyRoutine testtablefordailyroutine)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTestTableForDailyRoutineCreated(testtablefordailyroutine);

            var existingItem = context.TestTableForDailyRoutines
                              .Where(i => i.Id == testtablefordailyroutine.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TestTableForDailyRoutines.Add(testtablefordailyroutine);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(testtablefordailyroutine).State = EntityState.Detached;
                throw;
            }

            OnAfterTestTableForDailyRoutineCreated(testtablefordailyroutine);

            return testtablefordailyroutine;
        }

        public async Task<Destination.Models.destinationTest.TestTableForDailyRoutine> CancelTestTableForDailyRoutineChanges(Destination.Models.destinationTest.TestTableForDailyRoutine item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTestTableForDailyRoutineUpdated(Destination.Models.destinationTest.TestTableForDailyRoutine item);
        partial void OnAfterTestTableForDailyRoutineUpdated(Destination.Models.destinationTest.TestTableForDailyRoutine item);

        public async Task<Destination.Models.destinationTest.TestTableForDailyRoutine> UpdateTestTableForDailyRoutine(int id, Destination.Models.destinationTest.TestTableForDailyRoutine testtablefordailyroutine)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTestTableForDailyRoutineUpdated(testtablefordailyroutine);

            var itemToUpdate = context.TestTableForDailyRoutines
                              .Where(i => i.Id == testtablefordailyroutine.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(testtablefordailyroutine);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTestTableForDailyRoutineUpdated(testtablefordailyroutine);

            return testtablefordailyroutine;
        }

        partial void OnTestTableForDailyRoutineDeleted(Destination.Models.destinationTest.TestTableForDailyRoutine item);
        partial void OnAfterTestTableForDailyRoutineDeleted(Destination.Models.destinationTest.TestTableForDailyRoutine item);

        public async Task<Destination.Models.destinationTest.TestTableForDailyRoutine> DeleteTestTableForDailyRoutine(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TestTableForDailyRoutines
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTestTableForDailyRoutineDeleted(itemToDelete);


            context.TestTableForDailyRoutines.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTestTableForDailyRoutineDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTrackClosedPastBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trackclosedpastbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trackclosedpastbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTrackClosedPastBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trackclosedpastbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trackclosedpastbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTrackClosedPastBookingsRead(ref IQueryable<Destination.Models.destinationTest.TrackClosedPastBooking> items);

        public async Task<List<Destination.Models.destinationTest.TrackClosedPastBooking>> GetTrackClosedPastBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrackClosedPastBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTrackClosedPastBookingsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTrackClosedPastBookingGet(Destination.Models.destinationTest.TrackClosedPastBooking item);
        partial void OnGetTrackClosedPastBookingById(ref IQueryable<Destination.Models.destinationTest.TrackClosedPastBooking> items);


        public async Task<Destination.Models.destinationTest.TrackClosedPastBooking> GetTrackClosedPastBookingById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrackClosedPastBookings
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTrackClosedPastBookingById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTrackClosedPastBookingGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTrackClosedPastBookingCreated(Destination.Models.destinationTest.TrackClosedPastBooking item);
        partial void OnAfterTrackClosedPastBookingCreated(Destination.Models.destinationTest.TrackClosedPastBooking item);

        public async Task<Destination.Models.destinationTest.TrackClosedPastBooking> CreateTrackClosedPastBooking(Destination.Models.destinationTest.TrackClosedPastBooking trackclosedpastbooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrackClosedPastBookingCreated(trackclosedpastbooking);

            var existingItem = context.TrackClosedPastBookings
                              .Where(i => i.Id == trackclosedpastbooking.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TrackClosedPastBookings.Add(trackclosedpastbooking);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(trackclosedpastbooking).State = EntityState.Detached;
                throw;
            }

            OnAfterTrackClosedPastBookingCreated(trackclosedpastbooking);

            return trackclosedpastbooking;
        }

        public async Task<Destination.Models.destinationTest.TrackClosedPastBooking> CancelTrackClosedPastBookingChanges(Destination.Models.destinationTest.TrackClosedPastBooking item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTrackClosedPastBookingUpdated(Destination.Models.destinationTest.TrackClosedPastBooking item);
        partial void OnAfterTrackClosedPastBookingUpdated(Destination.Models.destinationTest.TrackClosedPastBooking item);

        public async Task<Destination.Models.destinationTest.TrackClosedPastBooking> UpdateTrackClosedPastBooking(int id, Destination.Models.destinationTest.TrackClosedPastBooking trackclosedpastbooking)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrackClosedPastBookingUpdated(trackclosedpastbooking);

            var itemToUpdate = context.TrackClosedPastBookings
                              .Where(i => i.Id == trackclosedpastbooking.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(trackclosedpastbooking);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTrackClosedPastBookingUpdated(trackclosedpastbooking);

            return trackclosedpastbooking;
        }

        partial void OnTrackClosedPastBookingDeleted(Destination.Models.destinationTest.TrackClosedPastBooking item);
        partial void OnAfterTrackClosedPastBookingDeleted(Destination.Models.destinationTest.TrackClosedPastBooking item);

        public async Task<Destination.Models.destinationTest.TrackClosedPastBooking> DeleteTrackClosedPastBooking(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TrackClosedPastBookings
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTrackClosedPastBookingDeleted(itemToDelete);


            context.TrackClosedPastBookings.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTrackClosedPastBookingDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTrackedCampaignsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trackedcampaigns/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trackedcampaigns/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTrackedCampaignsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trackedcampaigns/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trackedcampaigns/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTrackedCampaignsRead(ref IQueryable<Destination.Models.destinationTest.TrackedCampaign> items);

        public async Task<List<Destination.Models.destinationTest.TrackedCampaign>> GetTrackedCampaigns(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrackedCampaigns.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTrackedCampaignsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTrackedCampaignGet(Destination.Models.destinationTest.TrackedCampaign item);
        partial void OnGetTrackedCampaignById(ref IQueryable<Destination.Models.destinationTest.TrackedCampaign> items);


        public async Task<Destination.Models.destinationTest.TrackedCampaign> GetTrackedCampaignById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrackedCampaigns
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTrackedCampaignById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTrackedCampaignGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTrackedCampaignCreated(Destination.Models.destinationTest.TrackedCampaign item);
        partial void OnAfterTrackedCampaignCreated(Destination.Models.destinationTest.TrackedCampaign item);

        public async Task<Destination.Models.destinationTest.TrackedCampaign> CreateTrackedCampaign(Destination.Models.destinationTest.TrackedCampaign trackedcampaign)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrackedCampaignCreated(trackedcampaign);

            var existingItem = context.TrackedCampaigns
                              .Where(i => i.Id == trackedcampaign.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TrackedCampaigns.Add(trackedcampaign);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(trackedcampaign).State = EntityState.Detached;
                throw;
            }

            OnAfterTrackedCampaignCreated(trackedcampaign);

            return trackedcampaign;
        }

        public async Task<Destination.Models.destinationTest.TrackedCampaign> CancelTrackedCampaignChanges(Destination.Models.destinationTest.TrackedCampaign item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTrackedCampaignUpdated(Destination.Models.destinationTest.TrackedCampaign item);
        partial void OnAfterTrackedCampaignUpdated(Destination.Models.destinationTest.TrackedCampaign item);

        public async Task<Destination.Models.destinationTest.TrackedCampaign> UpdateTrackedCampaign(int id, Destination.Models.destinationTest.TrackedCampaign trackedcampaign)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrackedCampaignUpdated(trackedcampaign);

            var itemToUpdate = context.TrackedCampaigns
                              .Where(i => i.Id == trackedcampaign.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(trackedcampaign);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTrackedCampaignUpdated(trackedcampaign);

            return trackedcampaign;
        }

        partial void OnTrackedCampaignDeleted(Destination.Models.destinationTest.TrackedCampaign item);
        partial void OnAfterTrackedCampaignDeleted(Destination.Models.destinationTest.TrackedCampaign item);

        public async Task<Destination.Models.destinationTest.TrackedCampaign> DeleteTrackedCampaign(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TrackedCampaigns
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTrackedCampaignDeleted(itemToDelete);


            context.TrackedCampaigns.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTrackedCampaignDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTrackedUsersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trackedusers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trackedusers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTrackedUsersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trackedusers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trackedusers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTrackedUsersRead(ref IQueryable<Destination.Models.destinationTest.TrackedUser> items);

        public async Task<List<Destination.Models.destinationTest.TrackedUser>> GetTrackedUsers(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrackedUsers.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTrackedUsersRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTrackedUserGet(Destination.Models.destinationTest.TrackedUser item);
        partial void OnGetTrackedUserById(ref IQueryable<Destination.Models.destinationTest.TrackedUser> items);


        public async Task<Destination.Models.destinationTest.TrackedUser> GetTrackedUserById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrackedUsers
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetTrackedUserById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTrackedUserGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTrackedUserCreated(Destination.Models.destinationTest.TrackedUser item);
        partial void OnAfterTrackedUserCreated(Destination.Models.destinationTest.TrackedUser item);

        public async Task<Destination.Models.destinationTest.TrackedUser> CreateTrackedUser(Destination.Models.destinationTest.TrackedUser trackeduser)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrackedUserCreated(trackeduser);

            var existingItem = context.TrackedUsers
                              .Where(i => i.Id == trackeduser.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TrackedUsers.Add(trackeduser);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(trackeduser).State = EntityState.Detached;
                throw;
            }

            OnAfterTrackedUserCreated(trackeduser);

            return trackeduser;
        }

        public async Task<Destination.Models.destinationTest.TrackedUser> CancelTrackedUserChanges(Destination.Models.destinationTest.TrackedUser item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTrackedUserUpdated(Destination.Models.destinationTest.TrackedUser item);
        partial void OnAfterTrackedUserUpdated(Destination.Models.destinationTest.TrackedUser item);

        public async Task<Destination.Models.destinationTest.TrackedUser> UpdateTrackedUser(int id, Destination.Models.destinationTest.TrackedUser trackeduser)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrackedUserUpdated(trackeduser);

            var itemToUpdate = context.TrackedUsers
                              .Where(i => i.Id == trackeduser.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(trackeduser);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTrackedUserUpdated(trackeduser);

            return trackeduser;
        }

        partial void OnTrackedUserDeleted(Destination.Models.destinationTest.TrackedUser item);
        partial void OnAfterTrackedUserDeleted(Destination.Models.destinationTest.TrackedUser item);

        public async Task<Destination.Models.destinationTest.TrackedUser> DeleteTrackedUser(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TrackedUsers
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTrackedUserDeleted(itemToDelete);


            context.TrackedUsers.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTrackedUserDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportTrainingScoresToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trainingscores/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trainingscores/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportTrainingScoresToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/trainingscores/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/trainingscores/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnTrainingScoresRead(ref IQueryable<Destination.Models.destinationTest.TrainingScore> items);

        public async Task<List<Destination.Models.destinationTest.TrainingScore>> GetTrainingScores(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrainingScores.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnTrainingScoresRead(ref items);

return await items.ToListAsync();
        }

        partial void OnTrainingScoreGet(Destination.Models.destinationTest.TrainingScore item);
        partial void OnGetTrainingScoreByIntScoreId(ref IQueryable<Destination.Models.destinationTest.TrainingScore> items);


        public async Task<Destination.Models.destinationTest.TrainingScore> GetTrainingScoreByIntScoreId(int intscoreid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.TrainingScores
                              .AsNoTracking()
                              .Where(i => i.IntScoreId == intscoreid);

 
            OnGetTrainingScoreByIntScoreId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnTrainingScoreGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnTrainingScoreCreated(Destination.Models.destinationTest.TrainingScore item);
        partial void OnAfterTrainingScoreCreated(Destination.Models.destinationTest.TrainingScore item);

        public async Task<Destination.Models.destinationTest.TrainingScore> CreateTrainingScore(Destination.Models.destinationTest.TrainingScore trainingscore)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrainingScoreCreated(trainingscore);

            var existingItem = context.TrainingScores
                              .Where(i => i.IntScoreId == trainingscore.IntScoreId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.TrainingScores.Add(trainingscore);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(trainingscore).State = EntityState.Detached;
                throw;
            }

            OnAfterTrainingScoreCreated(trainingscore);

            return trainingscore;
        }

        public async Task<Destination.Models.destinationTest.TrainingScore> CancelTrainingScoreChanges(Destination.Models.destinationTest.TrainingScore item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnTrainingScoreUpdated(Destination.Models.destinationTest.TrainingScore item);
        partial void OnAfterTrainingScoreUpdated(Destination.Models.destinationTest.TrainingScore item);

        public async Task<Destination.Models.destinationTest.TrainingScore> UpdateTrainingScore(int intscoreid, Destination.Models.destinationTest.TrainingScore trainingscore)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnTrainingScoreUpdated(trainingscore);

            var itemToUpdate = context.TrainingScores
                              .Where(i => i.IntScoreId == trainingscore.IntScoreId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(trainingscore);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterTrainingScoreUpdated(trainingscore);

            return trainingscore;
        }

        partial void OnTrainingScoreDeleted(Destination.Models.destinationTest.TrainingScore item);
        partial void OnAfterTrainingScoreDeleted(Destination.Models.destinationTest.TrainingScore item);

        public async Task<Destination.Models.destinationTest.TrainingScore> DeleteTrainingScore(int intscoreid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.TrainingScores
                              .Where(i => i.IntScoreId == intscoreid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnTrainingScoreDeleted(itemToDelete);


            context.TrainingScores.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterTrainingScoreDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportUpdateRateHomesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/updateratehomes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/updateratehomes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportUpdateRateHomesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/updateratehomes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/updateratehomes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnUpdateRateHomesRead(ref IQueryable<Destination.Models.destinationTest.UpdateRateHome> items);

        public async Task<List<Destination.Models.destinationTest.UpdateRateHome>> GetUpdateRateHomes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.UpdateRateHomes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnUpdateRateHomesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportUtilitiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/utilities/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/utilities/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportUtilitiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/utilities/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/utilities/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnUtilitiesRead(ref IQueryable<Destination.Models.destinationTest.Utility> items);

        public async Task<List<Destination.Models.destinationTest.Utility>> GetUtilities(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Utilities.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnUtilitiesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnUtilityGet(Destination.Models.destinationTest.Utility item);
        partial void OnGetUtilityById(ref IQueryable<Destination.Models.destinationTest.Utility> items);


        public async Task<Destination.Models.destinationTest.Utility> GetUtilityById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Utilities
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetUtilityById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnUtilityGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnUtilityCreated(Destination.Models.destinationTest.Utility item);
        partial void OnAfterUtilityCreated(Destination.Models.destinationTest.Utility item);

        public async Task<Destination.Models.destinationTest.Utility> CreateUtility(Destination.Models.destinationTest.Utility utility)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnUtilityCreated(utility);

            var existingItem = context.Utilities
                              .Where(i => i.Id == utility.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Utilities.Add(utility);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(utility).State = EntityState.Detached;
                throw;
            }

            OnAfterUtilityCreated(utility);

            return utility;
        }

        public async Task<Destination.Models.destinationTest.Utility> CancelUtilityChanges(Destination.Models.destinationTest.Utility item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnUtilityUpdated(Destination.Models.destinationTest.Utility item);
        partial void OnAfterUtilityUpdated(Destination.Models.destinationTest.Utility item);

        public async Task<Destination.Models.destinationTest.Utility> UpdateUtility(int id, Destination.Models.destinationTest.Utility utility)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnUtilityUpdated(utility);

            var itemToUpdate = context.Utilities
                              .Where(i => i.Id == utility.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(utility);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterUtilityUpdated(utility);

            return utility;
        }

        partial void OnUtilityDeleted(Destination.Models.destinationTest.Utility item);
        partial void OnAfterUtilityDeleted(Destination.Models.destinationTest.Utility item);

        public async Task<Destination.Models.destinationTest.Utility> DeleteUtility(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Utilities
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnUtilityDeleted(itemToDelete);


            context.Utilities.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterUtilityDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportUvGetBackToBackCheckInsPerDaysToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgetbacktobackcheckinsperdays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgetbacktobackcheckinsperdays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportUvGetBackToBackCheckInsPerDaysToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgetbacktobackcheckinsperdays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgetbacktobackcheckinsperdays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnUvGetBackToBackCheckInsPerDaysRead(ref IQueryable<Destination.Models.destinationTest.UvGetBackToBackCheckInsPerDay> items);

        public async Task<List<Destination.Models.destinationTest.UvGetBackToBackCheckInsPerDay>> GetUvGetBackToBackCheckInsPerDays(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.UvGetBackToBackCheckInsPerDays.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnUvGetBackToBackCheckInsPerDaysRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportUvGetBookingBackToBackCountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgetbookingbacktobackcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgetbookingbacktobackcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportUvGetBookingBackToBackCountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgetbookingbacktobackcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgetbookingbacktobackcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnUvGetBookingBackToBackCountsRead(ref IQueryable<Destination.Models.destinationTest.UvGetBookingBackToBackCount> items);

        public async Task<List<Destination.Models.destinationTest.UvGetBookingBackToBackCount>> GetUvGetBookingBackToBackCounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.UvGetBookingBackToBackCounts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnUvGetBookingBackToBackCountsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportUvGetBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgetbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgetbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportUvGetBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgetbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgetbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnUvGetBookingsRead(ref IQueryable<Destination.Models.destinationTest.UvGetBooking> items);

        public async Task<List<Destination.Models.destinationTest.UvGetBooking>> GetUvGetBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.UvGetBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnUvGetBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportUvGetTotalCheckInsPerDaysToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgettotalcheckinsperdays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgettotalcheckinsperdays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportUvGetTotalCheckInsPerDaysToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/uvgettotalcheckinsperdays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/uvgettotalcheckinsperdays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnUvGetTotalCheckInsPerDaysRead(ref IQueryable<Destination.Models.destinationTest.UvGetTotalCheckInsPerDay> items);

        public async Task<List<Destination.Models.destinationTest.UvGetTotalCheckInsPerDay>> GetUvGetTotalCheckInsPerDays(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.UvGetTotalCheckInsPerDays.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnUvGetTotalCheckInsPerDaysRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVRecordsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrecords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrecords/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVRecordsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrecords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrecords/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVRecordsRead(ref IQueryable<Destination.Models.destinationTest.VRecord> items);

        public async Task<List<Destination.Models.destinationTest.VRecord>> GetVRecords(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VRecords.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVRecordsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportViewRevenuesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/viewrevenues/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/viewrevenues/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportViewRevenuesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/viewrevenues/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/viewrevenues/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnViewRevenuesRead(ref IQueryable<Destination.Models.destinationTest.ViewRevenue> items);

        public async Task<List<Destination.Models.destinationTest.ViewRevenue>> GetViewRevenues(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.ViewRevenues.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnViewRevenuesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVoiceMailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/voicemails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/voicemails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVoiceMailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/voicemails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/voicemails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVoiceMailsRead(ref IQueryable<Destination.Models.destinationTest.VoiceMail> items);

        public async Task<List<Destination.Models.destinationTest.VoiceMail>> GetVoiceMails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VoiceMails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVoiceMailsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVonageTsheetsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vonagetsheets/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vonagetsheets/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVonageTsheetsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vonagetsheets/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vonagetsheets/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVonageTsheetsRead(ref IQueryable<Destination.Models.destinationTest.VonageTsheet> items);

        public async Task<List<Destination.Models.destinationTest.VonageTsheet>> GetVonageTsheets(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VonageTsheets.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVonageTsheetsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnVonageTsheetGet(Destination.Models.destinationTest.VonageTsheet item);
        partial void OnGetVonageTsheetById(ref IQueryable<Destination.Models.destinationTest.VonageTsheet> items);


        public async Task<Destination.Models.destinationTest.VonageTsheet> GetVonageTsheetById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VonageTsheets
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetVonageTsheetById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnVonageTsheetGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnVonageTsheetCreated(Destination.Models.destinationTest.VonageTsheet item);
        partial void OnAfterVonageTsheetCreated(Destination.Models.destinationTest.VonageTsheet item);

        public async Task<Destination.Models.destinationTest.VonageTsheet> CreateVonageTsheet(Destination.Models.destinationTest.VonageTsheet vonagetsheet)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVonageTsheetCreated(vonagetsheet);

            var existingItem = context.VonageTsheets
                              .Where(i => i.Id == vonagetsheet.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.VonageTsheets.Add(vonagetsheet);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(vonagetsheet).State = EntityState.Detached;
                throw;
            }

            OnAfterVonageTsheetCreated(vonagetsheet);

            return vonagetsheet;
        }

        public async Task<Destination.Models.destinationTest.VonageTsheet> CancelVonageTsheetChanges(Destination.Models.destinationTest.VonageTsheet item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnVonageTsheetUpdated(Destination.Models.destinationTest.VonageTsheet item);
        partial void OnAfterVonageTsheetUpdated(Destination.Models.destinationTest.VonageTsheet item);

        public async Task<Destination.Models.destinationTest.VonageTsheet> UpdateVonageTsheet(int id, Destination.Models.destinationTest.VonageTsheet vonagetsheet)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVonageTsheetUpdated(vonagetsheet);

            var itemToUpdate = context.VonageTsheets
                              .Where(i => i.Id == vonagetsheet.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(vonagetsheet);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterVonageTsheetUpdated(vonagetsheet);

            return vonagetsheet;
        }

        partial void OnVonageTsheetDeleted(Destination.Models.destinationTest.VonageTsheet item);
        partial void OnAfterVonageTsheetDeleted(Destination.Models.destinationTest.VonageTsheet item);

        public async Task<Destination.Models.destinationTest.VonageTsheet> DeleteVonageTsheet(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.VonageTsheets
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnVonageTsheetDeleted(itemToDelete);


            context.VonageTsheets.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterVonageTsheetDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportVrboErrorLogForBookingRequestsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboerrorlogforbookingrequests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboerrorlogforbookingrequests/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVrboErrorLogForBookingRequestsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboerrorlogforbookingrequests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboerrorlogforbookingrequests/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVrboErrorLogForBookingRequestsRead(ref IQueryable<Destination.Models.destinationTest.VrboErrorLogForBookingRequest> items);

        public async Task<List<Destination.Models.destinationTest.VrboErrorLogForBookingRequest>> GetVrboErrorLogForBookingRequests(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboErrorLogForBookingRequests.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVrboErrorLogForBookingRequestsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVrboauditsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboaudits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboaudits/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVrboauditsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboaudits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboaudits/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVrboauditsRead(ref IQueryable<Destination.Models.destinationTest.Vrboaudit> items);

        public async Task<List<Destination.Models.destinationTest.Vrboaudit>> GetVrboaudits(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Vrboaudits.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVrboauditsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnVrboauditGet(Destination.Models.destinationTest.Vrboaudit item);
        partial void OnGetVrboauditById(ref IQueryable<Destination.Models.destinationTest.Vrboaudit> items);


        public async Task<Destination.Models.destinationTest.Vrboaudit> GetVrboauditById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Vrboaudits
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetVrboauditById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnVrboauditGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnVrboauditCreated(Destination.Models.destinationTest.Vrboaudit item);
        partial void OnAfterVrboauditCreated(Destination.Models.destinationTest.Vrboaudit item);

        public async Task<Destination.Models.destinationTest.Vrboaudit> CreateVrboaudit(Destination.Models.destinationTest.Vrboaudit vrboaudit)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboauditCreated(vrboaudit);

            var existingItem = context.Vrboaudits
                              .Where(i => i.Id == vrboaudit.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Vrboaudits.Add(vrboaudit);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(vrboaudit).State = EntityState.Detached;
                throw;
            }

            OnAfterVrboauditCreated(vrboaudit);

            return vrboaudit;
        }

        public async Task<Destination.Models.destinationTest.Vrboaudit> CancelVrboauditChanges(Destination.Models.destinationTest.Vrboaudit item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnVrboauditUpdated(Destination.Models.destinationTest.Vrboaudit item);
        partial void OnAfterVrboauditUpdated(Destination.Models.destinationTest.Vrboaudit item);

        public async Task<Destination.Models.destinationTest.Vrboaudit> UpdateVrboaudit(int id, Destination.Models.destinationTest.Vrboaudit vrboaudit)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboauditUpdated(vrboaudit);

            var itemToUpdate = context.Vrboaudits
                              .Where(i => i.Id == vrboaudit.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(vrboaudit);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterVrboauditUpdated(vrboaudit);

            return vrboaudit;
        }

        partial void OnVrboauditDeleted(Destination.Models.destinationTest.Vrboaudit item);
        partial void OnAfterVrboauditDeleted(Destination.Models.destinationTest.Vrboaudit item);

        public async Task<Destination.Models.destinationTest.Vrboaudit> DeleteVrboaudit(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Vrboaudits
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnVrboauditDeleted(itemToDelete);


            context.Vrboaudits.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterVrboauditDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportVrboimagesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimages/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVrboimagesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimages/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVrboimagesRead(ref IQueryable<Destination.Models.destinationTest.Vrboimage> items);

        public async Task<List<Destination.Models.destinationTest.Vrboimage>> GetVrboimages(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Vrboimages.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVrboimagesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnVrboimageGet(Destination.Models.destinationTest.Vrboimage item);
        partial void OnGetVrboimageById(ref IQueryable<Destination.Models.destinationTest.Vrboimage> items);


        public async Task<Destination.Models.destinationTest.Vrboimage> GetVrboimageById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Vrboimages
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetVrboimageById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnVrboimageGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnVrboimageCreated(Destination.Models.destinationTest.Vrboimage item);
        partial void OnAfterVrboimageCreated(Destination.Models.destinationTest.Vrboimage item);

        public async Task<Destination.Models.destinationTest.Vrboimage> CreateVrboimage(Destination.Models.destinationTest.Vrboimage vrboimage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboimageCreated(vrboimage);

            var existingItem = context.Vrboimages
                              .Where(i => i.Id == vrboimage.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Vrboimages.Add(vrboimage);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(vrboimage).State = EntityState.Detached;
                throw;
            }

            OnAfterVrboimageCreated(vrboimage);

            return vrboimage;
        }

        public async Task<Destination.Models.destinationTest.Vrboimage> CancelVrboimageChanges(Destination.Models.destinationTest.Vrboimage item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnVrboimageUpdated(Destination.Models.destinationTest.Vrboimage item);
        partial void OnAfterVrboimageUpdated(Destination.Models.destinationTest.Vrboimage item);

        public async Task<Destination.Models.destinationTest.Vrboimage> UpdateVrboimage(int id, Destination.Models.destinationTest.Vrboimage vrboimage)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboimageUpdated(vrboimage);

            var itemToUpdate = context.Vrboimages
                              .Where(i => i.Id == vrboimage.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(vrboimage);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterVrboimageUpdated(vrboimage);

            return vrboimage;
        }

        partial void OnVrboimageDeleted(Destination.Models.destinationTest.Vrboimage item);
        partial void OnAfterVrboimageDeleted(Destination.Models.destinationTest.Vrboimage item);

        public async Task<Destination.Models.destinationTest.Vrboimage> DeleteVrboimage(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Vrboimages
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnVrboimageDeleted(itemToDelete);


            context.Vrboimages.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterVrboimageDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportVrboImage1SToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimage1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimage1s/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVrboImage1SToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimage1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimage1s/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVrboImage1SRead(ref IQueryable<Destination.Models.destinationTest.VrboImage1> items);

        public async Task<List<Destination.Models.destinationTest.VrboImage1>> GetVrboImage1S(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboImage1S.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVrboImage1SRead(ref items);

return await items.ToListAsync();
        }

        partial void OnVrboImage1Get(Destination.Models.destinationTest.VrboImage1 item);
        partial void OnGetVrboImage1ById(ref IQueryable<Destination.Models.destinationTest.VrboImage1> items);


        public async Task<Destination.Models.destinationTest.VrboImage1> GetVrboImage1ById(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboImage1S
                              .AsNoTracking()
                              .Where(i => i.Id == id);

 
            OnGetVrboImage1ById(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnVrboImage1Get(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnVrboImage1Created(Destination.Models.destinationTest.VrboImage1 item);
        partial void OnAfterVrboImage1Created(Destination.Models.destinationTest.VrboImage1 item);

        public async Task<Destination.Models.destinationTest.VrboImage1> CreateVrboImage1(Destination.Models.destinationTest.VrboImage1 vrboimage1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboImage1Created(vrboimage1);

            var existingItem = context.VrboImage1S
                              .Where(i => i.Id == vrboimage1.Id)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.VrboImage1S.Add(vrboimage1);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(vrboimage1).State = EntityState.Detached;
                throw;
            }

            OnAfterVrboImage1Created(vrboimage1);

            return vrboimage1;
        }

        public async Task<Destination.Models.destinationTest.VrboImage1> CancelVrboImage1Changes(Destination.Models.destinationTest.VrboImage1 item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnVrboImage1Updated(Destination.Models.destinationTest.VrboImage1 item);
        partial void OnAfterVrboImage1Updated(Destination.Models.destinationTest.VrboImage1 item);

        public async Task<Destination.Models.destinationTest.VrboImage1> UpdateVrboImage1(int id, Destination.Models.destinationTest.VrboImage1 vrboimage1)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboImage1Updated(vrboimage1);

            var itemToUpdate = context.VrboImage1S
                              .Where(i => i.Id == vrboimage1.Id)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(vrboimage1);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterVrboImage1Updated(vrboimage1);

            return vrboimage1;
        }

        partial void OnVrboImage1Deleted(Destination.Models.destinationTest.VrboImage1 item);
        partial void OnAfterVrboImage1Deleted(Destination.Models.destinationTest.VrboImage1 item);

        public async Task<Destination.Models.destinationTest.VrboImage1> DeleteVrboImage1(int id)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.VrboImage1S
                              .Where(i => i.Id == id)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnVrboImage1Deleted(itemToDelete);


            context.VrboImage1S.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterVrboImage1Deleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportVrboimageDetailsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimagedetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimagedetails/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVrboimageDetailsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimagedetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimagedetails/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVrboimageDetailsRead(ref IQueryable<Destination.Models.destinationTest.VrboimageDetail> items);

        public async Task<List<Destination.Models.destinationTest.VrboimageDetail>> GetVrboimageDetails(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboimageDetails.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVrboimageDetailsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnVrboimageDetailGet(Destination.Models.destinationTest.VrboimageDetail item);
        partial void OnGetVrboimageDetailByImageId(ref IQueryable<Destination.Models.destinationTest.VrboimageDetail> items);


        public async Task<Destination.Models.destinationTest.VrboimageDetail> GetVrboimageDetailByImageId(int imageid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboimageDetails
                              .AsNoTracking()
                              .Where(i => i.ImageId == imageid);

 
            OnGetVrboimageDetailByImageId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnVrboimageDetailGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnVrboimageDetailCreated(Destination.Models.destinationTest.VrboimageDetail item);
        partial void OnAfterVrboimageDetailCreated(Destination.Models.destinationTest.VrboimageDetail item);

        public async Task<Destination.Models.destinationTest.VrboimageDetail> CreateVrboimageDetail(Destination.Models.destinationTest.VrboimageDetail vrboimagedetail)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboimageDetailCreated(vrboimagedetail);

            var existingItem = context.VrboimageDetails
                              .Where(i => i.ImageId == vrboimagedetail.ImageId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.VrboimageDetails.Add(vrboimagedetail);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(vrboimagedetail).State = EntityState.Detached;
                throw;
            }

            OnAfterVrboimageDetailCreated(vrboimagedetail);

            return vrboimagedetail;
        }

        public async Task<Destination.Models.destinationTest.VrboimageDetail> CancelVrboimageDetailChanges(Destination.Models.destinationTest.VrboimageDetail item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnVrboimageDetailUpdated(Destination.Models.destinationTest.VrboimageDetail item);
        partial void OnAfterVrboimageDetailUpdated(Destination.Models.destinationTest.VrboimageDetail item);

        public async Task<Destination.Models.destinationTest.VrboimageDetail> UpdateVrboimageDetail(int imageid, Destination.Models.destinationTest.VrboimageDetail vrboimagedetail)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboimageDetailUpdated(vrboimagedetail);

            var itemToUpdate = context.VrboimageDetails
                              .Where(i => i.ImageId == vrboimagedetail.ImageId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(vrboimagedetail);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterVrboimageDetailUpdated(vrboimagedetail);

            return vrboimagedetail;
        }

        partial void OnVrboimageDetailDeleted(Destination.Models.destinationTest.VrboimageDetail item);
        partial void OnAfterVrboimageDetailDeleted(Destination.Models.destinationTest.VrboimageDetail item);

        public async Task<Destination.Models.destinationTest.VrboimageDetail> DeleteVrboimageDetail(int imageid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.VrboimageDetails
                              .Where(i => i.ImageId == imageid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnVrboimageDetailDeleted(itemToDelete);


            context.VrboimageDetails.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterVrboimageDetailDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportVrboImageDetailBackupsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimagedetailbackups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimagedetailbackups/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVrboImageDetailBackupsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboimagedetailbackups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboimagedetailbackups/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVrboImageDetailBackupsRead(ref IQueryable<Destination.Models.destinationTest.VrboImageDetailBackup> items);

        public async Task<List<Destination.Models.destinationTest.VrboImageDetailBackup>> GetVrboImageDetailBackups(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboImageDetailBackups.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVrboImageDetailBackupsRead(ref items);

return await items.ToListAsync();
        }

        partial void OnVrboImageDetailBackupGet(Destination.Models.destinationTest.VrboImageDetailBackup item);
        partial void OnGetVrboImageDetailBackupByImageId(ref IQueryable<Destination.Models.destinationTest.VrboImageDetailBackup> items);


        public async Task<Destination.Models.destinationTest.VrboImageDetailBackup> GetVrboImageDetailBackupByImageId(int imageid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboImageDetailBackups
                              .AsNoTracking()
                              .Where(i => i.ImageId == imageid);

 
            OnGetVrboImageDetailBackupByImageId(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnVrboImageDetailBackupGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnVrboImageDetailBackupCreated(Destination.Models.destinationTest.VrboImageDetailBackup item);
        partial void OnAfterVrboImageDetailBackupCreated(Destination.Models.destinationTest.VrboImageDetailBackup item);

        public async Task<Destination.Models.destinationTest.VrboImageDetailBackup> CreateVrboImageDetailBackup(Destination.Models.destinationTest.VrboImageDetailBackup vrboimagedetailbackup)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboImageDetailBackupCreated(vrboimagedetailbackup);

            var existingItem = context.VrboImageDetailBackups
                              .Where(i => i.ImageId == vrboimagedetailbackup.ImageId)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.VrboImageDetailBackups.Add(vrboimagedetailbackup);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(vrboimagedetailbackup).State = EntityState.Detached;
                throw;
            }

            OnAfterVrboImageDetailBackupCreated(vrboimagedetailbackup);

            return vrboimagedetailbackup;
        }

        public async Task<Destination.Models.destinationTest.VrboImageDetailBackup> CancelVrboImageDetailBackupChanges(Destination.Models.destinationTest.VrboImageDetailBackup item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnVrboImageDetailBackupUpdated(Destination.Models.destinationTest.VrboImageDetailBackup item);
        partial void OnAfterVrboImageDetailBackupUpdated(Destination.Models.destinationTest.VrboImageDetailBackup item);

        public async Task<Destination.Models.destinationTest.VrboImageDetailBackup> UpdateVrboImageDetailBackup(int imageid, Destination.Models.destinationTest.VrboImageDetailBackup vrboimagedetailbackup)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboImageDetailBackupUpdated(vrboimagedetailbackup);

            var itemToUpdate = context.VrboImageDetailBackups
                              .Where(i => i.ImageId == vrboimagedetailbackup.ImageId)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(vrboimagedetailbackup);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterVrboImageDetailBackupUpdated(vrboimagedetailbackup);

            return vrboimagedetailbackup;
        }

        partial void OnVrboImageDetailBackupDeleted(Destination.Models.destinationTest.VrboImageDetailBackup item);
        partial void OnAfterVrboImageDetailBackupDeleted(Destination.Models.destinationTest.VrboImageDetailBackup item);

        public async Task<Destination.Models.destinationTest.VrboImageDetailBackup> DeleteVrboImageDetailBackup(int imageid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.VrboImageDetailBackups
                              .Where(i => i.ImageId == imageid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnVrboImageDetailBackupDeleted(itemToDelete);


            context.VrboImageDetailBackups.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterVrboImageDetailBackupDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportVrboPropertiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboproperties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboproperties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVrboPropertiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vrboproperties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vrboproperties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVrboPropertiesRead(ref IQueryable<Destination.Models.destinationTest.VrboProperty> items);

        public async Task<List<Destination.Models.destinationTest.VrboProperty>> GetVrboProperties(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboProperties.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVrboPropertiesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnVrboPropertyGet(Destination.Models.destinationTest.VrboProperty item);
        partial void OnGetVrboPropertyByPid(ref IQueryable<Destination.Models.destinationTest.VrboProperty> items);


        public async Task<Destination.Models.destinationTest.VrboProperty> GetVrboPropertyByPid(int pid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VrboProperties
                              .AsNoTracking()
                              .Where(i => i.Pid == pid);

 
            OnGetVrboPropertyByPid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnVrboPropertyGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnVrboPropertyCreated(Destination.Models.destinationTest.VrboProperty item);
        partial void OnAfterVrboPropertyCreated(Destination.Models.destinationTest.VrboProperty item);

        public async Task<Destination.Models.destinationTest.VrboProperty> CreateVrboProperty(Destination.Models.destinationTest.VrboProperty vrboproperty)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboPropertyCreated(vrboproperty);

            var existingItem = context.VrboProperties
                              .Where(i => i.Pid == vrboproperty.Pid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.VrboProperties.Add(vrboproperty);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(vrboproperty).State = EntityState.Detached;
                throw;
            }

            OnAfterVrboPropertyCreated(vrboproperty);

            return vrboproperty;
        }

        public async Task<Destination.Models.destinationTest.VrboProperty> CancelVrboPropertyChanges(Destination.Models.destinationTest.VrboProperty item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnVrboPropertyUpdated(Destination.Models.destinationTest.VrboProperty item);
        partial void OnAfterVrboPropertyUpdated(Destination.Models.destinationTest.VrboProperty item);

        public async Task<Destination.Models.destinationTest.VrboProperty> UpdateVrboProperty(int pid, Destination.Models.destinationTest.VrboProperty vrboproperty)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnVrboPropertyUpdated(vrboproperty);

            var itemToUpdate = context.VrboProperties
                              .Where(i => i.Pid == vrboproperty.Pid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(vrboproperty);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterVrboPropertyUpdated(vrboproperty);

            return vrboproperty;
        }

        partial void OnVrboPropertyDeleted(Destination.Models.destinationTest.VrboProperty item);
        partial void OnAfterVrboPropertyDeleted(Destination.Models.destinationTest.VrboProperty item);

        public async Task<Destination.Models.destinationTest.VrboProperty> DeleteVrboProperty(int pid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.VrboProperties
                              .Where(i => i.Pid == pid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnVrboPropertyDeleted(itemToDelete);


            context.VrboProperties.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterVrboPropertyDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportVwCleanedStatusCheckOutTodaysToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwcleanedstatuscheckouttodays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwcleanedstatuscheckouttodays/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwCleanedStatusCheckOutTodaysToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwcleanedstatuscheckouttodays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwcleanedstatuscheckouttodays/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwCleanedStatusCheckOutTodaysRead(ref IQueryable<Destination.Models.destinationTest.VwCleanedStatusCheckOutToday> items);

        public async Task<List<Destination.Models.destinationTest.VwCleanedStatusCheckOutToday>> GetVwCleanedStatusCheckOutTodays(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwCleanedStatusCheckOutTodays.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwCleanedStatusCheckOutTodaysRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwCurrentlyOccupiedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwcurrentlyoccupieds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwcurrentlyoccupieds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwCurrentlyOccupiedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwcurrentlyoccupieds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwcurrentlyoccupieds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwCurrentlyOccupiedsRead(ref IQueryable<Destination.Models.destinationTest.VwCurrentlyOccupied> items);

        public async Task<List<Destination.Models.destinationTest.VwCurrentlyOccupied>> GetVwCurrentlyOccupieds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwCurrentlyOccupieds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwCurrentlyOccupiedsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwFutureBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwfuturebookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwfuturebookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwFutureBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwfuturebookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwfuturebookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwFutureBookingsRead(ref IQueryable<Destination.Models.destinationTest.VwFutureBooking> items);

        public async Task<List<Destination.Models.destinationTest.VwFutureBooking>> GetVwFutureBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwFutureBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwFutureBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetCommMaxesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetcommmaxes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetcommmaxes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetCommMaxesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetcommmaxes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetcommmaxes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetCommMaxesRead(ref IQueryable<Destination.Models.destinationTest.VwGetCommMax> items);

        public async Task<List<Destination.Models.destinationTest.VwGetCommMax>> GetVwGetCommMaxes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetCommMaxes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetCommMaxesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetMinuteDifferencesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetminutedifferences/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetminutedifferences/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetMinuteDifferencesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetminutedifferences/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetminutedifferences/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetMinuteDifferencesRead(ref IQueryable<Destination.Models.destinationTest.VwGetMinuteDifference> items);

        public async Task<List<Destination.Models.destinationTest.VwGetMinuteDifference>> GetVwGetMinuteDifferences(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetMinuteDifferences.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetMinuteDifferencesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetTrackedUsersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettrackedusers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettrackedusers/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetTrackedUsersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettrackedusers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettrackedusers/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetTrackedUsersRead(ref IQueryable<Destination.Models.destinationTest.VwGetTrackedUser> items);

        public async Task<List<Destination.Models.destinationTest.VwGetTrackedUser>> GetVwGetTrackedUsers(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetTrackedUsers.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetTrackedUsersRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetAirbnbDepositsInfosToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetairbnbdepositsinfos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetairbnbdepositsinfos/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetAirbnbDepositsInfosToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetairbnbdepositsinfos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetairbnbdepositsinfos/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetAirbnbDepositsInfosRead(ref IQueryable<Destination.Models.destinationTest.VwGetAirbnbDepositsInfo> items);

        public async Task<List<Destination.Models.destinationTest.VwGetAirbnbDepositsInfo>> GetVwGetAirbnbDepositsInfos(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetAirbnbDepositsInfos.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetAirbnbDepositsInfosRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetAllPropertyStatusesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetallpropertystatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetallpropertystatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetAllPropertyStatusesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetallpropertystatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetallpropertystatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetAllPropertyStatusesRead(ref IQueryable<Destination.Models.destinationTest.VwGetAllPropertyStatus> items);

        public async Task<List<Destination.Models.destinationTest.VwGetAllPropertyStatus>> GetVwGetAllPropertyStatuses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetAllPropertyStatuses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetAllPropertyStatusesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetClosestBookingWithCleaningStatusesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetclosestbookingwithcleaningstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetclosestbookingwithcleaningstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetClosestBookingWithCleaningStatusesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetclosestbookingwithcleaningstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetclosestbookingwithcleaningstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetClosestBookingWithCleaningStatusesRead(ref IQueryable<Destination.Models.destinationTest.VwGetClosestBookingWithCleaningStatus> items);

        public async Task<List<Destination.Models.destinationTest.VwGetClosestBookingWithCleaningStatus>> GetVwGetClosestBookingWithCleaningStatuses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetClosestBookingWithCleaningStatuses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetClosestBookingWithCleaningStatusesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetclosestwithCleanersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetclosestwithcleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetclosestwithcleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetclosestwithCleanersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetclosestwithcleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetclosestwithcleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetclosestwithCleanersRead(ref IQueryable<Destination.Models.destinationTest.VwGetclosestwithCleaner> items);

        public async Task<List<Destination.Models.destinationTest.VwGetclosestwithCleaner>> GetVwGetclosestwithCleaners(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetclosestwithCleaners.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetclosestwithCleanersRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetclosestwithDatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetclosestwithdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetclosestwithdates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetclosestwithDatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetclosestwithdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetclosestwithdates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetclosestwithDatesRead(ref IQueryable<Destination.Models.destinationTest.VwGetclosestwithDate> items);

        public async Task<List<Destination.Models.destinationTest.VwGetclosestwithDate>> GetVwGetclosestwithDates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetclosestwithDates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetclosestwithDatesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetCommMaxes1ToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetcommmaxes1/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetcommmaxes1/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetCommMaxes1ToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetcommmaxes1/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetcommmaxes1/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetCommMaxes1Read(ref IQueryable<Destination.Models.destinationTest.VwGetCommMax1> items);

        public async Task<List<Destination.Models.destinationTest.VwGetCommMax1>> GetVwGetCommMaxes1(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetCommMaxes1.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetCommMaxes1Read(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetDoorCodeLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetdoorcodelogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetdoorcodelogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetDoorCodeLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetdoorcodelogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetdoorcodelogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetDoorCodeLogsRead(ref IQueryable<Destination.Models.destinationTest.VwGetDoorCodeLog> items);

        public async Task<List<Destination.Models.destinationTest.VwGetDoorCodeLog>> GetVwGetDoorCodeLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetDoorCodeLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetDoorCodeLogsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetInquiryDatesForBookingsDashboardQueriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetinquirydatesforbookingsdashboardqueries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetinquirydatesforbookingsdashboardqueries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetInquiryDatesForBookingsDashboardQueriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetinquirydatesforbookingsdashboardqueries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetinquirydatesforbookingsdashboardqueries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetInquiryDatesForBookingsDashboardQueriesRead(ref IQueryable<Destination.Models.destinationTest.VwGetInquiryDatesForBookingsDashboardQuery> items);

        public async Task<List<Destination.Models.destinationTest.VwGetInquiryDatesForBookingsDashboardQuery>> GetVwGetInquiryDatesForBookingsDashboardQueries(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetInquiryDatesForBookingsDashboardQueries.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetInquiryDatesForBookingsDashboardQueriesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetInspectionDateMgtForAllActivePropsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetinspectiondatemgtforallactiveprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetinspectiondatemgtforallactiveprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetInspectionDateMgtForAllActivePropsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetinspectiondatemgtforallactiveprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetinspectiondatemgtforallactiveprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetInspectionDateMgtForAllActivePropsRead(ref IQueryable<Destination.Models.destinationTest.VwGetInspectionDateMgtForAllActiveProp> items);

        public async Task<List<Destination.Models.destinationTest.VwGetInspectionDateMgtForAllActiveProp>> GetVwGetInspectionDateMgtForAllActiveProps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetInspectionDateMgtForAllActiveProps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetInspectionDateMgtForAllActivePropsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetlast3MonthsTotalsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast3monthstotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast3monthstotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetlast3MonthsTotalsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast3monthstotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast3monthstotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetlast3MonthsTotalsRead(ref IQueryable<Destination.Models.destinationTest.VwGetlast3MonthsTotal> items);

        public async Task<List<Destination.Models.destinationTest.VwGetlast3MonthsTotal>> GetVwGetlast3MonthsTotals(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetlast3MonthsTotals.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetlast3MonthsTotalsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetlast3MonthsTotalPiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast3monthstotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast3monthstotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetlast3MonthsTotalPiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast3monthstotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast3monthstotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetlast3MonthsTotalPiesRead(ref IQueryable<Destination.Models.destinationTest.VwGetlast3MonthsTotalPy> items);

        public async Task<List<Destination.Models.destinationTest.VwGetlast3MonthsTotalPy>> GetVwGetlast3MonthsTotalPies(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetlast3MonthsTotalPies.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetlast3MonthsTotalPiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetlast6MonthsTotalsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast6monthstotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast6monthstotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetlast6MonthsTotalsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast6monthstotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast6monthstotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetlast6MonthsTotalsRead(ref IQueryable<Destination.Models.destinationTest.VwGetlast6MonthsTotal> items);

        public async Task<List<Destination.Models.destinationTest.VwGetlast6MonthsTotal>> GetVwGetlast6MonthsTotals(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetlast6MonthsTotals.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetlast6MonthsTotalsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetlast6MonthsTotalPiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast6monthstotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast6monthstotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetlast6MonthsTotalPiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlast6monthstotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlast6monthstotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetlast6MonthsTotalPiesRead(ref IQueryable<Destination.Models.destinationTest.VwGetlast6MonthsTotalPy> items);

        public async Task<List<Destination.Models.destinationTest.VwGetlast6MonthsTotalPy>> GetVwGetlast6MonthsTotalPies(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetlast6MonthsTotalPies.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetlast6MonthsTotalPiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetLastCleanedDateForAllActivePropsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastcleaneddateforallactiveprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastcleaneddateforallactiveprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetLastCleanedDateForAllActivePropsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastcleaneddateforallactiveprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastcleaneddateforallactiveprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetLastCleanedDateForAllActivePropsRead(ref IQueryable<Destination.Models.destinationTest.VwGetLastCleanedDateForAllActiveProp> items);

        public async Task<List<Destination.Models.destinationTest.VwGetLastCleanedDateForAllActiveProp>> GetVwGetLastCleanedDateForAllActiveProps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetLastCleanedDateForAllActiveProps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetLastCleanedDateForAllActivePropsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetLastCleanersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastcleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastcleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetLastCleanersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastcleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastcleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetLastCleanersRead(ref IQueryable<Destination.Models.destinationTest.VwGetLastCleaner> items);

        public async Task<List<Destination.Models.destinationTest.VwGetLastCleaner>> GetVwGetLastCleaners(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetLastCleaners.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetLastCleanersRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetLastDateCompletedFromExpensesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastdatecompletedfromexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastdatecompletedfromexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetLastDateCompletedFromExpensesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastdatecompletedfromexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastdatecompletedfromexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetLastDateCompletedFromExpensesRead(ref IQueryable<Destination.Models.destinationTest.VwGetLastDateCompletedFromExpense> items);

        public async Task<List<Destination.Models.destinationTest.VwGetLastDateCompletedFromExpense>> GetVwGetLastDateCompletedFromExpenses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetLastDateCompletedFromExpenses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetLastDateCompletedFromExpensesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetLastInspectedDateForAllActivePropsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastinspecteddateforallactiveprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastinspecteddateforallactiveprops/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetLastInspectedDateForAllActivePropsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastinspecteddateforallactiveprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastinspecteddateforallactiveprops/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetLastInspectedDateForAllActivePropsRead(ref IQueryable<Destination.Models.destinationTest.VwGetLastInspectedDateForAllActiveProp> items);

        public async Task<List<Destination.Models.destinationTest.VwGetLastInspectedDateForAllActiveProp>> GetVwGetLastInspectedDateForAllActiveProps(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetLastInspectedDateForAllActiveProps.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetLastInspectedDateForAllActivePropsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetLastRateChangedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastratechangeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastratechangeds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetLastRateChangedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastratechangeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastratechangeds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetLastRateChangedsRead(ref IQueryable<Destination.Models.destinationTest.VwGetLastRateChanged> items);

        public async Task<List<Destination.Models.destinationTest.VwGetLastRateChanged>> GetVwGetLastRateChangeds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetLastRateChangeds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetLastRateChangedsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetlastyearTotalsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastyeartotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastyeartotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetlastyearTotalsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastyeartotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastyeartotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetlastyearTotalsRead(ref IQueryable<Destination.Models.destinationTest.VwGetlastyearTotal> items);

        public async Task<List<Destination.Models.destinationTest.VwGetlastyearTotal>> GetVwGetlastyearTotals(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetlastyearTotals.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetlastyearTotalsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetlastyearTotalPiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastyeartotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastyeartotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetlastyearTotalPiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetlastyeartotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetlastyeartotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetlastyearTotalPiesRead(ref IQueryable<Destination.Models.destinationTest.VwGetlastyearTotalPy> items);

        public async Task<List<Destination.Models.destinationTest.VwGetlastyearTotalPy>> GetVwGetlastyearTotalPies(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetlastyearTotalPies.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetlastyearTotalPiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetNetSumsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetnetsums/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetnetsums/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetNetSumsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetnetsums/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetnetsums/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetNetSumsRead(ref IQueryable<Destination.Models.destinationTest.VwGetNetSum> items);

        public async Task<List<Destination.Models.destinationTest.VwGetNetSum>> GetVwGetNetSums(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetNetSums.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetNetSumsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetNextBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetnextbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetnextbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetNextBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetnextbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetnextbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetNextBookingsRead(ref IQueryable<Destination.Models.destinationTest.VwGetNextBooking> items);

        public async Task<List<Destination.Models.destinationTest.VwGetNextBooking>> GetVwGetNextBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetNextBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetNextBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetNextOwnerBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetnextownerbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetnextownerbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetNextOwnerBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetnextownerbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetnextownerbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetNextOwnerBookingsRead(ref IQueryable<Destination.Models.destinationTest.VwGetNextOwnerBooking> items);

        public async Task<List<Destination.Models.destinationTest.VwGetNextOwnerBooking>> GetVwGetNextOwnerBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetNextOwnerBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetNextOwnerBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPropClosestDatewithCleanersToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropclosestdatewithcleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropclosestdatewithcleaners/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPropClosestDatewithCleanersToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropclosestdatewithcleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropclosestdatewithcleaners/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPropClosestDatewithCleanersRead(ref IQueryable<Destination.Models.destinationTest.VwGetPropClosestDatewithCleaner> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPropClosestDatewithCleaner>> GetVwGetPropClosestDatewithCleaners(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPropClosestDatewithCleaners.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPropClosestDatewithCleanersRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPropertiesWithoutSpacesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertieswithoutspaces/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertieswithoutspaces/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPropertiesWithoutSpacesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertieswithoutspaces/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertieswithoutspaces/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPropertiesWithoutSpacesRead(ref IQueryable<Destination.Models.destinationTest.VwGetPropertiesWithoutSpace> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPropertiesWithoutSpace>> GetVwGetPropertiesWithoutSpaces(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPropertiesWithoutSpaces.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPropertiesWithoutSpacesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPropertyExpensesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertyexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertyexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPropertyExpensesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertyexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertyexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPropertyExpensesRead(ref IQueryable<Destination.Models.destinationTest.VwGetPropertyExpense> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPropertyExpense>> GetVwGetPropertyExpenses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPropertyExpenses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPropertyExpensesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPropertyStatusesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertystatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertystatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPropertyStatusesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertystatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertystatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPropertyStatusesRead(ref IQueryable<Destination.Models.destinationTest.VwGetPropertyStatus> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPropertyStatus>> GetVwGetPropertyStatuses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPropertyStatuses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPropertyStatusesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPropertyStatusOnlyMaintenanceDeptsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertystatusonlymaintenancedepts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertystatusonlymaintenancedepts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPropertyStatusOnlyMaintenanceDeptsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropertystatusonlymaintenancedepts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropertystatusonlymaintenancedepts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPropertyStatusOnlyMaintenanceDeptsRead(ref IQueryable<Destination.Models.destinationTest.VwGetPropertyStatusOnlyMaintenanceDept> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPropertyStatusOnlyMaintenanceDept>> GetVwGetPropertyStatusOnlyMaintenanceDepts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPropertyStatusOnlyMaintenanceDepts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPropertyStatusOnlyMaintenanceDeptsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPropListWithControlLogsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetproplistwithcontrollogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetproplistwithcontrollogs/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPropListWithControlLogsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetproplistwithcontrollogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetproplistwithcontrollogs/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPropListWithControlLogsRead(ref IQueryable<Destination.Models.destinationTest.VwGetPropListWithControlLog> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPropListWithControlLog>> GetVwGetPropListWithControlLogs(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPropListWithControlLogs.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPropListWithControlLogsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPropReviewCountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropreviewcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropreviewcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPropReviewCountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetpropreviewcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetpropreviewcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPropReviewCountsRead(ref IQueryable<Destination.Models.destinationTest.VwGetPropReviewCount> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPropReviewCount>> GetVwGetPropReviewCounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPropReviewCounts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPropReviewCountsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetPrpertiesHotOpensToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetprpertieshotopens/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetprpertieshotopens/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetPrpertiesHotOpensToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetprpertieshotopens/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetprpertieshotopens/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetPrpertiesHotOpensRead(ref IQueryable<Destination.Models.destinationTest.VwGetPrpertiesHotOpen> items);

        public async Task<List<Destination.Models.destinationTest.VwGetPrpertiesHotOpen>> GetVwGetPrpertiesHotOpens(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetPrpertiesHotOpens.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetPrpertiesHotOpensRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetSnapshotTotalsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetsnapshottotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetsnapshottotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetSnapshotTotalsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetsnapshottotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetsnapshottotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetSnapshotTotalsRead(ref IQueryable<Destination.Models.destinationTest.VwGetSnapshotTotal> items);

        public async Task<List<Destination.Models.destinationTest.VwGetSnapshotTotal>> GetVwGetSnapshotTotals(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetSnapshotTotals.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetSnapshotTotalsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetSnapshotTotalPiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetsnapshottotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetsnapshottotalpies/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetSnapshotTotalPiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetsnapshottotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetsnapshottotalpies/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetSnapshotTotalPiesRead(ref IQueryable<Destination.Models.destinationTest.VwGetSnapshotTotalPy> items);

        public async Task<List<Destination.Models.destinationTest.VwGetSnapshotTotalPy>> GetVwGetSnapshotTotalPies(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetSnapshotTotalPies.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetSnapshotTotalPiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetTotalBkngsForBookingsDashboardQueriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalbkngsforbookingsdashboardqueries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalbkngsforbookingsdashboardqueries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetTotalBkngsForBookingsDashboardQueriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalbkngsforbookingsdashboardqueries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalbkngsforbookingsdashboardqueries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetTotalBkngsForBookingsDashboardQueriesRead(ref IQueryable<Destination.Models.destinationTest.VwGetTotalBkngsForBookingsDashboardQuery> items);

        public async Task<List<Destination.Models.destinationTest.VwGetTotalBkngsForBookingsDashboardQuery>> GetVwGetTotalBkngsForBookingsDashboardQueries(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetTotalBkngsForBookingsDashboardQueries.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetTotalBkngsForBookingsDashboardQueriesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetTotalExpensesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetTotalExpensesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetTotalExpensesRead(ref IQueryable<Destination.Models.destinationTest.VwGetTotalExpense> items);

        public async Task<List<Destination.Models.destinationTest.VwGetTotalExpense>> GetVwGetTotalExpenses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetTotalExpenses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetTotalExpensesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetTotalExpensesOnlyMaintenanceDeptsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalexpensesonlymaintenancedepts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalexpensesonlymaintenancedepts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetTotalExpensesOnlyMaintenanceDeptsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalexpensesonlymaintenancedepts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalexpensesonlymaintenancedepts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetTotalExpensesOnlyMaintenanceDeptsRead(ref IQueryable<Destination.Models.destinationTest.VwGetTotalExpensesOnlyMaintenanceDept> items);

        public async Task<List<Destination.Models.destinationTest.VwGetTotalExpensesOnlyMaintenanceDept>> GetVwGetTotalExpensesOnlyMaintenanceDepts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetTotalExpensesOnlyMaintenanceDepts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetTotalExpensesOnlyMaintenanceDeptsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetTotalExpensesFilteredsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalexpensesfiltereds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalexpensesfiltereds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetTotalExpensesFilteredsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalexpensesfiltereds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalexpensesfiltereds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetTotalExpensesFilteredsRead(ref IQueryable<Destination.Models.destinationTest.VwGetTotalExpensesFiltered> items);

        public async Task<List<Destination.Models.destinationTest.VwGetTotalExpensesFiltered>> GetVwGetTotalExpensesFiltereds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetTotalExpensesFiltereds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetTotalExpensesFilteredsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetTotalInquiriesForBookingsDashboardQueriesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalinquiriesforbookingsdashboardqueries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalinquiriesforbookingsdashboardqueries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetTotalInquiriesForBookingsDashboardQueriesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettotalinquiriesforbookingsdashboardqueries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettotalinquiriesforbookingsdashboardqueries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetTotalInquiriesForBookingsDashboardQueriesRead(ref IQueryable<Destination.Models.destinationTest.VwGetTotalInquiriesForBookingsDashboardQuery> items);

        public async Task<List<Destination.Models.destinationTest.VwGetTotalInquiriesForBookingsDashboardQuery>> GetVwGetTotalInquiriesForBookingsDashboardQueries(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetTotalInquiriesForBookingsDashboardQueries.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetTotalInquiriesForBookingsDashboardQueriesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetTrackedUsers1ToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettrackedusers1/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettrackedusers1/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetTrackedUsers1ToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgettrackedusers1/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgettrackedusers1/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetTrackedUsers1Read(ref IQueryable<Destination.Models.destinationTest.VwGetTrackedUser1> items);

        public async Task<List<Destination.Models.destinationTest.VwGetTrackedUser1>> GetVwGetTrackedUsers1(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetTrackedUsers1.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetTrackedUsers1Read(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetUniqueTenantsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetuniquetenants/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetuniquetenants/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetUniqueTenantsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetuniquetenants/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetuniquetenants/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetUniqueTenantsRead(ref IQueryable<Destination.Models.destinationTest.VwGetUniqueTenant> items);

        public async Task<List<Destination.Models.destinationTest.VwGetUniqueTenant>> GetVwGetUniqueTenants(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetUniqueTenants.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetUniqueTenantsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetWorkingBookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetworkingbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetworkingbookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetWorkingBookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetworkingbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetworkingbookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetWorkingBookingsRead(ref IQueryable<Destination.Models.destinationTest.VwGetWorkingBooking> items);

        public async Task<List<Destination.Models.destinationTest.VwGetWorkingBooking>> GetVwGetWorkingBookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetWorkingBookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetWorkingBookingsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwGetYearWiseTotalsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetyearwisetotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetyearwisetotals/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwGetYearWiseTotalsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwgetyearwisetotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwgetyearwisetotals/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwGetYearWiseTotalsRead(ref IQueryable<Destination.Models.destinationTest.VwGetYearWiseTotal> items);

        public async Task<List<Destination.Models.destinationTest.VwGetYearWiseTotal>> GetVwGetYearWiseTotals(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwGetYearWiseTotals.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwGetYearWiseTotalsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwLastBookedOnsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastbookedons/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastbookedons/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwLastBookedOnsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastbookedons/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastbookedons/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwLastBookedOnsRead(ref IQueryable<Destination.Models.destinationTest.VwLastBookedOn> items);

        public async Task<List<Destination.Models.destinationTest.VwLastBookedOn>> GetVwLastBookedOns(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwLastBookedOns.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwLastBookedOnsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwLastDateChangedOfLockBoxesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastdatechangedoflockboxes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastdatechangedoflockboxes/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwLastDateChangedOfLockBoxesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastdatechangedoflockboxes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastdatechangedoflockboxes/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwLastDateChangedOfLockBoxesRead(ref IQueryable<Destination.Models.destinationTest.VwLastDateChangedOfLockBox> items);

        public async Task<List<Destination.Models.destinationTest.VwLastDateChangedOfLockBox>> GetVwLastDateChangedOfLockBoxes(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwLastDateChangedOfLockBoxes.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwLastDateChangedOfLockBoxesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwLastDoorCodeChangedPerPropertiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastdoorcodechangedperproperties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastdoorcodechangedperproperties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwLastDoorCodeChangedPerPropertiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastdoorcodechangedperproperties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastdoorcodechangedperproperties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwLastDoorCodeChangedPerPropertiesRead(ref IQueryable<Destination.Models.destinationTest.VwLastDoorCodeChangedPerProperty> items);

        public async Task<List<Destination.Models.destinationTest.VwLastDoorCodeChangedPerProperty>> GetVwLastDoorCodeChangedPerProperties(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwLastDoorCodeChangedPerProperties.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwLastDoorCodeChangedPerPropertiesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwLastRecordedOwnerCommunicationsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastrecordedownercommunications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastrecordedownercommunications/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwLastRecordedOwnerCommunicationsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwlastrecordedownercommunications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwlastrecordedownercommunications/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwLastRecordedOwnerCommunicationsRead(ref IQueryable<Destination.Models.destinationTest.VwLastRecordedOwnerCommunication> items);

        public async Task<List<Destination.Models.destinationTest.VwLastRecordedOwnerCommunication>> GetVwLastRecordedOwnerCommunications(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwLastRecordedOwnerCommunications.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwLastRecordedOwnerCommunicationsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwMaintenanceNextDateFromsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwmaintenancenextdatefroms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwmaintenancenextdatefroms/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwMaintenanceNextDateFromsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwmaintenancenextdatefroms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwmaintenancenextdatefroms/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwMaintenanceNextDateFromsRead(ref IQueryable<Destination.Models.destinationTest.VwMaintenanceNextDateFrom> items);

        public async Task<List<Destination.Models.destinationTest.VwMaintenanceNextDateFrom>> GetVwMaintenanceNextDateFroms(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwMaintenanceNextDateFroms.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwMaintenanceNextDateFromsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwNetPaymentsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwnetpayments/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwnetpayments/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwNetPaymentsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwnetpayments/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwnetpayments/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwNetPaymentsRead(ref IQueryable<Destination.Models.destinationTest.VwNetPayment> items);

        public async Task<List<Destination.Models.destinationTest.VwNetPayment>> GetVwNetPayments(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwNetPayments.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwNetPaymentsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwPaymentSummariesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwpaymentsummaries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwpaymentsummaries/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwPaymentSummariesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwpaymentsummaries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwpaymentsummaries/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwPaymentSummariesRead(ref IQueryable<Destination.Models.destinationTest.VwPaymentSummary> items);

        public async Task<List<Destination.Models.destinationTest.VwPaymentSummary>> GetVwPaymentSummaries(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwPaymentSummaries.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwPaymentSummariesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwPropertyOccupiedStatusesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwpropertyoccupiedstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwpropertyoccupiedstatuses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwPropertyOccupiedStatusesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwpropertyoccupiedstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwpropertyoccupiedstatuses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwPropertyOccupiedStatusesRead(ref IQueryable<Destination.Models.destinationTest.VwPropertyOccupiedStatus> items);

        public async Task<List<Destination.Models.destinationTest.VwPropertyOccupiedStatus>> GetVwPropertyOccupiedStatuses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwPropertyOccupiedStatuses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwPropertyOccupiedStatusesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwRptGetLastCleanedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwrptgetlastcleaneds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwrptgetlastcleaneds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwRptGetLastCleanedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwrptgetlastcleaneds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwrptgetlastcleaneds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwRptGetLastCleanedsRead(ref IQueryable<Destination.Models.destinationTest.VwRptGetLastCleaned> items);

        public async Task<List<Destination.Models.destinationTest.VwRptGetLastCleaned>> GetVwRptGetLastCleaneds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwRptGetLastCleaneds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwRptGetLastCleanedsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwSpringCleaningsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwspringcleanings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwspringcleanings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwSpringCleaningsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwspringcleanings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwspringcleanings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwSpringCleaningsRead(ref IQueryable<Destination.Models.destinationTest.VwSpringCleaning> items);

        public async Task<List<Destination.Models.destinationTest.VwSpringCleaning>> GetVwSpringCleanings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwSpringCleanings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwSpringCleaningsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwSumPropertyExpensesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwsumpropertyexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwsumpropertyexpenses/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwSumPropertyExpensesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwsumpropertyexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwsumpropertyexpenses/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwSumPropertyExpensesRead(ref IQueryable<Destination.Models.destinationTest.VwSumPropertyExpense> items);

        public async Task<List<Destination.Models.destinationTest.VwSumPropertyExpense>> GetVwSumPropertyExpenses(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwSumPropertyExpenses.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwSumPropertyExpensesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwTenantCountsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwtenantcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwtenantcounts/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwTenantCountsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwtenantcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwtenantcounts/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwTenantCountsRead(ref IQueryable<Destination.Models.destinationTest.VwTenantCount> items);

        public async Task<List<Destination.Models.destinationTest.VwTenantCount>> GetVwTenantCounts(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwTenantCounts.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwTenantCountsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportVwUnbalancedsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwunbalanceds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwunbalanceds/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportVwUnbalancedsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/vwunbalanceds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/vwunbalanceds/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnVwUnbalancedsRead(ref IQueryable<Destination.Models.destinationTest.VwUnbalanced> items);

        public async Task<List<Destination.Models.destinationTest.VwUnbalanced>> GetVwUnbalanceds(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.VwUnbalanceds.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnVwUnbalancedsRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportWarrrantiesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/warrranties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/warrranties/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportWarrrantiesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/warrranties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/warrranties/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnWarrrantiesRead(ref IQueryable<Destination.Models.destinationTest.Warrranty> items);

        public async Task<List<Destination.Models.destinationTest.Warrranty>> GetWarrranties(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Warrranties.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnWarrrantiesRead(ref items);

return await items.ToListAsync();
        }

        partial void OnWarrrantyGet(Destination.Models.destinationTest.Warrranty item);
        partial void OnGetWarrrantyByWarrantyid(ref IQueryable<Destination.Models.destinationTest.Warrranty> items);


        public async Task<Destination.Models.destinationTest.Warrranty> GetWarrrantyByWarrantyid(int warrantyid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.Warrranties
                              .AsNoTracking()
                              .Where(i => i.Warrantyid == warrantyid);

 
            OnGetWarrrantyByWarrantyid(ref items);

            var itemToReturn = items.FirstOrDefault();

            OnWarrrantyGet(itemToReturn);

            return await Task.FromResult(itemToReturn);
        }

        partial void OnWarrrantyCreated(Destination.Models.destinationTest.Warrranty item);
        partial void OnAfterWarrrantyCreated(Destination.Models.destinationTest.Warrranty item);

        public async Task<Destination.Models.destinationTest.Warrranty> CreateWarrranty(Destination.Models.destinationTest.Warrranty warrranty)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnWarrrantyCreated(warrranty);

            var existingItem = context.Warrranties
                              .Where(i => i.Warrantyid == warrranty.Warrantyid)
                              .FirstOrDefault();

            if (existingItem != null)
            {
               throw new Exception("Item already available");
            }            

            try
            {
                context.Warrranties.Add(warrranty);
                context.SaveChanges();
            }
            catch
            {
                context.Entry(warrranty).State = EntityState.Detached;
                throw;
            }

            OnAfterWarrrantyCreated(warrranty);

            return warrranty;
        }

        public async Task<Destination.Models.destinationTest.Warrranty> CancelWarrrantyChanges(Destination.Models.destinationTest.Warrranty item)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var entityToCancel = context.Entry(item);
            if (entityToCancel.State == EntityState.Modified)
            {
              entityToCancel.CurrentValues.SetValues(entityToCancel.OriginalValues);
              entityToCancel.State = EntityState.Unchanged;
            }

            return item;
        }

        partial void OnWarrrantyUpdated(Destination.Models.destinationTest.Warrranty item);
        partial void OnAfterWarrrantyUpdated(Destination.Models.destinationTest.Warrranty item);

        public async Task<Destination.Models.destinationTest.Warrranty> UpdateWarrranty(int warrantyid, Destination.Models.destinationTest.Warrranty warrranty)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            OnWarrrantyUpdated(warrranty);

            var itemToUpdate = context.Warrranties
                              .Where(i => i.Warrantyid == warrranty.Warrantyid)
                              .FirstOrDefault();

            if (itemToUpdate == null)
            {
               throw new Exception("Item no longer available");
            }
                
            var entryToUpdate = context.Entry(itemToUpdate);
            entryToUpdate.CurrentValues.SetValues(warrranty);
            entryToUpdate.State = EntityState.Modified;

            context.SaveChanges();

            OnAfterWarrrantyUpdated(warrranty);

            return warrranty;
        }

        partial void OnWarrrantyDeleted(Destination.Models.destinationTest.Warrranty item);
        partial void OnAfterWarrrantyDeleted(Destination.Models.destinationTest.Warrranty item);

        public async Task<Destination.Models.destinationTest.Warrranty> DeleteWarrranty(int warrantyid)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var itemToDelete = context.Warrranties
                              .Where(i => i.Warrantyid == warrantyid)
                              .FirstOrDefault();

            if (itemToDelete == null)
            {
               throw new Exception("Item no longer available");
            }

            OnWarrrantyDeleted(itemToDelete);


            context.Warrranties.Remove(itemToDelete);

            try
            {
                context.SaveChanges();
            }
            catch
            {
                context.Entry(itemToDelete).State = EntityState.Unchanged;
                throw;
            }

            OnAfterWarrrantyDeleted(itemToDelete);

            return itemToDelete;
        }
    
        public async Task ExportWebPageTemplatesToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/webpagetemplates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/webpagetemplates/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportWebPageTemplatesToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/webpagetemplates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/webpagetemplates/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnWebPageTemplatesRead(ref IQueryable<Destination.Models.destinationTest.WebPageTemplate> items);

        public async Task<List<Destination.Models.destinationTest.WebPageTemplate>> GetWebPageTemplates(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.WebPageTemplates.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnWebPageTemplatesRead(ref items);

return await items.ToListAsync();
        }

        public async Task ExportRdzVwGet2024BookingsToExcel(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/rdzvwget2024bookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/rdzvwget2024bookings/excel(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        public async Task ExportRdzVwGet2024BookingsToCSV(Query query = null, string fileName = null)
        {
            navigationManager.NavigateTo(query != null ? query.ToUrl($"export/destinationtest/rdzvwget2024bookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')") : $"export/destinationtest/rdzvwget2024bookings/csv(fileName='{(!string.IsNullOrEmpty(fileName) ? UrlEncoder.Default.Encode(fileName) : "Export")}')", true);
        }

        partial void OnRdzVwGet2024BookingsRead(ref IQueryable<Destination.Models.destinationTest.RdzVwGet2024Booking> items);

        public async Task<List<Destination.Models.destinationTest.RdzVwGet2024Booking>> GetRdzVwGet2024Bookings(Query query = null)
        {
            using var context = await _dbcontextFactory.CreateDbContextAsync();

            var items = context.RdzVwGet2024Bookings.AsQueryable();


            if (query != null)
            {
                if (!string.IsNullOrEmpty(query.Expand))
                {
                    var propertiesToExpand = query.Expand.Split(',');
                    foreach(var p in propertiesToExpand)
                    {
                        items = items.Include(p.Trim());
                    }
                }

                ApplyQuery(ref items, query);
            }

            OnRdzVwGet2024BookingsRead(ref items);

return await items.ToListAsync();
        }
    }
}